(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(19).concat([function(e,t,n){var a,i,r;r=this,a=[n(29),n(147),n(148),n(149)],void 0===(i=function(e,t,n,a){return r.Simditor=function(e,t,n,a,i){var r,o,s,l,c,d,u,p,h,m,f,g,v,b,_,y,w,E,k,x,S,C,N,T,O,A,I,j,R,L,M,P,B,D,z=function(e,t){for(var n in t)F.call(t,n)&&(e[n]=t[n]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e},F={}.hasOwnProperty,H=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},U=[].slice;return O=function(n){function a(){return a.__super__.constructor.apply(this,arguments)}return z(a,t),a.pluginName="Selection",a.prototype._range=null,a.prototype._startNodes=null,a.prototype._endNodes=null,a.prototype._containerNode=null,a.prototype._nodes=null,a.prototype._blockNodes=null,a.prototype._rootNodes=null,a.prototype._init=function(){var e;return this.editor=this._module,this._selection=document.getSelection(),this.editor.on("selectionchanged",(e=this,function(t){return e.reset(),e._range=e._selection.getRangeAt(0)})),this.editor.on("blur",function(e){return function(t){return e.reset()}}(this)),this.editor.on("focus",function(e){return function(t){return e.reset(),e._range=e._selection.getRangeAt(0)}}(this))},a.prototype.reset=function(){return this._range=null,this._startNodes=null,this._endNodes=null,this._containerNode=null,this._nodes=null,this._blockNodes=null,this._rootNodes=null},a.prototype.clear=function(){try{this._selection.removeAllRanges()}catch(e){}return this.reset()},a.prototype.range=function(e){var t;return e?(this.clear(),this._selection.addRange(e),this._range=e,t=this.editor.util.browser.firefox||this.editor.util.browser.msie,!this.editor.inputManager.focused&&t&&this.editor.body.focus()):!this._range&&this.editor.inputManager.focused&&this._selection.rangeCount&&(this._range=this._selection.getRangeAt(0)),this._range},a.prototype.startNodes=function(){var t;return this._range&&(this._startNodes||(this._startNodes=(t=this,function(){var n;return(n=e(t._range.startContainer).parentsUntil(t.editor.body).get()).unshift(t._range.startContainer),e(n)})())),this._startNodes},a.prototype.endNodes=function(){var t;return this._range&&(this._endNodes||(this._endNodes=this._range.collapsed?this.startNodes():((t=e(this._range.endContainer).parentsUntil(this.editor.body).get()).unshift(this._range.endContainer),e(t)))),this._endNodes},a.prototype.containerNode=function(){return this._range&&(this._containerNode||(this._containerNode=e(this._range.commonAncestorContainer))),this._containerNode},a.prototype.nodes=function(){var t;return this._range&&(this._nodes||(this._nodes=(t=this,function(){var n;return n=[],t.startNodes().first().is(t.endNodes().first())?n=t.startNodes().get():(t.startNodes().each(function(a,i){var r,o,s,l,c,d,u;return o=e(i),t.endNodes().index(o)>-1?n.push(i):o.parent().is(t.editor.body)||(d=t.endNodes().index(o.parent()))>-1?(r=d&&d>-1?t.endNodes().eq(d-1):t.endNodes().last(),u=(s=o.parent().contents()).index(o),l=s.index(r),e.merge(n,s.slice(u,l).get())):(c=(s=o.parent().contents()).index(o),e.merge(n,s.slice(c).get()))}),t.endNodes().each(function(a,i){var r,o,s;return(r=e(i)).parent().is(t.editor.body)||t.startNodes().index(r.parent())>-1?(n.push(i),!1):(s=(o=r.parent().contents()).index(r),e.merge(n,o.slice(0,s+1)))})),e(e.unique(n))})())),this._nodes},a.prototype.blockNodes=function(){var e;if(this._range)return this._blockNodes||(this._blockNodes=(e=this,function(){return e.nodes().filter(function(t,n){return e.editor.util.isBlockNode(n)})})()),this._blockNodes},a.prototype.rootNodes=function(){var t;if(this._range)return this._rootNodes||(this._rootNodes=(t=this,function(){return t.nodes().filter(function(n,a){var i;return(i=e(a).parent()).is(t.editor.body)||i.is("blockquote")})})()),this._rootNodes},a.prototype.rangeAtEndOf=function(t,n){var a,i,r,o,s,l;if(null==n&&(n=this.range()),n&&n.collapsed)return t=e(t)[0],r=n.endContainer,o=this.editor.util.getNodeLength(r),i=n.endOffset===o-1,s=e(r).contents().last().is("br"),a=n.endOffset===o,!!(i&&s||a)&&(t===r||!!e.contains(t,r)&&(l=!0,e(r).parentsUntil(t).addBack().each(function(t,n){var a,i,r;if(r=(a=e(n).parent().contents().filter(function(){return!(this!==n&&3===this.nodeType&&!this.nodeValue)}).last()).get(0)===n,i=a.is("br")&&a.prev().get(0)===n,!r&&!i)return l=!1,!1}),l))},a.prototype.rangeAtStartOf=function(t,n){var a,i;if(null==n&&(n=this.range()),n&&n.collapsed)return t=e(t)[0],i=n.startContainer,0===n.startOffset&&(t===i||!!e.contains(t,i)&&(a=!0,e(i).parentsUntil(t).addBack().each(function(t,n){if(e(n).parent().contents().filter(function(){return!(this!==n&&3===this.nodeType&&!this.nodeValue)}).first().get(0)!==n)return a=!1}),a))},a.prototype.insertNode=function(t,n){if(null==n&&(n=this.range()),n)return t=e(t)[0],n.insertNode(t),this.setRangeAfter(t,n)},a.prototype.setRangeAfter=function(t,n){if(null==n&&(n=this.range()),null!=n)return t=e(t)[0],n.setEndAfter(t),n.collapse(!1),this.range(n)},a.prototype.setRangeBefore=function(t,n){if(null==n&&(n=this.range()),null!=n)return t=e(t)[0],n.setEndBefore(t),n.collapse(!1),this.range(n)},a.prototype.setRangeAtStartOf=function(t,n){return null==n&&(n=this.range()),t=e(t).get(0),n.setEnd(t,0),n.collapse(!1),this.range(n)},a.prototype.setRangeAtEndOf=function(t,n){var a,i,r,o,s,l,c;if(null==n&&(n=this.range()),t=(i=e(t))[0])return i.is("pre")?(r=i.contents()).length>0?(l=(o=r.last()).text(),s=this.editor.util.getNodeLength(o[0]),"\n"===l.charAt(l.length-1)?n.setEnd(o[0],s-1):n.setEnd(o[0],s)):n.setEnd(t,0):(c=this.editor.util.getNodeLength(t),3!==t.nodeType&&c>0&&((a=e(t).contents().last()).is("br")?c-=1:3!==a[0].nodeType&&this.editor.util.isEmptyNode(a)&&(a.append(this.editor.util.phBr),t=a[0],c=0)),n.setEnd(t,c)),n.collapse(!1),this.range(n)},a.prototype.deleteRangeContents=function(e){var t,n,a,i;return null==e&&(e=this.range()),i=e.cloneRange(),a=e.cloneRange(),i.collapse(!0),a.collapse(!1),n=this.rangeAtStartOf(this.editor.body,i),t=this.rangeAtEndOf(this.editor.body,a),!e.collapsed&&n&&t?(this.editor.body.empty(),e.setStart(this.editor.body[0],0),e.collapse(!0),this.range(e)):e.deleteContents(),e},a.prototype.breakBlockEl=function(t,n){var a;return null==n&&(n=this.range()),a=e(t),n.collapsed?(n.setStartBefore(a.get(0)),n.collapsed?a:a.before(n.extractContents())):a},a.prototype.save=function(t){var n,a,i;if(null==t&&(t=this.range()),!this._selectionSaved)return(a=t.cloneRange()).collapse(!1),i=e("<span/>").addClass("simditor-caret-start"),n=e("<span/>").addClass("simditor-caret-end"),a.insertNode(n[0]),t.insertNode(i[0]),this.clear(),this._selectionSaved=!0},a.prototype.restore=function(){var e,t,n,a,i,r,o;return!!this._selectionSaved&&(i=this.editor.body.find(".simditor-caret-start"),e=this.editor.body.find(".simditor-caret-end"),i.length&&e.length?(o=(r=i.parent()).contents().index(i),n=(t=e.parent()).contents().index(e),r[0]===t[0]&&(n-=1),(a=document.createRange()).setStart(r.get(0),o),a.setEnd(t.get(0),n),i.remove(),e.remove(),this.range(a)):(i.remove(),e.remove()),this._selectionSaved=!1,a)},a}(),m=function(n){function a(){return a.__super__.constructor.apply(this,arguments)}return z(a,t),a.pluginName="Formatter",a.prototype.opts={allowedTags:[],allowedAttributes:{},allowedStyles:{}},a.prototype._init=function(){return this.editor=this._module,this._allowedTags=e.merge(["br","span","a","img","b","strong","i","strike","u","font","p","ul","ol","li","blockquote","pre","code","h1","h2","h3","h4","hr"],this.opts.allowedTags),this._allowedAttributes=e.extend({img:["src","alt","width","height","data-non-image"],a:["href","target"],h1:["id"],h2:["id"],h3:["id"],h4:["id"],h5:["id"],font:["color"],code:["class"],li:["checked"],pre:["class"]},this.opts.allowedAttributes),this._allowedStyles=e.extend({span:["color","font-size"],b:["color","font-size"],i:["color","font-size"],strong:["color","font-size"],strike:["color","font-size"],u:["color","font-size"],p:["margin-left","text-align"],h1:["margin-left","text-align"],h2:["margin-left","text-align"],h3:["margin-left","text-align"],h4:["margin-left","text-align"]},this.opts.allowedStyles),this.editor.body.on("click","a",function(e){return!1})},a.prototype.decorate=function(e){return null==e&&(e=this.editor.body),this.editor.trigger("decorate",[e]),e},a.prototype.undecorate=function(e){return null==e&&(e=this.editor.body.clone()),this.editor.trigger("undecorate",[e]),e},a.prototype.autolink=function(t){var n,a,i,r,o,s,l,c,d,u,p,h,m;for(null==t&&(t=this.editor.body),l=[],(i=function(n){return n.contents().each(function(n,a){var r,o;if(!(r=e(a)).is("a")&&!r.closest("a, pre",t).length)return!r.is("iframe")&&r.contents().length?i(r):(o=r.text())&&/https?:\/\/|www\./gi.test(o)?l.push(r):void 0})})(t),d=/(https?:\/\/|www\.)[\w\-\.\?&=\/#%:,@\!\+]+/gi,r=0,s=l.length;r<s;r++){for(h=(a=l[r]).text(),u=[],c=null,o=0;null!==(c=d.exec(h));)p=h.substring(o,c.index),u.push(document.createTextNode(p)),o=d.lastIndex,m=/^(http(s)?:\/\/|\/)/.test(c[0])?c[0]:"http://"+c[0],n=e('<a href="'+m+'" rel="nofollow"></a>').text(c[0]),u.push(n[0]);u.push(document.createTextNode(h.substring(o))),a.replaceWith(e(u))}return t},a.prototype.format=function(t){var n,a,i,r,o,s,l,c,d,u;if(null==t&&(t=this.editor.body),t.is(":empty"))return t.append("<p>"+this.editor.util.phBr+"</p>"),t;for(i=0,o=(d=t.contents()).length;i<o;i++)l=d[i],this.cleanNode(l,!0);for(r=0,s=(u=t.contents()).length;r<s;r++)c=u[r],(n=e(c)).is("br")?("undefined"!==typeof a&&null!==a&&(a=null),n.remove()):this.editor.util.isBlockNode(c)?n.is("li")?a&&a.is("ul, ol")?a.append(c):(a=e("<ul/>").insertBefore(c)).append(c):a=null:(a&&!a.is("ul, ol")||(a=e("<p/>").insertBefore(c)),a.append(c),this.editor.util.isEmptyNode(a)&&a.append(this.editor.util.phBr));return t},a.prototype.cleanNode=function(t,n){var a,i,r,o,s,l,c,d,u,p,h,m,f,g,v,b,_,y;if((r=e(t)).length>0){if(3!==r[0].nodeType){if(d=r.is("iframe")?null:r.contents(),u=this.editor.util.isDecoratedNode(r),r.is(this._allowedTags.join(","))||u){if(r.is("a")&&(i=r.find("img")).length>0&&(r.replaceWith(i),r=i,d=null),r.is("td")&&(a=r.find(this.editor.util.blockNodes.join(","))).length>0&&(a.each(function(t,n){return e(n).contents().unwrap()}),d=r.contents()),r.is("img")&&r.hasClass("uploading")&&r.remove(),!u){for(l=this._allowedAttributes[r[0].tagName.toLowerCase()],p=0,m=(v=e.makeArray(r[0].attributes)).length;p<m;p++)"style"!==(c=v[p]).name&&(null!=l&&(b=c.name,H.call(l,b)>=0)||r.removeAttr(c.name));this._cleanNodeStyles(r),r.is("span")&&(0===r[0].attributes.length&&r.contents().first().unwrap(),2===r[0].style.length&&"rgb(51, 51, 51)"===r[0].style.color&&"16px"===r[0].style.fontSize&&r.contents().unwrap())}}else 1!==r[0].nodeType||r.is(":empty")?(r.remove(),d=null):r.is("div, article, dl, header, footer, tr")?(r.append("<br/>"),d.first().unwrap()):r.is("table")?(o=e("<p/>"),r.find("tr").each(function(t,n){return o.append(e(n).text()+"<br/>")}),r.replaceWith(o),d=null):r.is("thead, tfoot")?(r.remove(),d=null):r.is("th")?(s=e("<td/>").append(r.contents()),r.replaceWith(s)):d.first().unwrap();if(n&&null!=d&&!r.is("pre"))for(h=0,f=d.length;h<f;h++)g=d[h],this.cleanNode(g,!0);return null}(_=r.text().replace(/(\r\n|\n|\r)/gm,""))?(y=document.createTextNode(_),r.replaceWith(y)):r.remove()}},a.prototype._cleanNodeStyles=function(t){var n,a,i,r,o,s,l,c,d;if(c=t.attr("style")){if(t.removeAttr("style"),!((n=this._allowedStyles[t[0].tagName.toLowerCase()])&&n.length>0))return t;for(d={},a=0,i=(o=c.split(";")).length;a<i;a++)l=o[a],2===(r=(l=e.trim(l)).split(":")).length&&("font-size"===r[0]&&r[1].indexOf("px")>0&&parseInt(r[1],10)<12||(s=r[0],H.call(n,s)>=0&&(d[e.trim(r[0])]=e.trim(r[1]))));return Object.keys(d).length>0&&t.css(d),t}},a.prototype.clearHtml=function(t,n){var a,i,r,o;return null==n&&(n=!0),a=e("<div/>").append(t),i=a.contents(),r="",i.each((o=this,function(t,a){var s,l;return 3===a.nodeType?r+=a.nodeValue:1===a.nodeType&&((l=(s=e(a)).is("iframe")?null:s.contents())&&l.length>0&&(r+=o.clearHtml(l)),n&&t<i.length-1&&s.is("br, p, div, li,tr, pre, address, artticle, aside, dl, figcaption, footer, h1, h2,h3, h4, header"))?r+="\n":void 0})),r},a.prototype.beautify=function(t){var n;return n=function(e){return!!(e.is("p")&&!e.text()&&e.children(":not(br)").length<1)},t.each(function(t,a){var i;return((i=e(a)).is(':not(img, br, col, td, hr, [class^="simditor-"]):empty')||n(i))&&i.remove(),i.find(':not(img, br, col, td, hr, [class^="simditor-"]):empty').remove()})},a}(),y=function(n){function a(){return a.__super__.constructor.apply(this,arguments)}return z(a,t),a.pluginName="InputManager",a.prototype._modifierKeys=[16,17,18,91,93,224],a.prototype._arrowKeys=[37,38,39,40],a.prototype._init=function(){var t,n,a;return this.editor=this._module,this.throttledValueChanged=this.editor.util.throttle((a=this,function(e){return setTimeout(function(){return a.editor.trigger("valuechanged",e)},10)}),300),this.throttledSelectionChanged=this.editor.util.throttle(function(e){return function(){return e.editor.trigger("selectionchanged")}}(this),50),e(document).on("selectionchange.simditor"+this.editor.id,function(e){return function(t){var n;if(e.focused&&!e.editor.clipboard.pasting)return(n=function(){return e._selectionTimer&&(clearTimeout(e._selectionTimer),e._selectionTimer=null),e.editor.selection._selection.rangeCount>0?e.throttledSelectionChanged():e._selectionTimer=setTimeout(function(){if(e._selectionTimer=null,e.focused)return n()},10)})()}}(this)),this.editor.on("valuechanged",function(t){return function(){var n;if(t.lastCaretPosition=null,n=t.editor.body.children().filter(function(e,n){return t.editor.util.isBlockNode(n)}),t.focused&&0===n.length&&(t.editor.selection.save(),t.editor.formatter.format(),t.editor.selection.restore()),t.editor.body.find("h1, h2, h3, h4, h5").each(function(e,n){n.id||n.setAttribute("id",t.editor.util.randomString(10))}),t.editor.body.find("hr, pre, .simditor-table").each(function(n,a){var i;((i=e(a)).parent().is("blockquote")||i.parent()[0]===t.editor.body[0])&&(0===i.next().length&&e("<p/>").append(t.editor.util.phBr).insertAfter(i),0===i.prev().length&&e("<p/>").append(t.editor.util.phBr).insertBefore(i))}),t.editor.body.find("pre:empty").append(t.editor.util.phBr),!t.editor.util.support.onselectionchange&&t.focused)return t.throttledSelectionChanged()}}(this)),this.editor.body.on("keydown",e.proxy(this._onKeyDown,this)).on("keypress",e.proxy(this._onKeyPress,this)).on("keyup",e.proxy(this._onKeyUp,this)).on("mouseup",e.proxy(this._onMouseUp,this)).on("focus",e.proxy(this._onFocus,this)).on("blur",e.proxy(this._onBlur,this)).on("drop",e.proxy(this._onDrop,this)).on("input",e.proxy(this._onInput,this)),this.editor.util.browser.firefox&&(this.editor.hotkeys.add("cmd+left",function(e){return function(t){return t.preventDefault(),e.editor.selection._selection.modify("move","backward","lineboundary"),!1}}(this)),this.editor.hotkeys.add("cmd+right",function(e){return function(t){return t.preventDefault(),e.editor.selection._selection.modify("move","forward","lineboundary"),!1}}(this)),t=this.editor.util.os.mac?"cmd+a":"ctrl+a",this.editor.hotkeys.add(t,function(e){return function(t){var n,a,i,r;if((n=e.editor.body.children()).length>0)return a=n.first().get(0),i=n.last().get(0),(r=document.createRange()).setStart(a,0),r.setEnd(i,e.editor.util.getNodeLength(i)),e.editor.selection.range(r),!1}}(this))),n=this.editor.util.os.mac?"cmd+enter":"ctrl+enter",this.editor.hotkeys.add(n,function(e){return function(t){return e.editor.sync(),e.editor.el.closest("form").find("button:submit").click(),!1}}(this))},a.prototype._onFocus=function(e){var t;if(!this.editor.clipboard.pasting)return this.editor.el.addClass("focus").removeClass("error"),this.focused=!0,setTimeout((t=this,function(){var e,n;if((n=t.editor.selection._selection.getRangeAt(0)).startContainer===t.editor.body[0]&&(t.lastCaretPosition?t.editor.undoManager.caretPosition(t.lastCaretPosition):(e=t.editor.body.children().first(),n=document.createRange(),t.editor.selection.setRangeAtStartOf(e,n))),t.lastCaretPosition=null,t.editor.triggerHandler("focus"),!t.editor.util.support.onselectionchange)return t.throttledSelectionChanged()}),0)},a.prototype._onBlur=function(e){var t;if(!this.editor.clipboard.pasting)return this.editor.el.removeClass("focus"),this.editor.sync(),this.focused=!1,this.lastCaretPosition=null!=(t=this.editor.undoManager.currentState())?t.caret:void 0,this.editor.triggerHandler("blur")},a.prototype._onMouseUp=function(e){if(!this.editor.util.support.onselectionchange)return this.throttledSelectionChanged()},a.prototype._onKeyDown=function(e){var t,n;if(!1===this.editor.triggerHandler(e))return!1;if(!this.editor.hotkeys.respondTo(e)){if(this.editor.keystroke.respondTo(e))return this.throttledValueChanged(),!1;if(t=e.which,!(H.call(this._modifierKeys,t)>=0||(n=e.which,H.call(this._arrowKeys,n)>=0))&&(!this.editor.util.metaKey(e)||86!==e.which))return this.editor.util.support.oninput||this.throttledValueChanged(["typing"]),null}},a.prototype._onKeyPress=function(e){if(!1===this.editor.triggerHandler(e))return!1},a.prototype._onKeyUp=function(t){var n,a;if(!1===this.editor.triggerHandler(t))return!1;!this.editor.util.support.onselectionchange&&(a=t.which,H.call(this._arrowKeys,a)>=0)?this.throttledValueChanged():8!==t.which&&46!==t.which||!this.editor.util.isEmptyNode(this.editor.body)||(this.editor.body.empty(),n=e("<p/>").append(this.editor.util.phBr).appendTo(this.editor.body),this.editor.selection.setRangeAtStartOf(n))},a.prototype._onDrop=function(e){return!1!==this.editor.triggerHandler(e)&&this.throttledValueChanged()},a.prototype._onInput=function(e){return this.throttledValueChanged(["oninput"])},a}(),E=function(n){function a(){return a.__super__.constructor.apply(this,arguments)}return z(a,t),a.pluginName="Keystroke",a.prototype._init=function(){return this.editor=this._module,this._keystrokeHandlers={},this._initKeystrokeHandlers()},a.prototype.add=function(e,t,n){return e=e.toLowerCase(),e=this.editor.hotkeys.constructor.aliases[e]||e,this._keystrokeHandlers[e]||(this._keystrokeHandlers[e]={}),this._keystrokeHandlers[e][t]=n},a.prototype.respondTo=function(t){var n,a,i,r,o;if((a=null!=(i=this.editor.hotkeys.constructor.keyNameMap[t.which])?i.toLowerCase():void 0)&&a in this._keystrokeHandlers){if(!(r="function"===typeof(n=this._keystrokeHandlers[a])["*"]?n["*"](t):void 0)){if(!this.editor.selection.startNodes())return;this.editor.selection.startNodes().each((o=this,function(n,i){var s,l;if(i.nodeType===Node.ELEMENT_NODE)return s=null!=(l=o._keystrokeHandlers[a])?l[i.tagName.toLowerCase()]:void 0,!0!==(r="function"===typeof s?s(t,e(i)):void 0)&&!1!==r&&void 0}))}if(r)return!0}},a.prototype._initKeystrokeHandlers=function(){var t,n;return this.editor.util.browser.safari&&this.add("enter","*",(n=this,function(t){var a,i;if(t.shiftKey&&!(a=n.editor.selection.blockNodes().last()).is("pre"))return i=e("<br/>"),n.editor.selection.rangeAtEndOf(a)?(n.editor.selection.insertNode(i),n.editor.selection.insertNode(e("<br/>")),n.editor.selection.setRangeBefore(i)):n.editor.selection.insertNode(i),!0})),(this.editor.util.browser.webkit||this.editor.util.browser.msie)&&(t=function(t){return function(n,a){var i;if(t.editor.selection.rangeAtEndOf(a))return i=e("<p/>").append(t.editor.util.phBr).insertAfter(a),t.editor.selection.setRangeAtStartOf(i),!0}}(this),this.add("enter","h1",t),this.add("enter","h2",t),this.add("enter","h3",t),this.add("enter","h4",t),this.add("enter","h5",t),this.add("enter","h6",t)),this.add("backspace","*",function(e){return function(t){var n,a,i;return(a=(i=e.editor.selection.rootNodes().first()).prev()).is("hr")&&e.editor.selection.rangeAtStartOf(i)?(e.editor.selection.save(),a.remove(),e.editor.selection.restore(),!0):((n=e.editor.selection.blockNodes().last()).is(".simditor-resize-handle")&&i.is(".simditor-table")&&(t.preventDefault(),i.remove(),e.editor.selection.setRangeAtEndOf(a)),a.is(".simditor-table")&&!n.is("table")&&e.editor.util.isEmptyNode(n)&&(t.preventDefault(),n.remove(),e.editor.selection.setRangeAtEndOf(a)),e.editor.util.browser.webkit&&e.editor.selection.rangeAtStartOf(n)?(e.editor.selection.save(),e.editor.formatter.cleanNode(n,!0),e.editor.selection.restore(),null):void 0)}}(this)),this.add("enter","div",function(t){return function(n,a){var i;if(a.is(".simditor-table")&&t.editor.selection.blockNodes().last().is(".simditor-resize-handle"))return n.preventDefault(),i=e("<p/>").append(t.editor.util.phBr).insertAfter(a),t.editor.selection.setRangeAtStartOf(i)}}(this)),this.add("enter","li",function(t){return function(n,a){var i,r,o,s;if((i=a.clone()).find("ul, ol").remove(),t.editor.util.isEmptyNode(i)&&a.is(t.editor.selection.blockNodes().last())){if(r=a.parent(),a.next("li").length>0){if(!t.editor.util.isEmptyNode(a))return;r.parent("li").length>0?(o=e("<li/>").append(t.editor.util.phBr).insertAfter(r.parent("li")),s=e("<"+r[0].tagName+"/>").append(a.nextAll("li")),o.append(s)):(o=e("<p/>").append(t.editor.util.phBr).insertAfter(r),s=e("<"+r[0].tagName+"/>").append(a.nextAll("li")),o.after(s))}else r.parent("li").length>0?(o=e("<li/>").insertAfter(r.parent("li")),a.contents().length>0?o.append(a.contents()):o.append(t.editor.util.phBr)):(o=e("<p/>").append(t.editor.util.phBr).insertAfter(r),a.children("ul, ol").length>0&&o.after(a.children("ul, ol")));return a.prev("li").length?a.remove():a.prev("ul").length||a.prev("ol").length?a.remove():r.remove(),t.editor.selection.setRangeAtStartOf(o),!0}}}(this)),this.add("enter","pre",function(t){return function(n,a){var i,r,o;return n.preventDefault(),n.shiftKey?(i=e("<p/>").append(t.editor.util.phBr).insertAfter(a),t.editor.selection.setRangeAtStartOf(i),!0):(r=null,(o=t.editor.selection.range()).deleteContents(),r=!t.editor.util.browser.msie&&t.editor.selection.rangeAtEndOf(a)?document.createTextNode("\n\n"):document.createTextNode("\n"),o.insertNode(r),o.setEnd(r,1),o.collapse(!1),t.editor.selection.range(o),!0)}}(this)),this.add("enter","blockquote",function(e){return function(t,n){var a,i;if((a=e.editor.selection.blockNodes().last()).is("p")&&!a.next().length&&e.editor.util.isEmptyNode(a))return n.after(a),i=document.createRange(),e.editor.selection.setRangeAtStartOf(a,i),!0}}(this)),this.add("backspace","li",function(t){return function(n,a){var i,r,o,s,l,c,d,u,p;return r=a.children("ul, ol"),l=a.prev("li"),r.length>0&&l.length>0&&(p="",c=null,a.contents().each(function(t,n){return(1!==n.nodeType||!/UL|OL/.test(n.nodeName))&&(1===n.nodeType&&/BR/.test(n.nodeName)?void 0:(3===n.nodeType&&n.nodeValue?p+=n.nodeValue:1===n.nodeType&&(p+=e(n).text()),c=e(n)))}),d=t.editor.util.browser.firefox&&!c.next("br").length,c&&1===p.length&&d?(i=e(t.editor.util.phBr).insertAfter(c),c.remove(),t.editor.selection.setRangeBefore(i),!0):!(p.length>0)&&(u=document.createRange(),(s=l.children("ul, ol")).length>0?(o=e("<li/>").append(t.editor.util.phBr).appendTo(s),s.append(r.children("li")),a.remove(),t.editor.selection.setRangeAtEndOf(o,u)):(t.editor.selection.setRangeAtEndOf(l,u),l.append(r),a.remove(),t.editor.selection.range(u)),!0))}}(this)),this.add("backspace","pre",function(t){return function(n,a){var i,r,o;if(t.editor.selection.rangeAtStartOf(a))return r=a.html().replace("\n","<br/>")||t.editor.util.phBr,i=e("<p/>").append(r).insertAfter(a),a.remove(),o=document.createRange(),t.editor.selection.setRangeAtStartOf(i,o),!0}}(this)),this.add("backspace","blockquote",function(e){return function(t,n){var a,i;if(e.editor.selection.rangeAtStartOf(n))return a=n.children().first().unwrap(),i=document.createRange(),e.editor.selection.setRangeAtStartOf(a,i),!0}}(this))},a}(),P=function(n){function a(){return a.__super__.constructor.apply(this,arguments)}return z(a,t),a.pluginName="UndoManager",a.prototype._index=-1,a.prototype._capacity=20,a.prototype._startPosition=null,a.prototype._endPosition=null,a.prototype._init=function(){var e,t,n;return this.editor=this._module,this._stack=[],this.editor.util.os.mac?(t="cmd+z",e="shift+cmd+z"):this.editor.util.os.win?(t="ctrl+z",e="ctrl+y"):(t="ctrl+z",e="shift+ctrl+z"),this.editor.hotkeys.add(t,(n=this,function(e){return e.preventDefault(),n.undo(),!1})),this.editor.hotkeys.add(e,function(e){return function(t){return t.preventDefault(),e.redo(),!1}}(this)),this.throttledPushState=this.editor.util.throttle(function(e){return function(){return e._pushUndoState()}}(this),2e3),this.editor.on("valuechanged",function(e){return function(t,n){if("undo"!==n&&"redo"!==n)return e.throttledPushState()}}(this)),this.editor.on("selectionchanged",function(e){return function(t){return e.resetCaretPosition(),e.update()}}(this)),this.editor.on("focus",function(e){return function(t){if(0===e._stack.length)return e._pushUndoState()}}(this)),this.editor.on("blur",function(e){return function(t){return e.resetCaretPosition()}}(this))},a.prototype.resetCaretPosition=function(){return this._startPosition=null,this._endPosition=null},a.prototype.startPosition=function(){return this.editor.selection._range&&(this._startPosition||(this._startPosition=this._getPosition("start"))),this._startPosition},a.prototype.endPosition=function(){var e;return this.editor.selection._range&&(this._endPosition||(this._endPosition=(e=this,function(){return e.editor.selection.range().collapsed?e._startPosition:e._getPosition("end")})())),this._endPosition},a.prototype._pushUndoState=function(){if(!1!==this.editor.triggerHandler("pushundostate")&&this.caretPosition().start)return this._index+=1,this._stack.length=this._index,this._stack.push({html:this.editor.body.html(),caret:this.caretPosition()}),this._stack.length>this._capacity?(this._stack.shift(),this._index-=1):void 0},a.prototype.currentState=function(){return this._stack.length&&this._index>-1?this._stack[this._index]:null},a.prototype.undo=function(){var e;if(!(this._index<1||this._stack.length<2))return this.editor.hidePopover(),this._index-=1,e=this._stack[this._index],this.editor.body.get(0).innerHTML=e.html,this.caretPosition(e.caret),this.editor.body.find(".selected").removeClass("selected"),this.editor.sync(),this.editor.trigger("valuechanged",["undo"])},a.prototype.redo=function(){var e;if(!(this._index<0||this._stack.length<this._index+2))return this.editor.hidePopover(),this._index+=1,e=this._stack[this._index],this.editor.body.get(0).innerHTML=e.html,this.caretPosition(e.caret),this.editor.body.find(".selected").removeClass("selected"),this.editor.sync(),this.editor.trigger("valuechanged",["redo"])},a.prototype.update=function(){var e;if(e=this.currentState())return e.html=this.editor.body.html(),e.caret=this.caretPosition()},a.prototype._getNodeOffset=function(t,n){var a,i,r;return a=e.isNumeric(n)?e(t):e(t).parent(),r=0,i=!1,a.contents().each(function(e,a){return t!==a&&(n!==e||0!==e)&&(a.nodeType===Node.TEXT_NODE?!i&&a.nodeValue.length>0&&(r+=1,i=!0):(r+=1,i=!1),n-1!==e&&null)}),r},a.prototype._getPosition=function(t){var n,a,i,r,o,s,l;if(null==t&&(t="start"),r=this.editor.selection.range()[t+"Offset"],(a=(n=this.editor.selection[t+"Nodes"]()).first()[0]).nodeType===Node.TEXT_NODE){for(s=a.previousSibling;s&&s.nodeType===Node.TEXT_NODE;)a=s,r+=this.editor.util.getNodeLength(s),s=s.previousSibling;(i=n.get())[0]=a,n=e(i)}else r=this._getNodeOffset(a,r);return o=[r],n.each((l=this,function(e,t){return o.unshift(l._getNodeOffset(t))})),o},a.prototype._getNodeByPosition=function(t){var n,a,i,r,o,s,l,c;for(s=this.editor.body[0],i=r=0,o=(c=t.slice(0,t.length-1)).length;r<o;i=++r){if((l=c[i])>(a=s.childNodes).length-1){if(i!==t.length-2||!e(s).is(":empty")){s=null;break}n=document.createTextNode(""),s.appendChild(n),a=s.childNodes}s=a[l]}return s},a.prototype.caretPosition=function(e){var t,n,a,i,r;if(e){if(!e.start)return;return i=this._getNodeByPosition(e.start),r=e.start[e.start.length-1],e.collapsed?(t=i,n=r):(t=this._getNodeByPosition(e.end),n=e.start[e.start.length-1]),i&&t?((a=document.createRange()).setStart(i,r),a.setEnd(t,n),this.editor.selection.range(a)):void("undefined"!==typeof console&&null!==console&&"function"===typeof console.info&&console.info("simditor: invalid caret state"))}return a=this.editor.selection.range(),e=this.editor.inputManager.focused&&null!=a?{start:this.startPosition(),end:this.endPosition(),collapsed:a.collapsed}:{}},a}(),D=function(n){function a(){return a.__super__.constructor.apply(this,arguments)}return z(a,t),a.pluginName="Util",a.prototype._init=function(){if(this.editor=this._module,this.browser.msie&&this.browser.version<11)return this.phBr=""},a.prototype.randomString=function(e){for(var t="",n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",a=e||8;a>0;--a)t+=n[Math.floor(Math.random()*n.length)];return t},a.prototype.phBr="<br/>",a.prototype.os=function(){var e;return e={},/Mac/.test(navigator.appVersion)?e.mac=!0:/Linux/.test(navigator.appVersion)?e.linux=!0:/Win/.test(navigator.appVersion)?e.win=!0:/X11/.test(navigator.appVersion)&&(e.unix=!0),/Mobi/.test(navigator.appVersion)&&(e.mobile=!0),e}(),a.prototype.browser=function(){var e,t,n,a,i,r,o,s,l,c,d;return d=navigator.userAgent,a=/(msie|trident)/i.test(d),e=/chrome|crios/i.test(d),c=/safari/i.test(d)&&!e,n=/firefox/i.test(d),t=/edge/i.test(d),a?{msie:!0,version:1*(null!=(i=d.match(/(msie |rv:)(\d+(\.\d+)?)/i))?i[2]:void 0)}:t?{edge:!0,webkit:!0,version:1*(null!=(r=d.match(/edge\/(\d+(\.\d+)?)/i))?r[1]:void 0)}:e?{webkit:!0,chrome:!0,version:1*(null!=(o=d.match(/(?:chrome|crios)\/(\d+(\.\d+)?)/i))?o[1]:void 0)}:c?{webkit:!0,safari:!0,version:1*(null!=(s=d.match(/version\/(\d+(\.\d+)?)/i))?s[1]:void 0)}:n?{mozilla:!0,firefox:!0,version:1*(null!=(l=d.match(/firefox\/(\d+(\.\d+)?)/i))?l[1]:void 0)}:{}}(),a.prototype.support={onselectionchange:function(){var e;if(void 0!==(e=document.onselectionchange))try{return document.onselectionchange=0,null===document.onselectionchange}catch(t){}finally{document.onselectionchange=e}return!1}(),oninput:!/(msie|trident)/i.test(navigator.userAgent)},a.prototype.reflow=function(t){return null==t&&(t=document),e(t)[0].offsetHeight},a.prototype.metaKey=function(e){return/Mac/.test(navigator.userAgent)?e.metaKey:e.ctrlKey},a.prototype.isEmptyNode=function(t){var n;return(n=e(t)).is(":empty")||!n.text()&&!n.find(":not(br, span, div, b, a, strong, i, strike, font, u)").length},a.prototype.isDecoratedNode=function(t){return e(t).is('[class^="simditor-"]')},a.prototype.blockNodes=["div","p","ul","ol","li","blockquote","hr","pre","h1","h2","h3","h4","h5","table"],a.prototype.isBlockNode=function(t){return!(!(t=e(t)[0])||3===t.nodeType)&&new RegExp("^("+this.blockNodes.join("|")+")$").test(t.nodeName.toLowerCase())},a.prototype.getNodeLength=function(t){switch((t=e(t)[0]).nodeType){case 7:case 10:return 0;case 3:case 8:return t.length;default:return t.childNodes.length}},a.prototype.dataURLtoBlob=function(e){var t,n,a,i,r,o,s,l,c,d,u;if(r=(o=window.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}())&&window.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),t=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,!((o||t)&&window.atob&&window.ArrayBuffer&&window.Uint8Array))return!1;for(i=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURIComponent(e.split(",")[1]),n=new ArrayBuffer(i.length),l=new Uint8Array(n),s=c=0,u=i.length;0<=u?c<=u:c>=u;s=0<=u?++c:--c)l[s]=i.charCodeAt(s);return d=e.split(",")[0].split(":")[1].split(";")[0],o?new Blob([r?l:n],{type:d}):((a=new t).append(n),a.getBlob(d))},a.prototype.throttle=function(e,t){var n,a,i,r,o,s,l;return r=0,l=0,i=n=o=null,a=function(){return l=0,r=+new Date,o=e.apply(i,n),i=null,n=null},(s=function(){var e;return i=this,n=arguments,e=new Date-r,l||(e>=t?a():l=setTimeout(a,t-e)),o}).clear=function(){if(l)return clearTimeout(l),a()},s},a.prototype.formatHTML=function(t){var n,a,i,r,o,s,l,c;for(o=/<(\/?)(.+?)(\/?)>/g,l="",i=0,a=null,s=function(e,t){return new Array(t+1).join(e)};null!==(r=o.exec(t));)r.isBlockNode=e.inArray(r[2],this.blockNodes)>-1,r.isStartTag="/"!==r[1]&&"/"!==r[3],r.isEndTag="/"===r[1]||"/"===r[3],n=a?a.index+a[0].length:0,(c=t.substring(n,r.index)).length>0&&e.trim(c)&&(l+=c),r.isBlockNode&&r.isEndTag&&!r.isStartTag&&(i-=1),r.isBlockNode&&r.isStartTag&&(a&&a.isBlockNode&&a.isEndTag||(l+="\n"),l+=s("  ",i)),l+=r[0],r.isBlockNode&&r.isEndTag&&(l+="\n"),r.isBlockNode&&r.isStartTag&&(i+=1),a=r;return e.trim(l)},a}(),L=function(n){function a(){return a.__super__.constructor.apply(this,arguments)}return z(a,t),a.pluginName="Toolbar",a.prototype.opts={toolbar:!0,toolbarFloat:!0,toolbarHidden:!1,toolbarFloatOffset:0,toolbarScrollContainer:window},a.prototype._tpl={wrapper:'<div class="simditor-toolbar"><ul></ul></div>',separator:'<li><span class="separator"></span></li>'},a.prototype._init=function(){var t,n;if(this.editor=this._module,this.opts.toolbar)return e.isArray(this.opts.toolbar)||(this.opts.toolbar=["bold","italic","underline","strikethrough","|","ol","ul","blockquote","code","|","link","image","|","checklist","indent","outdent"]),this._render(),this.list.on("click",function(e){return!1}),this.wrapper.on("mousedown",(n=this,function(e){return n.list.find(".menu-on").removeClass(".menu-on")})),e(document).on("mousedown.simditor"+this.editor.id,function(e){return function(t){return e.list.find(".menu-on").removeClass(".menu-on")}}(this)),this.wrapper.addClass(this.editor.util.os.mobile?"simditor-toolbar_mobile":""),!this.opts.toolbarHidden&&this.opts.toolbarFloat&&(this.opts.toolbarScrollContainer===window||e(this.opts.toolbarScrollContainer).offset(),this.wrapper.outerHeight(),t=function(){return!0},e(window).on("resize.simditor-"+this.editor.id,function(e){return t()}),document.body.scrollTop,e(this.opts.toolbarScrollContainer).on("scroll.simditor-"+this.editor.id,function(e){return function(t){if(e.wrapper.is(":visible")){var n=e.wrapper.get(0).getBoundingClientRect().top;n>0&&(n=4),e.wrapper.css("top",Math.abs(n)-4)}}}(this))),this.editor.on("destroy",function(e){return function(){return e.buttons.length=0}}(this)),e(document).on("mousedown.simditor-"+this.editor.id,function(e){return function(t){return e.list.find("li.menu-on").removeClass("menu-on")}}(this))},a.prototype._render=function(){var t,n,a,i;for(this.buttons=[],this.wrapper=e(this._tpl.wrapper).prependTo(this.editor.el.parent().parent()),this.list=this.wrapper.find("ul"),t=0,n=(i=this.opts.toolbar).length;t<n;t++)if("|"!==(a=i[t])){if(!this.constructor.buttons[a])throw new Error("simditor: invalid toolbar button "+a);this.buttons.push(new this.constructor.buttons[a]({editor:this.editor}))}else e(this._tpl.separator).appendTo(this.list);if(this.opts.toolbarHidden)return this.wrapper.hide()},a.prototype.findButton=function(e){var t;return null!=(t=this.list.find(".toolbar-item-"+e).data("button"))?t:null},a.addButton=function(e){return this.buttons[e.prototype.name]=e},a.buttons={},a}(),_=function(n){function a(){return a.__super__.constructor.apply(this,arguments)}return z(a,t),a.pluginName="Indentation",a.prototype.opts={tabIndent:!0},a.prototype._init=function(){return this.editor=this._module,this.editor.keystroke.add("tab","*",(e=this,function(t){var n;if(n=e.editor.toolbar.findButton("code"),e.opts.tabIndent||n&&n.active)return e.indent(t.shiftKey)}));var e},a.prototype.indent=function(t){var n,a,i,r;return this.editor.selection.startNodes(),this.editor.selection.endNodes(),n=this.editor.selection.blockNodes(),a=[],n=n.each(function(t,n){var i,r,o,s,l;for(i=!0,r=o=0,s=a.length;o<s;r=++o){if(l=a[r],e.contains(n,l)){i=!1;break}if(e.contains(l,n)){a.splice(r,1,n),i=!1;break}}if(i)return a.push(n)}),n=e(a),i=!1,n.each((r=this,function(e,n){var a;if(a=t?r.outdentBlock(n):r.indentBlock(n))return i=a})),i},a.prototype.indentBlock=function(t){var n,a,i,r,o,s,l,c,d,u;if((n=e(t)).length){if(n.is("pre")){if(!(s=this.editor.selection.containerNode()).is(n)&&!s.closest("pre").is(n))return;this.indentText(this.editor.selection.range())}else if(n.is("li")){if((o=n.prev("li")).length<1)return;this.editor.selection.save(),u=n.parent()[0].tagName,(a=o.children("ul, ol")).length>0?a.append(n):e("<"+u+"/>").append(n).appendTo(o),this.editor.selection.restore()}else if(n.is("p, h1, h2, h3, h4"))d=parseInt(n.css("margin-left"))||0,d=(Math.round(d/this.opts.indentWidth)+1)*this.opts.indentWidth,n.css("margin-left",d);else{if(!n.is("table")&&!n.is(".simditor-table"))return!1;if((i=(l=this.editor.selection.containerNode().closest("td, th")).next("td, th")).length>0||((r=(c=l.parent("tr")).next("tr")).length<1&&c.parent().is("thead")&&(r=c.parent("thead").next("tbody").find("tr:first")),i=r.find("td:first, th:first")),!(l.length>0&&i.length>0))return;this.editor.selection.setRangeAtEndOf(i)}return!0}},a.prototype.indentText=function(e){var t,n;return t=e.toString().replace(/^(?=.+)/gm,"\xa0\xa0"),n=document.createTextNode(t||"\xa0\xa0"),e.deleteContents(),e.insertNode(n),t?(e.selectNode(n),this.editor.selection.range(e)):this.editor.selection.setRangeAfter(n)},a.prototype.outdentBlock=function(t){var n,a,i,r,o,s,l,c,d,u;if((n=e(t))&&n.length>0){if(n.is("pre")){if(!(r=this.editor.selection.containerNode()).is(n)&&!r.closest("pre").is(n))return;this.outdentText(u)}else if(n.is("li"))i=(a=n.parent()).parent("li"),this.editor.selection.save(),i.length<1?((u=document.createRange()).setStartBefore(a[0]),u.setEndBefore(n[0]),a.before(u.extractContents()),e("<p/>").insertBefore(a).after(n.children("ul, ol")).append(n.contents()),n.remove()):(n.next("li").length>0&&e("<"+a[0].tagName+"/>").append(n.nextAll("li")).appendTo(n),n.insertAfter(i),a.children("li").length<1&&a.remove()),this.editor.selection.restore();else if(n.is("p, h1, h2, h3, h4"))d=parseInt(n.css("margin-left"))||0,d=Math.max(Math.round(d/this.opts.indentWidth)-1,0)*this.opts.indentWidth,n.css("margin-left",0===d?"":d);else{if(!n.is("table")&&!n.is(".simditor-table"))return!1;if((o=(l=this.editor.selection.containerNode().closest("td, th")).prev("td, th")).length>0||((s=(c=l.parent("tr")).prev("tr")).length<1&&c.parent().is("tbody")&&(s=c.parent("tbody").prev("thead").find("tr:first")),o=s.find("td:last, th:last")),!(l.length>0&&o.length>0))return;this.editor.selection.setRangeAtEndOf(o)}return!0}},a.prototype.outdentText=function(e){},a}(),c=function(n){function a(){return a.__super__.constructor.apply(this,arguments)}return z(a,t),a.pluginName="Clipboard",a.prototype.opts={pasteImage:!1,cleanPaste:!1},a.prototype._init=function(){return this.editor=this._module,this.opts.pasteImage&&"string"!==typeof this.opts.pasteImage&&(this.opts.pasteImage="inline"),this.editor.body.on("paste",(t=this,function(n){var a,i;if(!t.pasting&&!t._pasteBin)return!1!==t.editor.triggerHandler(n)&&(i=t.editor.selection.deleteRangeContents(),t.editor.body.html()?i.collapsed||i.collapse(!0):(t.editor.formatter.format(),t.editor.selection.setRangeAtStartOf(t.editor.body.find("p:first")),i=t.editor.selection._range),!t._processPasteByClipboardApi(n)&&(a=e("<span>"),i.insertNode(a[0]),t._createPasteBin(a),a.remove(),i.collapse(!0),t.editor.selection.range(i),t.editor.inputManager.throttledValueChanged.clear(),t.editor.inputManager.throttledSelectionChanged.clear(),t.editor.undoManager.throttledPushState.clear(),t.editor.selection.reset(),t.editor.undoManager.resetCaretPosition(),t.pasting=!0,t._getPasteContent(function(e){return t._processPasteContent(e),t._pasteInBlockEl=null,t._pastePlainText=null,t.pasting=!1})))}));var t},a.prototype._processPasteByClipboardApi=function(e){var t,n,a,i,r,o;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items&&e.originalEvent.clipboardData.items.length>0&&(r=e.originalEvent.clipboardData.items,o=e.originalEvent.clipboardData.types,n=2===r.length&&"string"===r[0].kind&&"file"===r[1].kind&&"text/plain"===o[0]&&"Files"===o[1]?r[1]:r[0],/^image\//.test(n.type))){if(null==(t=n.getAsFile())||!this.opts.pasteImage)return;if(t.name||(t.name="Clipboard Image.png"),!1===this.editor.triggerHandler("pasting",[t]))return;return(i={})[this.opts.pasteImage]=!0,null!=(a=this.editor.uploader)&&a.upload(t,i),!0}},a.prototype._createPasteBin=function(t){var n,a;return n=t.offset(),a=this.editor.el.offset(),this._pasteBin=e('<div contenteditable="true" />').addClass("simditor-paste-bin").attr("tabIndex","-1").css({top:n.top-a.top,left:n.left-a.left}).appendTo(this.editor.el)},a.prototype._getPasteContent=function(t){var n,a;return n={html:this.editor.body.html(),caret:this.editor.undoManager.caretPosition()},this._pasteBin.focus(),setTimeout((a=this,function(){var r;if(a.editor.hidePopover(),a.editor.body.get(0).innerHTML=i?i.sanitize(n.html):n.html,a.editor.undoManager.caretPosition(n.caret),a.editor.body.focus(),a.editor.selection.reset(),a.editor.selection.range(),a._pasteInBlockEl=a.editor.selection.blockNodes().last(),a._pastePlainText=a.opts.cleanPaste||a._pasteInBlockEl.is("pre, table"),a._pastePlainText)r=a.editor.formatter.clearHtml(a._pasteBin.html(),!0);else{(r=e("<div/>").append(a._pasteBin.contents())).find("style").remove(),r.find("table colgroup").remove();var o=r.find("h1,h2,h3,h4,h5");o.length>0&&o.each(function(t,n){e(n).attr("id",a.editor.util.randomString(10))}),a._cleanPasteFontSize(r),a.editor.formatter.format(r),a.editor.formatter.decorate(r),a.editor.formatter.beautify(r.children()),r=r.contents()}return a._pasteBin.remove(),a._pasteBin=null,t(r)}),0)},a.prototype._processPasteContent=function(t){var n,a,i,r,o,s,l,c,d,u,p,h,m,f,g,v,b,_,y,w,E,k,x,S,C,N;if(!1!==this.editor.triggerHandler("pasting",[t])&&(n=this._pasteInBlockEl,t)){if(this._pastePlainText)if(n.is("table")){for(u=(b=t.split("\n")).pop(),c=0,p=b.length;c<p;c++)v=b[c],this.editor.selection.insertNode(document.createTextNode(v)),this.editor.selection.insertNode(e("<br/>"));this.editor.selection.insertNode(document.createTextNode(u))}else for(d=0,h=(k=(t=e("<div/>").text(t)).contents()).length;d<h;d++)y=k[d],this.editor.selection.insertNode(e(y)[0]);else if(n.is(this.editor.body))for(_=0,m=t.length;_<m;_++)y=t[_],this.editor.selection.insertNode(y);else{if(t.length<1)return;if(1===t.length)if(t.is("p")){if(r=t.contents(),n.is("h1, h2, h3, h4, h5")&&r.length&&r.css("font-size",""),1===r.length&&r.is("img")){if(/^data:image/.test((a=r).attr("src"))){if(!this.opts.pasteImage)return;return(i=this.editor.util.dataURLtoBlob(a.attr("src"))).name="Clipboard Image.png",(C={})[this.opts.pasteImage]=!0,void(null!=(x=this.editor.uploader)&&x.upload(i,C))}if(new RegExp("^blob:"+location.origin+"/").test(a.attr("src"))){if(!this.opts.pasteImage)return;return(C={})[this.opts.pasteImage]=!0,o=this.editor.util.dataURLtoBlob,N=this.editor.uploader,(s=new Image).onload=function(){var e;(e=document.createElement("canvas")).width=s.naturalWidth,e.height=s.naturalHeight,e.getContext("2d").drawImage(s,0,0),(i=o(e.toDataURL("image/png"))).name="Clipboard Image.png",null!==N&&N.upload(i,C)},void(s.src=a.attr("src"))}if(a.is('img[src^="webkit-fake-url://"]'))return}for(w=0,f=r.length;w<f;w++)y=r[w],this.editor.selection.insertNode(y)}else if(n.is("p")&&this.editor.util.isEmptyNode(n))n.replaceWith(t),this.editor.selection.setRangeAtEndOf(t);else if(t.is("ul, ol"))if(1===t.find("li").length)for(E=0,g=(S=(t=e("<div/>").text(t.text())).contents()).length;E<g;E++)y=S[E],this.editor.selection.insertNode(e(y)[0]);else n.is("li")?(n.parent().after(t),this.editor.selection.setRangeAtEndOf(t)):(n.after(t),this.editor.selection.setRangeAtEndOf(t));else n.after(t),this.editor.selection.setRangeAtEndOf(t);else n.is("li")&&(n=n.parent()),this.editor.selection.rangeAtStartOf(n)?l="before":this.editor.selection.rangeAtEndOf(n)?l="after":(this.editor.selection.breakBlockEl(n),l="before"),n[l](t),this.editor.selection.setRangeAtEndOf(t.last())}return this.editor.inputManager.throttledValueChanged()}},a.prototype._cleanPasteFontSize=function(t){var n,a;if((n=e(t)).length>0)return a=["1.5em","1.25em","0.75em","0.5em"],n.find('[style*="font-size"]').map(function(t,n){var i;if(i=e(n),e.inArray(i.css("font-size"),a)<0)return i.css("font-size","")})},a}(),(A=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return z(o,t),o.connect(D),o.connect(y),o.connect(O),o.connect(P),o.connect(E),o.connect(m),o.connect(L),o.connect(_),o.connect(c),o.count=0,o.prototype.opts={textarea:null,placeholder:"",defaultImage:"images/image.png",params:{},upload:!1,indentWidth:40},o.prototype._init=function(){var t,i,r;if(this.textarea=e(this.opts.textarea),this.opts.placeholder=this.opts.placeholder||this.textarea.attr("placeholder"),!this.textarea.length)throw new Error("simditor: param textarea is required.");if(null!=(t=this.textarea.data("simditor"))&&t.destroy(),this.id=++o.count,this._render(),!n)throw new Error("simditor: simple-hotkeys is required.");if(this.hotkeys=n({el:this.body}),this.opts.upload&&a&&(i="object"===typeof this.opts.upload?this.opts.upload:{},this.uploader=a(i)),this.on("initialized",(r=this,function(){if(r.opts.placeholder&&r.on("valuechanged",function(){return r._placeholder()}),r.setValue(r.textarea.val().trim()||""),r.textarea.attr("autofocus"))return r.focus()})),this.util.browser.mozilla){this.util.reflow();try{return document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)}catch(s){}}},o.prototype._tpl='<div class="simditor">\n  <div class="simditor-wrapper">\n    <div class="simditor-placeholder"></div>\n    <div class="simditor-body" contenteditable="true">\n    </div>\n  </div>\n</div>',o.prototype._render=function(){var t,n,a,i;if(this.el=e(this._tpl).insertBefore(this.textarea),this.wrapper=this.el.find(".simditor-wrapper"),this.body=this.wrapper.find(".simditor-body"),this.placeholderEl=this.wrapper.find(".simditor-placeholder").append(this.opts.placeholder),this.el.data("simditor",this),this.wrapper.append(this.textarea),this.textarea.data("simditor",this).blur(),this.body.attr("tabindex",this.textarea.attr("tabindex")),this.util.os.mac?this.el.addClass("simditor-mac"):this.util.os.linux&&this.el.addClass("simditor-linux"),this.util.os.mobile&&this.el.addClass("simditor-mobile"),this.opts.params){for(t in a=[],n=this.opts.params)i=n[t],a.push(e("<input/>",{type:"hidden",name:t,value:i}).insertAfter(this.textarea));return a}},o.prototype._placeholder=function(){var e;return 0===(e=this.body.children()).length||1===e.length&&this.util.isEmptyNode(e)&&parseInt(e.css("margin-left")||0)<this.opts.indentWidth?this.placeholderEl.show():this.placeholderEl.hide()},o.prototype.setValue=function(e){return this.hidePopover(),this.textarea.val(e),this.body.get(0).innerHTML=i?i.sanitize(e):e,this.formatter.format(),this.formatter.decorate(),this.util.reflow(this.body),this.inputManager.lastCaretPosition=null,this.trigger("valuechanged")},o.prototype.getValue=function(){return this.sync()},o.prototype.sync=function(){var t,n,a,i,r,o;for(n=this.body.clone(),this.formatter.undecorate(n),this.formatter.format(n),this.formatter.autolink(n),r=(t=n.children()).last("p"),i=t.first("p");r.is("p")&&this.util.isEmptyNode(r);)a=r,r=r.prev("p"),a.remove();for(;i.is("p")&&this.util.isEmptyNode(i);)a=i,i=r.next("p"),a.remove();return n.find("img.uploading").remove(),o=e.trim(n.html()),this.textarea.val(o),o},o.prototype.focus=function(){var t,n;if(this.body.is(":visible")&&this.body.is("[contenteditable]"))return this.inputManager.lastCaretPosition?(this.undoManager.caretPosition(this.inputManager.lastCaretPosition),this.inputManager.lastCaretPosition=null):((t=this.body.children().last()).is("p")||(t=e("<p/>").append(this.util.phBr).appendTo(this.body)),n=document.createRange(),this.selection.setRangeAtEndOf(t,n));this.el.find("textarea:visible").focus()},o.prototype.blur=function(){return this.body.is(":visible")&&this.body.is("[contenteditable]")?this.body.blur():this.body.find("textarea:visible").blur()},o.prototype.hidePopover=function(){return this.el.find(".simditor-popover").each(function(t,n){if((n=e(n).data("popover")).active)return n.hide()})},o.prototype.destroy=function(){return this.triggerHandler("destroy"),this.textarea.closest("form").off(".simditor .simditor-"+this.id),this.selection.clear(),this.inputManager.focused=!1,this.textarea.insertBefore(this.el).hide().val("").removeData("simditor"),this.el.remove(),e(document).off(".simditor-"+this.id),e(window).off(".simditor-"+this.id),this.off()},o}()).i18n={"zh-CN":{blockquote:"\u5f15\u7528",bold:"\u52a0\u7c97\u6587\u5b57",code:"\u63d2\u5165\u4ee3\u7801",color:"\u6587\u5b57\u989c\u8272",coloredText:"\u5f69\u8272\u6587\u5b57",hr:"\u5206\u9694\u7ebf",image:"\u63d2\u5165\u56fe\u7247",externalImage:"\u5916\u94fe\u56fe\u7247",uploadImage:"\u4e0a\u4f20\u56fe\u7247",uploadFailed:"\u4e0a\u4f20\u5931\u8d25\u4e86",uploadError:"\u4e0a\u4f20\u51fa\u9519\u4e86",imageUrl:"\u56fe\u7247\u5730\u5740",imageSize:"\u56fe\u7247\u5c3a\u5bf8",imageAlt:"\u56fe\u7247\u63cf\u8ff0",restoreImageSize:"\u8fd8\u539f\u56fe\u7247\u5c3a\u5bf8",uploading:"\u6b63\u5728\u4e0a\u4f20",indent:"\u5411\u53f3\u7f29\u8fdb",outdent:"\u5411\u5de6\u7f29\u8fdb",italic:"\u659c\u4f53\u6587\u5b57",link:"\u63d2\u5165\u94fe\u63a5",linkText:"\u94fe\u63a5\u6587\u5b57",linkUrl:"\u94fe\u63a5\u5730\u5740",linkTarget:"\u6253\u5f00\u65b9\u5f0f",openLinkInCurrentWindow:"\u5728\u5f53\u524d\u7a97\u53e3\u4e2d\u6253\u5f00",openLinkInNewWindow:"\u5728\u65b0\u7a97\u53e3\u4e2d\u6253\u5f00",removeLink:"\u79fb\u9664\u94fe\u63a5",ol:"\u6709\u5e8f\u5217\u8868",ul:"\u65e0\u5e8f\u5217\u8868",strikethrough:"\u5220\u9664\u7ebf\u6587\u5b57",table:"\u8868\u683c",deleteRow:"\u5220\u9664\u884c",insertRowAbove:"\u5728\u4e0a\u9762\u63d2\u5165\u884c",insertRowBelow:"\u5728\u4e0b\u9762\u63d2\u5165\u884c",deleteColumn:"\u5220\u9664\u5217",insertColumnLeft:"\u5728\u5de6\u8fb9\u63d2\u5165\u5217",insertColumnRight:"\u5728\u53f3\u8fb9\u63d2\u5165\u5217",deleteTable:"\u5220\u9664\u8868\u683c",title:"\u6807\u9898",normalText:"\u666e\u901a\u6587\u672c",underline:"\u4e0b\u5212\u7ebf\u6587\u5b57",alignment:"\u6c34\u5e73\u5bf9\u9f50",alignCenter:"\u5c45\u4e2d",alignLeft:"\u5c45\u5de6",alignRight:"\u5c45\u53f3",selectLanguage:"\u9009\u62e9\u7a0b\u5e8f\u8bed\u8a00",fontScale:"\u5b57\u4f53\u5927\u5c0f",fontScaleXLarge:"\u8d85\u5927\u5b57\u4f53",fontScaleLarge:"\u5927\u53f7\u5b57\u4f53",fontScaleNormal:"\u6b63\u5e38\u5927\u5c0f",fontScaleSmall:"\u5c0f\u53f7\u5b57\u4f53",fontScaleXSmall:"\u8d85\u5c0f\u5b57\u4f53"},"en-US":{blockquote:"Block Quote",bold:"Bold",code:"Code",color:"Text Color",coloredText:"Colored Text",hr:"Horizontal Line",image:"Insert Image",externalImage:"External Image",uploadImage:"Upload Image",uploadFailed:"Upload failed",uploadError:"Error occurs during upload",imageUrl:"Url",imageSize:"Size",imageAlt:"Alt",restoreImageSize:"Restore Origin Size",uploading:"Uploading",indent:"Indent",outdent:"Outdent",italic:"Italic",link:"Insert Link",linkText:"Text",linkUrl:"Url",linkTarget:"Target",openLinkInCurrentWindow:"Open link in current window",openLinkInNewWindow:"Open link in new window",removeLink:"Remove Link",ol:"Ordered List",ul:"Unordered List",strikethrough:"Strikethrough",table:"Table",deleteRow:"Delete Row",insertRowAbove:"Insert Row Above",insertRowBelow:"Insert Row Below",deleteColumn:"Delete Column",insertColumnLeft:"Insert Column Left",insertColumnRight:"Insert Column Right",deleteTable:"Delete Table",title:"Title",normalText:"Text",underline:"Underline",alignment:"Alignment",alignCenter:"Align Center",alignLeft:"Align Left",alignRight:"Align Right",selectLanguage:"Select Language",fontScale:"Font Size",fontScaleXLarge:"X Large Size",fontScaleLarge:"Large Size",fontScaleNormal:"Normal Size",fontScaleSmall:"Small Size",fontScaleXSmall:"X Small Size"}},l=function(n){function a(e){this.editor=e.editor,this.title=this._t(this.name),a.__super__.constructor.call(this,e)}return z(a,t),a.prototype._tpl={item:'<li><a tabindex="-1" unselectable="on" class="toolbar-item" href="javascript:;"><span></span></a></li>',menuWrapper:'<div class="toolbar-menu"></div>',menuItem:'<li><a tabindex="-1" unselectable="on" class="menu-item" href="javascript:;"><span></span></a></li>',separator:'<li><span class="separator"></span></li>'},a.prototype.name="",a.prototype.icon="",a.prototype.title="",a.prototype.text="",a.prototype.htmlTag="",a.prototype.disableTag="",a.prototype.menu=!1,a.prototype.active=!1,a.prototype.disabled=!1,a.prototype.needFocus=!0,a.prototype.shortcut=null,a.prototype._init=function(){var t,n,a,i,r;for(this.render(),this.el.on("mousedown",(r=this,function(e){var t,n;return e.preventDefault(),t=r.needFocus&&!r.editor.inputManager.focused,!r.el.hasClass("disabled")&&(t&&r.editor.focus(),r.menu?(r.wrapper.toggleClass("menu-on").siblings("li").removeClass("menu-on"),r.wrapper.is(".menu-on")&&(r.menuWrapper.offset().left+r.menuWrapper.outerWidth()+5-r.editor.wrapper.offset().left-r.editor.wrapper.outerWidth()>0&&r.menuWrapper.css({left:"auto",right:0}),r.trigger("menuexpand")),!1):(n=r.el.data("param"),r.command(n),!1))})),this.wrapper.on("click","a.menu-item",function(t){return function(n){var a,i,r;return n.preventDefault(),a=e(n.currentTarget),t.wrapper.removeClass("menu-on"),i=t.needFocus&&!t.editor.inputManager.focused,!a.hasClass("disabled")&&!i&&(t.editor.toolbar.wrapper.removeClass("menu-on"),r=a.data("param"),t.command(r),!1)}}(this)),this.wrapper.on("mousedown","a.menu-item",function(e){return!1}),this.editor.on("blur",function(e){return function(){if(e.editor.body.is(":visible")&&e.editor.body.is("[contenteditable]")&&!e.editor.clipboard.pasting)return e.setActive(!1),e.setDisabled(!1)}}(this)),null!=this.shortcut&&this.editor.hotkeys.add(this.shortcut,function(e){return function(t){return e.el.mousedown(),!1}}(this)),t=0,n=(a=this.htmlTag.split(",")).length;t<n;t++)i=a[t],(i=e.trim(i))&&e.inArray(i,this.editor.formatter._allowedTags)<0&&this.editor.formatter._allowedTags.push(i);return this.editor.on("selectionchanged",function(e){return function(t){if(e.editor.inputManager.focused)return e._status()}}(this))},a.prototype.iconClassOf=function(e){return e?"simditor-icon simditor-icon-"+e:""},a.prototype.setIcon=function(e){return this.el.find("span").removeClass().addClass(this.iconClassOf(e)).text(this.text)},a.prototype.render=function(){if(this.wrapper=e(this._tpl.item).appendTo(this.editor.toolbar.list),this.el=this.wrapper.find("a.toolbar-item"),this.el.attr("title",this.title).addClass("toolbar-item-"+this.name).data("button",this),this.setIcon(this.icon),this.menu)return this.menuWrapper=e(this._tpl.menuWrapper).appendTo(this.wrapper),this.menuWrapper.addClass("toolbar-menu-"+this.name),this.renderMenu()},a.prototype.renderMenu=function(){var t,n,a,i,r,o,s;if(e.isArray(this.menu)){for(this.menuEl=e("<ul/>").appendTo(this.menuWrapper),s=[],n=0,a=(r=this.menu).length;n<a;n++)"|"!==(i=r[n])?(t=e(this._tpl.menuItem).appendTo(this.menuEl).find("a.menu-item").attr({title:null!=(o=i.title)?o:i.text,"data-param":i.param}).addClass("menu-item-"+i.name),i.icon?s.push(t.find("span").addClass(this.iconClassOf(i.icon))):s.push(t.find("span").text(i.text))):e(this._tpl.separator).appendTo(this.menuEl);return s}},a.prototype.setActive=function(e){if(e!==this.active)return this.active=e,this.el.toggleClass("active",this.active)},a.prototype.setDisabled=function(e){if(e!==this.disabled)return this.disabled=e,this.el.toggleClass("disabled",this.disabled)},a.prototype._disableStatus=function(){var e,t,n;return n=this.editor.selection.startNodes(),t=this.editor.selection.endNodes(),e=n.filter(this.disableTag).length>0||t.filter(this.disableTag).length>0,this.setDisabled(e),this.disabled&&this.setActive(!1),this.disabled},a.prototype._activeStatus=function(){var e,t,n,a,i;return i=this.editor.selection.startNodes(),n=this.editor.selection.endNodes(),a=i.filter(this.htmlTag),t=n.filter(this.htmlTag),e=a.length>0&&t.length>0&&a.is(t),this.node=e?a:null,this.setActive(e),this.active},a.prototype._status=function(){if(this._disableStatus(),!this.disabled)return this._activeStatus()},a.prototype.command=function(e){},a.prototype._t=function(){var e,t,n;return e=1<=arguments.length?U.call(arguments,0):[],(n=a.__super__._t.apply(this,e))||(n=(t=this.editor)._t.apply(t,e)),n},a}(),A.Button=l,T=function(n){function a(e){this.button=e.button,this.editor=e.button.editor,a.__super__.constructor.call(this,e)}return z(a,t),a.prototype.offset={top:4,left:0},a.prototype.target=null,a.prototype.active=!1,a.prototype._init=function(){var t;return this.el=e('<div class="simditor-popover"></div>').appendTo(this.editor.el).data("popover",this),this.render(),this.el.on("mouseenter",(t=this,function(e){return t.el.addClass("hover")})),this.el.on("mouseleave",function(e){return function(t){return e.el.removeClass("hover")}}(this))},a.prototype.render=function(){},a.prototype._initLabelWidth=function(){var t,n;if((t=this.el.find(".settings-field")).length>0)return this._labelWidth=0,t.each((n=this,function(t,a){var i;if((i=e(a).find("label")).length>0)return n._labelWidth=Math.max(n._labelWidth,i.width())})),t.find("label").width(this._labelWidth)},a.prototype.show=function(t,n){if(null==n&&(n="bottom"),null!=t)return this.el.siblings(".simditor-popover").each(function(t,n){if((n=e(n).data("popover"))&&n.active)return n.hide()}),this.active&&this.target&&this.target.removeClass("selected"),this.target=t.addClass("selected"),this.active?(this.refresh(n),this.trigger("popovershow")):(this.active=!0,this.el.css({left:-9999}).show(),this._labelWidth||this._initLabelWidth(),this.editor.util.reflow(),this.refresh(n),this.trigger("popovershow"))},a.prototype.hide=function(){if(this.active)return this.target&&this.target.removeClass("selected"),this.target=null,this.active=!1,this.el.hide(),this.trigger("popoverhide")},a.prototype.refresh=function(e){var t,n,a,i,r,o;if(null==e&&(e="bottom"),this.active)return t=this.editor.el.offset(),r=this.target.offset(),i=this.target.outerHeight(),"bottom"===e?o=r.top-t.top+i:"top"===e&&(o=r.top-t.top-this.el.height()),a=this.editor.wrapper.width()-this.el.outerWidth()-10,n=Math.min(r.left-t.left,a),this.el.css({top:o+this.offset.top,left:n+this.offset.left})},a.prototype.destroy=function(){return this.target=null,this.active=!1,this.editor.off(".linkpopover"),this.el.remove()},a.prototype._t=function(){var e,t,n;return e=1<=arguments.length?U.call(arguments,0):[],(n=a.__super__._t.apply(this,e))||(n=(t=this.button)._t.apply(t,e)),n},a}(),A.Popover=T,R=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return z(n,l),n.prototype.name="title",n.prototype.htmlTag="h1, h2, h3, h4, h5",n.prototype.disableTag="pre, table",n.prototype._init=function(){return this.menu=[{name:"normal",text:this._t("normalText"),param:"p"},"|",{name:"h1",text:this._t("title")+" 1",param:"h1"},{name:"h2",text:this._t("title")+" 2",param:"h2"},{name:"h3",text:this._t("title")+" 3",param:"h3"},{name:"h4",text:this._t("title")+" 4",param:"h4"},{name:"h5",text:this._t("title")+" 5",param:"h5"}],n.__super__._init.call(this)},n.prototype.setActive=function(e,t){if(n.__super__.setActive.call(this,e),e&&(t||(t=this.node[0].tagName.toLowerCase())),this.el.removeClass("active-p active-h1 active-h2 active-h3 active-h4 active-h5"),e)return this.el.addClass("active active-"+t)},n.prototype.command=function(t){var n,a;return n=this.editor.selection.rootNodes(),this.editor.selection.save(),n.each((a=this,function(n,i){var r;if(!((r=e(i)).is("blockquote")||r.is(t)||r.is(a.disableTag)||a.editor.util.isDecoratedNode(r)))return e("<"+t+"/>").append(r.contents()).replaceAll(r)})),this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(),A.Toolbar.addButton(R),h=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return z(n,l),n.prototype.name="fontScale",n.prototype.icon="font",n.prototype.htmlTag="span",n.prototype.disableTag="pre, h1, h2, h3, h4, h5",n.prototype.sizeMap={"x-large":"1.5em",large:"1.25em",small:".75em","x-small":".5em"},n.prototype._init=function(){return this.menu=[{name:"150%",text:this._t("fontScaleXLarge"),param:"5"},{name:"125%",text:this._t("fontScaleLarge"),param:"4"},{name:"100%",text:this._t("fontScaleNormal"),param:"3"},{name:"75%",text:this._t("fontScaleSmall"),param:"2"},{name:"50%",text:this._t("fontScaleXSmall"),param:"1"}],n.__super__._init.call(this)},n.prototype._activeStatus=function(){var e,t,n,a,i;return this.editor.selection.range(),i=this.editor.selection.startNodes(),n=this.editor.selection.endNodes(),a=i.filter('span[style*="font-size"]'),t=n.filter('span[style*="font-size"]'),e=i.length>0&&n.length>0&&a.is(t),this.setActive(e),this.active},n.prototype.command=function(t){var n,a,i;if(!(a=this.editor.selection.range()).collapsed)return this.editor.selection.range(a),document.execCommand("styleWithCSS",!1,!0),document.execCommand("fontSize",!1,t),document.execCommand("styleWithCSS",!1,!1),this.editor.selection.reset(),this.editor.selection.range(),((n=this.editor.selection.containerNode())[0].nodeType===Node.TEXT_NODE?n.closest('span[style*="font-size"]'):n.find('span[style*="font-size"]')).each((i=this,function(t,n){var a,r;return a=e(n),r=n.style.fontSize,/large|x-large|small|x-small/.test(r)?a.css("fontSize",i.sizeMap[r]):"medium"===r?a[0].style.length>1?a.css("fontSize",""):a.replaceWith(a.contents()):void 0})),this.editor.trigger("valuechanged")},n}(),A.Toolbar.addButton(h),s=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return z(n,l),n.prototype.name="bold",n.prototype.icon="bold",n.prototype.htmlTag="b, strong",n.prototype.disableTag="pre",n.prototype.shortcut="cmd+b",n.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + b )":(this.title=this.title+" ( Ctrl + b )",this.shortcut="ctrl+b"),n.__super__._init.call(this)},n.prototype._activeStatus=function(){var e;return e=!0===document.queryCommandState("bold"),this.setActive(e),this.active},n.prototype.command=function(){return document.execCommand("bold"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),e(document).trigger("selectionchange")},n}(),A.Toolbar.addButton(s),w=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return z(n,l),n.prototype.name="italic",n.prototype.icon="italic",n.prototype.htmlTag="i",n.prototype.disableTag="pre",n.prototype.shortcut="cmd+i",n.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + i )":(this.title=this.title+" ( Ctrl + i )",this.shortcut="ctrl+i"),n.__super__._init.call(this)},n.prototype._activeStatus=function(){var e;return e=!0===document.queryCommandState("italic"),this.setActive(e),this.active},n.prototype.command=function(){return document.execCommand("italic"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),e(document).trigger("selectionchange")},n}(),A.Toolbar.addButton(w),M=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return z(n,l),n.prototype.name="underline",n.prototype.icon="underline",n.prototype.htmlTag="u",n.prototype.disableTag="pre",n.prototype.shortcut="cmd+u",n.prototype.render=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + u )":(this.title=this.title+" ( Ctrl + u )",this.shortcut="ctrl+u"),n.__super__.render.call(this)},n.prototype._activeStatus=function(){var e;return e=!0===document.queryCommandState("underline"),this.setActive(e),this.active},n.prototype.command=function(){return document.execCommand("underline"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),e(document).trigger("selectionchange")},n}(),A.Toolbar.addButton(M),p=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return z(n,l),n.prototype.name="color",n.prototype.icon="tint",n.prototype.disableTag="pre",n.prototype.menu=!0,n.prototype.render=function(){var e;return e=1<=arguments.length?U.call(arguments,0):[],n.__super__.render.apply(this,e)},n.prototype.renderMenu=function(){return e('<ul class="color-list">\n  <li><a href="javascript:;" class="font-color font-color-1"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-2"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-3"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-4"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-5"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-6"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-7"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-default"></a></li>\n</ul>').appendTo(this.menuWrapper),this.menuWrapper.on("mousedown",".color-list",function(e){return!1}),this.menuWrapper.on("click",".font-color",(t=this,function(n){var a,i,r,o,s,l;if(t.wrapper.removeClass("menu-on"),(a=e(n.currentTarget)).hasClass("font-color-default")){if(!((i=t.editor.body.find("p, li")).length>0))return;s=window.getComputedStyle(i[0],null).getPropertyValue("color"),r=t._convertRgbToHex(s)}else s=window.getComputedStyle(a[0],null).getPropertyValue("background-color"),r=t._convertRgbToHex(s);if(r){try{o=t.editor.selection.range()}catch(c){}return!a.hasClass("font-color-default")&&o.collapsed&&(l=document.createTextNode(t._t("coloredText")),o.insertNode(l),o.selectNodeContents(l)),t.editor.selection.range(o),document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,r),document.execCommand("styleWithCSS",!1,!1),t.editor.util.support.oninput?void 0:t.editor.trigger("valuechanged")}}));var t},n.prototype._convertRgbToHex=function(e){var t;return(t=/rgb\((\d+),\s?(\d+),\s?(\d+)\)/g.exec(e))?function(e,t,n){var a;return"#"+(a=function(e){var t;return 1===(t=e.toString(16)).length?"0"+t:t})(e)+a(t)+a(n)}(1*t[1],1*t[2],1*t[3]):""},n}(),A.Toolbar.addButton(p),S=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return z(n,l),n.prototype.type="",n.prototype.disableTag="pre, table",n.prototype.command=function(t){var n,a,i,r;return a=this.editor.selection.blockNodes(),i="ul"===this.type?"ol":"ul",this.editor.selection.save(),n=null,a.each((r=this,function(t,a){var o;if(!((o=e(a)).is("blockquote, li")||o.is(r.disableTag)||r.editor.util.isDecoratedNode(o))&&e.contains(document,a))return o.is(r.type)?(o.children("li").each(function(t,n){return e(n).children("ul, ol").insertAfter(o),e("<p/>").append(e(n).html()||r.editor.util.phBr).insertBefore(o)}),o.remove()):o.is(i)?e("<"+r.type+"/>").append(o.contents()).replaceAll(o):n&&o.prev().is(n)?(e("<li/>").append(o.html()||r.editor.util.phBr).appendTo(n),o.remove()):((n=e("<"+r.type+"><li></li></"+r.type+">")).find("li").append(o.html()||r.editor.util.phBr),n.replaceAll(o))})),this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(),C=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return z(t,S),t.prototype.type="ol",t.prototype.name="ol",t.prototype.icon="list-ol",t.prototype.htmlTag="ol",t.prototype.shortcut="cmd+/",t.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + / )":(this.title=this.title+" ( ctrl + / )",this.shortcut="ctrl+/"),t.__super__._init.call(this)},t}(),B=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return z(t,S),t.prototype.type="ul",t.prototype.name="ul",t.prototype.icon="list-ul",t.prototype.htmlTag="ul",t.prototype.shortcut="cmd+.",t.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + . )":(this.title=this.title+" ( Ctrl + . )",this.shortcut="ctrl+."),t.__super__._init.call(this)},t}(),A.Toolbar.addButton(C),A.Toolbar.addButton(B),o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return z(n,l),n.prototype.name="blockquote",n.prototype.icon="quote-left",n.prototype.htmlTag="blockquote",n.prototype.disableTag="pre, table",n.prototype.command=function(){var t,n,a,i;return t=(t=this.editor.selection.rootNodes()).filter(function(t,n){return!e(n).parent().is("blockquote")}),this.editor.selection.save(),a=[],i=this,n=function(){if(a.length>0)return e("<"+i.htmlTag+"/>").insertBefore(a[0]).append(a),a.length=0},t.each(function(t){return function(i,r){var o;if((o=e(r)).parent().is(t.editor.body))return o.is(t.htmlTag)?(n(),o.children().unwrap()):o.is(t.disableTag)||t.editor.util.isDecoratedNode(o)?n():a.push(r)}}(this)),n(),this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(),A.Toolbar.addButton(o),d=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return z(n,l),n.prototype.name="code",n.prototype.icon="code",n.prototype.htmlTag="pre",n.prototype.disableTag="ul, ol, table",n.prototype._init=function(){var t;return n.__super__._init.call(this),this.editor.on("decorate",(t=this,function(n,a){return a.find("pre").each(function(n,a){return t.decorate(e(a))})})),this.editor.on("undecorate",function(t){return function(n,a){return a.find("pre").each(function(n,a){return t.undecorate(e(a))})}}(this))},n.prototype.render=function(){var e;return e=1<=arguments.length?U.call(arguments,0):[],n.__super__.render.apply(this,e),this.popover=new u({button:this})},n.prototype._checkMode=function(){var t;return t=this.editor.selection.range(),e(t.cloneContents()).find(this.editor.util.blockNodes.join(","))>0||t.collapsed&&0===this.editor.selection.startNodes().filter("code").length?(this.inlineMode=!1,this.htmlTag="pre"):(this.inlineMode=!0,this.htmlTag="code")},n.prototype._status=function(){if(this._checkMode(),n.__super__._status.call(this),!this.inlineMode)return this.active?this.popover.show(this.node):this.popover.hide()},n.prototype.decorate=function(e){var t,n,a,i;if((t=e.find("> code")).length>0&&(n=null!=(a=t.attr("class"))&&null!=(i=a.match(/lang-(\S+)/))?i[1]:void 0,t.contents().unwrap(),n))return e.attr("data-lang",n)},n.prototype.undecorate=function(t){var n,a;return a=t.attr("data-lang"),n=e("<code/>"),a&&-1!==a&&(n.addClass("lang-"+a),t.addClass("lang-"+a)),t.wrapInner(n).removeAttr("data-lang")},n.prototype.command=function(){return this.inlineMode?this._inlineCommand():this._blockCommand()},n.prototype._blockCommand=function(){var t,n,a,i,r;return t=this.editor.selection.rootNodes(),a=[],i=[],r=this,n=function(){var t;if(a.length>0)return t=e("<"+r.htmlTag+"/>").insertBefore(a[0]).text(r.editor.formatter.clearHtml(a)),i.push(t[0]),a.length=0},t.each(function(t){return function(r,o){var s,l;return(s=e(o)).is(t.htmlTag)?(n(),l=e("<p/>").append(s.html().replace("\n","<br/>")).replaceAll(s),i.push(l[0])):s.is(t.disableTag)||t.editor.util.isDecoratedNode(s)||s.is("blockquote")?n():a.push(o)}}(this)),n(),this.editor.selection.setRangeAtEndOf(e(i).last()),this.editor.trigger("valuechanged")},n.prototype._inlineCommand=function(){var t,n,a;return a=this.editor.selection.range(),this.active?(a.selectNodeContents(this.node[0]),this.editor.selection.save(a),this.node.contents().unwrap(),this.editor.selection.restore()):(n=e(a.extractContents()),t=e("<"+this.htmlTag+"/>").append(n.contents()),a.insertNode(t[0]),a.selectNodeContents(t[0]),this.editor.selection.range(a)),this.editor.trigger("valuechanged")},n}(),u=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return z(n,T),n.prototype.render=function(){var t,n,a,i,r;for(this._tpl='<div class="code-settings">\n  <div class="settings-field">\n    <select class="select-lang">\n      <option value="-1">'+this._t("selectLanguage")+"</option>\n    </select>\n  </div>\n</div>",this.langs=this.editor.opts.codeLanguages||[{name:"Bash",value:"bash"},{name:"C++",value:"c++"},{name:"C#",value:"cs"},{name:"CSS",value:"css"},{name:"Erlang",value:"erlang"},{name:"Less",value:"less"},{name:"Sass",value:"sass"},{name:"Diff",value:"diff"},{name:"CoffeeScript",value:"coffeescript"},{name:"HTML,XML",value:"html"},{name:"JSON",value:"json"},{name:"Java",value:"java"},{name:"JavaScript",value:"javascript"},{name:"Markdown",value:"markdown"},{name:"Objective C",value:"oc"},{name:"PHP",value:"php"},{name:"Perl",value:"parl"},{name:"Python",value:"python"},{name:"Ruby",value:"ruby"},{name:"SQL",value:"sql"}],this.el.addClass("code-popover").append(this._tpl),this.selectEl=this.el.find(".select-lang"),t=0,a=(i=this.langs).length;t<a;t++)n=i[t],e("<option/>",{text:n.name,value:n.value}).appendTo(this.selectEl);return this.selectEl.on("change",(r=this,function(e){var t;return r.lang=r.selectEl.val(),t=r.target.hasClass("selected"),r.target.removeClass().removeAttr("data-lang"),-1!==r.lang&&r.target.attr("data-lang",r.lang),t&&r.target.addClass("selected"),r.editor.trigger("valuechanged")})),this.editor.on("valuechanged",function(e){return function(t){if(e.active)return e.refresh()}}(this))},n.prototype.show=function(){var e;return e=1<=arguments.length?U.call(arguments,0):[],n.__super__.show.apply(this,e),this.lang=this.target.attr("data-lang"),null!=this.lang?this.selectEl.val(this.lang):this.selectEl.val(-1)},n}(),A.Toolbar.addButton(d),k=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return z(n,l),n.prototype.name="link",n.prototype.icon="link",n.prototype.htmlTag="a",n.prototype.disableTag="pre",n.prototype.render=function(){var e;return e=1<=arguments.length?U.call(arguments,0):[],n.__super__.render.apply(this,e),this.popover=new x({button:this})},n.prototype._status=function(){return n.__super__._status.call(this),this.active&&!this.editor.selection.rangeAtEndOf(this.node)?this.popover.show(this.node):this.popover.hide()},n.prototype.command=function(){var t,n,a,i,r,o,s;return r=this.editor.selection.range(),this.active?(o=document.createTextNode(this.node.text()),this.node.replaceWith(o),r.selectNode(o)):(t=e(r.extractContents()),i=this.editor.formatter.clearHtml(t.contents(),!1),n=e("<a/>",{href:"",target:"_blank",text:i||this._t("linkText")}),this.editor.selection.blockNodes().length>0?r.insertNode(n[0]):(a=e("<p/>").append(n),r.insertNode(a[0])),r.selectNodeContents(n[0]),this.popover.one("popovershow",(s=this,function(){return i?(s.popover.urlEl.focus(),s.popover.urlEl[0].select()):(s.popover.textEl.focus(),s.popover.textEl[0].select())}))),this.editor.selection.range(r),this.editor.trigger("valuechanged")},n}(),x=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return z(n,T),n.prototype.render=function(){var t,n;return t='<div class="link-settings">\n  <div class="settings-field">\n    <label>'+this._t("linkText")+'</label>\n    <input class="link-text" type="text"/>\n    <a class="btn-unlink" href="javascript:;" title="'+this._t("removeLink")+'"\n      tabindex="-1">\n      <span class="simditor-icon simditor-icon-unlink"></span>\n    </a>\n  </div>\n  <div class="settings-field">\n    <label>'+this._t("linkUrl")+'</label>\n    <input class="link-url" type="text"/>\n  </div>\n  <div class="settings-field">\n    <label>'+this._t("linkTarget")+'</label>\n    <select class="link-target">\n      <option value="_blank">'+this._t("openLinkInNewWindow")+' (_blank)</option>\n      <option value="_self">'+this._t("openLinkInCurrentWindow")+" (_self)</option>\n    </select>\n  </div>\n</div>",this.el.addClass("link-popover").append(t),this.textEl=this.el.find(".link-text"),this.urlEl=this.el.find(".link-url"),this.unlinkEl=this.el.find(".btn-unlink"),this.selectTarget=this.el.find(".link-target"),this.textEl.on("keyup",(n=this,function(e){if(13!==e.which)return n.target.text(n.textEl.val()),n.editor.inputManager.throttledValueChanged()})),this.urlEl.on("keyup",function(e){return function(t){var n;if(13!==t.which)return n=e.urlEl.val(),!/^(http|https|ftp|ftps|file)?:\/\/|^(mailto|tel)?:|^\//gi.test(n)&&n&&(n="http://"+n),e.target.attr("href",n),e.editor.inputManager.throttledValueChanged()}}(this)),e([this.urlEl[0],this.textEl[0]]).on("keydown",function(t){return function(n){var a;if(13===n.which||27===n.which||!n.shiftKey&&9===n.which&&e(n.target).hasClass("link-url"))return n.preventDefault(),a=document.createRange(),t.editor.selection.setRangeAfter(t.target,a),t.hide(),t.editor.inputManager.throttledValueChanged()}}(this)),this.unlinkEl.on("click",function(e){return function(t){var n,a;return a=document.createTextNode(e.target.text()),e.target.replaceWith(a),e.hide(),n=document.createRange(),e.editor.selection.setRangeAfter(a,n),e.editor.inputManager.throttledValueChanged()}}(this)),this.selectTarget.on("change",function(e){return function(t){return e.target.attr("target",e.selectTarget.val()),e.editor.inputManager.throttledValueChanged()}}(this))},n.prototype.show=function(){var e;return e=1<=arguments.length?U.call(arguments,0):[],n.__super__.show.apply(this,e),this.textEl.val(this.target.text()),this.urlEl.val(this.target.attr("href"))},n}(),A.Toolbar.addButton(k),g=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return z(n,l),n.prototype.name="image",n.prototype.icon="picture-o",n.prototype.htmlTag="img",n.prototype.disableTag="pre, table",n.prototype.defaultImage="",n.prototype.needFocus=!1,n.prototype._init=function(){var t,a,i,r,o;if(this.editor.opts.imageButton)if(Array.isArray(this.editor.opts.imageButton))for(this.menu=[],a=0,i=(r=this.editor.opts.imageButton).length;a<i;a++)t=r[a],this.menu.push({name:t+"-image",text:this._t(t+"Image")});else this.menu=!1;else null!=this.editor.uploader?this.menu=[{name:"upload-image",text:this._t("uploadImage")},{name:"external-image",text:this._t("externalImage")}]:this.menu=!1;return this.defaultImage=this.editor.opts.defaultImage,this.editor.body.on("click","img:not([data-non-image])",(o=this,function(t){var n,a;return n=e(t.currentTarget),(a=document.createRange()).selectNode(n[0]),o.editor.selection.range(a),o.editor.util.support.onselectionchange||o.editor.trigger("selectionchanged"),!1})),this.editor.body.on("mouseup","img:not([data-non-image])",function(e){return!1}),this.editor.on("selectionchanged.image",function(t){return function(){var n,a,i;if(null!=(i=t.editor.selection.range()))return 1===(n=e(i.cloneContents()).contents()).length&&n.is("img:not([data-non-image])")?(a=e(i.startContainer).contents().eq(i.startOffset),t.popover.show(a)):t.popover.hide()}}(this)),this.editor.on("valuechanged.image",function(t){return function(){var n;if((n=t.editor.wrapper.find(".simditor-image-loading")).length>0)return n.each(function(n,a){var i,r,o;if(!((i=(r=e(a)).data("img"))&&i.parent().length>0)&&(r.remove(),i&&(o=i.data("file"))&&(t.editor.uploader.cancel(o),t.editor.body.find("img.uploading").length<1)))return t.editor.uploader.trigger("uploadready",[o])})}}(this)),n.__super__._init.call(this)},n.prototype.render=function(){var e;if(e=1<=arguments.length?U.call(arguments,0):[],n.__super__.render.apply(this,e),this.popover=new v({button:this}),"upload"===this.editor.opts.imageButton)return this._initUploader(this.el)},n.prototype.renderMenu=function(){return n.__super__.renderMenu.call(this),this._initUploader()},n.prototype._initUploader=function(t){var n,a,i,r;if(null==t&&(t=this.menuEl.find(".menu-item-upload-image")),null!=this.editor.uploader)return n=null,r=this,(a=function(){return n&&n.remove(),n=e("<input/>",{type:"file",title:r._t("uploadImage"),multiple:!0,accept:"image/gif,image/jpeg,image/jpg,image/png,image/svg"}).appendTo(t)})(),t.on("click mousedown","input[type=file]",function(e){return e.stopPropagation()}),t.on("change","input[type=file]",function(e){return function(t){return e.editor.inputManager.focused?(e.editor.uploader.upload(n,{inline:!0}),a()):(e.editor.one("focus",function(t){return e.editor.uploader.upload(n,{inline:!0}),a()}),e.editor.focus()),e.wrapper.removeClass("menu-on")}}(this)),this.editor.uploader.on("beforeupload",function(t){return function(n,a){var i;if(a.inline)return a.img?i=e(a.img):(i=t.createImage(a.name),a.img=i),i.addClass("uploading"),i.data("file",a),t.editor.uploader.readImageFile(a.obj,function(e){var n;if(i.hasClass("uploading"))return n=e?e.src:t.defaultImage,t.loadImage(i,n,function(){if(t.popover.active)return t.popover.refresh(),t.popover.srcEl.val(t._t("uploading")).prop("disabled",!0)})})}}(this)),i=e.proxy(this.editor.util.throttle(function(e,t,n,a){var i,r,o;if(t.inline&&(r=t.img.data("mask"))){if((i=r.data("img"))&&i.hasClass("uploading")&&i.parent().length>0)return(o=(100*(o=n/a)).toFixed(0))>99&&(o=99),r.find(".progress").height(100-o+"%");r.remove()}},500),this),this.editor.uploader.on("uploadprogress",i),this.editor.uploader.on("uploadsuccess",function(t){return function(n,a,i){var r,o,s;if(a.inline&&(r=a.img).hasClass("uploading")&&r.parent().length>0){if("object"!==typeof i)try{i=e.parseJSON(i)}catch(l){i={success:!1}}return!1===i.success?(s=i.msg||t._t("uploadFailed"),alert(s),o=t.defaultImage):o=i.file_path,t.loadImage(r,o,function(){var e;if(r.removeData("file"),r.removeClass("uploading").removeClass("loading"),(e=r.data("mask"))&&e.remove(),r.removeData("mask"),t.editor.trigger("valuechanged"),t.editor.body.find("img.uploading").length<1)return t.editor.uploader.trigger("uploadready",[a,i])}),t.popover.active?(t.popover.srcEl.prop("disabled",!1),t.popover.srcEl.val(i.file_path)):void 0}}}(this)),this.editor.uploader.on("uploaderror",function(t){return function(n,a,i){var r,o;if(a.inline&&"abort"!==i.statusText){if(i.responseText)try{(o=e.parseJSON(i.responseText)).msg}catch(s){t._t("uploadError")}if((r=a.img).hasClass("uploading")&&r.parent().length>0)return t.loadImage(r,t.defaultImage,function(){var e;return r.removeData("file"),r.removeClass("uploading").removeClass("loading"),(e=r.data("mask"))&&e.remove(),r.removeData("mask")}),t.popover.active&&(t.popover.srcEl.prop("disabled",!1),t.popover.srcEl.val(t.defaultImage)),t.editor.trigger("valuechanged"),t.editor.body.find("img.uploading").length<1?t.editor.uploader.trigger("uploadready",[a,o]):void 0}}}(this));this.el.find(".btn-upload").remove()},n.prototype._status=function(){return this._disableStatus()},n.prototype.loadImage=function(t,n,a){var i,r,o,s;return s=this,o=function(){var e,n;return e=t.offset(),n=s.editor.wrapper.offset(),i.css({top:e.top-n.top,left:e.left-n.left,width:t.width(),height:t.height()}).show()},t.addClass("loading"),(i=t.data("mask"))||(i=e('<div class="simditor-image-loading">\n  <div class="progress"></div>\n</div>').hide().appendTo(this.editor.wrapper),o(),t.data("mask",i),i.data("img",t)),(r=new Image).onload=function(s){return function(){var l,c;if(t.hasClass("loading")||t.hasClass("uploading"))return c=r.width,l=r.height,t.attr({src:n,width:c,height:l,"data-image-size":c+","+l}).removeClass("loading"),t.hasClass("uploading")?(s.editor.util.reflow(s.editor.body),o()):(i.remove(),t.removeData("mask")),e.isFunction(a)?a(r):void 0}}(this),r.onerror=function(){return e.isFunction(a)&&a(!1),i.remove(),t.removeData("mask").removeClass("loading")},r.setAttribute("src",n)},n.prototype.createImage=function(t){var n,a;return null==t&&(t="Image"),this.editor.inputManager.focused||this.editor.focus(),(a=this.editor.selection.range()).deleteContents(),this.editor.selection.range(a),n=e("<img/>").attr("alt",t),a.insertNode(n[0]),this.editor.selection.setRangeAfter(n,a),this.editor.trigger("valuechanged"),n},n.prototype.command=function(e){var t,n;return t=this.createImage(),this.loadImage(t,e||this.defaultImage,(n=this,function(){return n.editor.trigger("valuechanged"),n.editor.util.reflow(t),t.click(),n.popover.one("popovershow",function(){return n.popover.srcEl.focus(),n.popover.srcEl[0].select()})}))},n}(),v=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return z(n,T),n.prototype.offset={top:6,left:-4},n.prototype.render=function(){var t,n;return t='<div class="link-settings">\n  <div class="settings-field">\n    <label>'+this._t("imageUrl")+'</label>\n    <input class="image-src" type="text" tabindex="1" />\n    <a class="btn-upload" href="javascript:;"\n      title="'+this._t("uploadImage")+'" tabindex="-1">\n      <span class="simditor-icon simditor-icon-upload"></span>\n    </a>\n  </div>\n  <div class=\'settings-field\'>\n    <label>'+this._t("imageAlt")+'</label>\n    <input class="image-alt" id="image-alt" type="text" tabindex="1" />\n  </div>\n  <div class="settings-field">\n    <label>'+this._t("imageSize")+'</label>\n    <input class="image-size" id="image-width" type="text" tabindex="2" />\n    <span class="times">\xd7</span>\n    <input class="image-size" id="image-height" type="text" tabindex="3" />\n    <a class="btn-restore" href="javascript:;"\n      title="'+this._t("restoreImageSize")+'" tabindex="-1">\n      <span class="simditor-icon simditor-icon-undo"></span>\n    </a>\n  </div>\n</div>',this.el.addClass("image-popover").append(t),this.srcEl=this.el.find(".image-src"),this.widthEl=this.el.find("#image-width"),this.heightEl=this.el.find("#image-height"),this.altEl=this.el.find("#image-alt"),this.srcEl.on("keydown",(n=this,function(e){var t;if(13===e.which&&!n.target.hasClass("uploading"))return e.preventDefault(),t=document.createRange(),n.button.editor.selection.setRangeAfter(n.target,t),n.hide()})),this.srcEl.on("blur",function(e){return function(t){return e._loadImage(e.srcEl.val())}}(this)),this.el.find(".image-size").on("blur",function(t){return function(n){return t._resizeImg(e(n.currentTarget)),t.el.data("popover").refresh()}}(this)),this.el.find(".image-size").on("keyup",function(t){return function(n){var a;if(a=e(n.currentTarget),13!==n.which&&27!==n.which&&9!==n.which)return t._resizeImg(a,!0)}}(this)),this.el.find(".image-size").on("keydown",function(t){return function(n){var a,i,r;return i=e(n.currentTarget),13===n.which||27===n.which?(n.preventDefault(),13===n.which?t._resizeImg(i):t._restoreImg(),a=t.target,t.hide(),r=document.createRange(),t.button.editor.selection.setRangeAfter(a,r)):9===n.which?t.el.data("popover").refresh():void 0}}(this)),this.altEl.on("keydown",function(e){return function(t){var n;if(13===t.which)return t.preventDefault(),n=document.createRange(),e.button.editor.selection.setRangeAfter(e.target,n),e.hide()}}(this)),this.altEl.on("keyup",function(e){return function(t){if(13!==t.which&&27!==t.which&&9!==t.which)return e.alt=e.altEl.val(),e.target.attr("alt",e.alt)}}(this)),this.el.find(".btn-restore").on("click",function(e){return function(t){return e._restoreImg(),e.el.data("popover").refresh()}}(this)),this.editor.on("valuechanged",function(e){return function(t){if(e.active)return e.refresh()}}(this)),this._initUploader()},n.prototype._initUploader=function(){var t,n,a;if(t=this.el.find(".btn-upload"),null!=this.editor.uploader)return a=this,(n=function(){return a.input&&a.input.remove(),a.input=e("<input/>",{type:"file",title:a._t("uploadImage"),multiple:!0,accept:"image/gif,image/jpeg,image/jpg,image/png,image/svg"}).appendTo(t)})(),this.el.on("click mousedown","input[type=file]",function(e){return e.stopPropagation()}),this.el.on("change","input[type=file]",function(e){return function(t){return e.editor.uploader.upload(e.input,{inline:!0,img:e.target}),n()}}(this));t.remove()},n.prototype._resizeImg=function(t,n){var a,i,r;if(null==n&&(n=!1),i=1*t.val(),this.target&&(e.isNumeric(i)||i<0))return t.is(this.widthEl)?(r=i,a=this.height*i/this.width,this.heightEl.val(a)):(a=i,r=this.width*i/this.height,this.widthEl.val(r)),n?void 0:(this.target.attr({width:r,height:a}),this.editor.trigger("valuechanged"))},n.prototype._restoreImg=function(){var e,t;return t=(null!=(e=this.target.data("image-size"))?e.split(","):void 0)||[this.width,this.height],this.target.attr({width:1*t[0],height:1*t[1]}),this.widthEl.val(t[0]),this.heightEl.val(t[1]),this.editor.trigger("valuechanged")},n.prototype._loadImage=function(e,t){var n;if(!/^data:image/.test(e)||this.editor.uploader){if(this.target.attr("src")!==e)return this.button.loadImage(this.target,e,(n=this,function(a){var i;if(a)return n.active&&(n.width=a.width,n.height=a.height,n.widthEl.val(n.width),n.heightEl.val(n.height)),/^data:image/.test(e)?((i=n.editor.util.dataURLtoBlob(e)).name="Base64 Image.png",n.editor.uploader.upload(i,{inline:!0,img:n.target})):n.editor.trigger("valuechanged"),t?t(a):void 0}))}else t&&t(!1)},n.prototype.show=function(){var e,t;return t=1<=arguments.length?U.call(arguments,0):[],n.__super__.show.apply(this,t),e=this.target,this.width=e.width(),this.height=e.height(),this.alt=e.attr("alt"),e.hasClass("uploading")?this.srcEl.val(this._t("uploading")).prop("disabled",!0):(this.srcEl.val(e.attr("src")).prop("disabled",!1),this.widthEl.val(this.width),this.heightEl.val(this.height),this.altEl.val(this.alt))},n}(),A.Toolbar.addButton(g),b=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return z(t,l),t.prototype.name="indent",t.prototype.icon="indent",t.prototype._init=function(){var e;return e=!1===this.editor.opts.tabIndent?"":" (Tab)",this.title=this._t(this.name)+e,t.__super__._init.call(this)},t.prototype._status=function(){},t.prototype.command=function(){return this.editor.indentation.indent()},t}(),A.Toolbar.addButton(b),N=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return z(t,l),t.prototype.name="outdent",t.prototype.icon="outdent",t.prototype._init=function(){var e;return e=!1===this.editor.opts.tabIndent?"":" (Shift + Tab)",this.title=this._t(this.name)+e,t.__super__._init.call(this)},t.prototype._status=function(){},t.prototype.command=function(){return this.editor.indentation.indent(!0)},t}(),A.Toolbar.addButton(N),f=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return z(n,l),n.prototype.name="hr",n.prototype.icon="minus",n.prototype.htmlTag="hr",n.prototype._status=function(){},n.prototype.command=function(){var t,n,a;return(a=this.editor.selection.rootNodes().first()).next().length>0?this.editor.selection.save():n=e("<p/>").append(this.editor.util.phBr),t=e("<hr/>").insertAfter(a),n?(n.insertAfter(t),this.editor.selection.setRangeAtStartOf(n)):this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(),A.Toolbar.addButton(f),j=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return z(n,l),n.prototype.name="table",n.prototype.icon="table",n.prototype.htmlTag="table",n.prototype.disableTag="pre, li, blockquote",n.prototype.menu=!0,n.prototype._init=function(){var t;return n.__super__._init.call(this),e.merge(this.editor.formatter._allowedTags,["thead","th","tbody","tr","td","colgroup","col"]),e.extend(this.editor.formatter._allowedAttributes,{td:["rowspan","colspan"],col:["width"]}),e.extend(this.editor.formatter._allowedStyles,{td:["text-align"],th:["text-align"]}),this._initShortcuts(),this._initResize(),this.editor.on("decorate",(t=this,function(n,a){return a.find("table").each(function(n,a){return t.decorate(e(a))})})),this.editor.on("undecorate",function(t){return function(n,a){return a.find("table").each(function(n,a){return t.undecorate(e(a))})}}(this)),this.editor.on("selectionchanged.table",function(e){return function(t){var n,a;if(e.editor.body.find(".simditor-table td, .simditor-table th").removeClass("active"),a=e.editor.selection.range())return n=e.editor.selection.containerNode(),a.collapsed&&n.is(".simditor-table")&&e.editor.selection.setRangeAtEndOf(n),n.closest("td, th",e.editor.body).addClass("active")}}(this)),this.editor.on("blur.table",function(e){return function(t){return e.editor.body.find(".simditor-table td, .simditor-table th").removeClass("active")}}(this)),this.editor.keystroke.add("up","td",function(e){return function(t,n){return e._tdNav(n,"up"),!0}}(this)),this.editor.keystroke.add("up","th",function(e){return function(t,n){return e._tdNav(n,"up"),!0}}(this)),this.editor.keystroke.add("down","td",function(e){return function(t,n){return e._tdNav(n,"down"),!0}}(this)),this.editor.keystroke.add("down","th",function(e){return function(t,n){return e._tdNav(n,"down"),!0}}(this))},n.prototype._tdNav=function(e,t){var n,a,i,r;return null==t&&(t="up"),i="up"===t?"prev":"next",a=e.parent("tr"),!((n=this["_"+i+"Row"](a)).length>0)||(r=a.find("td, th").index(e),this.editor.selection.setRangeAtEndOf(n.find("td, th").eq(r)))},n.prototype._nextRow=function(e){var t;return(t=e.next("tr")).length<1&&e.parent("thead").length>0&&(t=e.parent("thead").next("tbody").find("tr:first")),t},n.prototype._prevRow=function(e){var t;return(t=e.prev("tr")).length<1&&e.parent("tbody").length>0&&(t=e.parent("tbody").prev("thead").find("tr")),t},n.prototype._initResize=function(){var t;return t=this.editor,e(document).on("mousemove.simditor-table",".simditor-table td, .simditor-table th",function(t){var n,a,i,r,o,s,l,c;if(i=(o=e(this).parents(".simditor-table")).find(".simditor-resize-handle"),a=o.find("colgroup"),!o.hasClass("resizing"))if(r=e(t.currentTarget),t.pageX-e(t.currentTarget).offset().left<5&&r.prev().length>0&&(r=r.prev()),r.next("td, th").length<1)i.hide();else if(null!=(l=i.data("td"))&&l.is(r))i.show();else{if(s=r.parent().find("td, th").index(r),n=a.find("col").eq(s),null==(c=i.data("col"))||!c.is(n))return i.css("left",r.position().left+r.outerWidth()-5).data("td",r).data("col",n).show();i.show()}}),e(document).on("mouseleave.simditor-table",".simditor-table",function(t){return e(this).find(".simditor-resize-handle").hide()}),e(document).on("mousedown.simditor-resize-handle",".simditor-resize-handle",function(n){var a,i,r,o,s,l,c,d,u,p,h;return l=e(this).parent(".simditor-table"),r=(a=e(n.currentTarget)).data("td"),i=a.data("col"),s=r.next("td, th"),o=i.next("col"),p=n.pageX,d=1*r.outerWidth(),u=1*s.outerWidth(),c=parseFloat(a.css("left")),h=r.closest("table").width(),e(document).on("mousemove.simditor-resize-table",function(e){var t,n,r;return t=e.pageX-p,r=u-t,(n=d+t)<50?(n=50,r=u-(t=50-d)):r<50&&(r=50,n=d+(t=u-50)),i.attr("width",n/h*100+"%"),o.attr("width",r/h*100+"%"),a.css("left",c+t)}),e(document).one("mouseup.simditor-resize-table",function(n){return t.sync(),e(document).off(".simditor-resize-table"),l.removeClass("resizing")}),l.addClass("resizing"),!1})},n.prototype._initShortcuts=function(){var e;return this.editor.hotkeys.add("ctrl+alt+up",(e=this,function(t){return e.editMenu.find(".menu-item[data-param=insertRowAbove]").click(),!1})),this.editor.hotkeys.add("ctrl+alt+down",function(e){return function(t){return e.editMenu.find(".menu-item[data-param=insertRowBelow]").click(),!1}}(this)),this.editor.hotkeys.add("ctrl+alt+left",function(e){return function(t){return e.editMenu.find(".menu-item[data-param=insertColLeft]").click(),!1}}(this)),this.editor.hotkeys.add("ctrl+alt+right",function(e){return function(t){return e.editMenu.find(".menu-item[data-param=insertColRight]").click(),!1}}(this))},n.prototype.decorate=function(t){var n,a,i,r,o;return t.parent(".simditor-table").length>0&&this.undecorate(t),t.wrap('<div class="simditor-table"></div>'),o=t.parent(".simditor-table"),n=t.find("colgroup"),t.find("thead").length<1&&(r=e("<thead />"),a=t.find("tr").first(),r.append(a),this._changeCellTag(a,"th"),(i=t.find("tbody")).length>0?i.before(r):t.prepend(r)),n.length<1&&(n=e("<colgroup/>").prependTo(t),t.find("thead tr th").each(function(t,a){return e("<col/>").appendTo(n)}),this.refreshTableWidth(t)),e("<div />",{class:"simditor-resize-handle",contenteditable:"false"}).appendTo(o),t.parent()},n.prototype.undecorate=function(e){if(e.parent(".simditor-table").length>0)return e.parent().replaceWith(e)},n.prototype.renderMenu=function(){var t,n;return e('<div class="menu-create-table">\n</div>\n<div class="menu-edit-table">\n  <ul>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="deleteRow">\n        <span>'+this._t("deleteRow")+'</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertRowAbove">\n        <span>'+this._t("insertRowAbove")+' ( Ctrl + Alt + \u2191 )</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertRowBelow">\n        <span>'+this._t("insertRowBelow")+' ( Ctrl + Alt + \u2193 )</span>\n      </a>\n    </li>\n    <li><span class="separator"></span></li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="deleteCol">\n        <span>'+this._t("deleteColumn")+'</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertColLeft">\n        <span>'+this._t("insertColumnLeft")+' ( Ctrl + Alt + \u2190 )</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertColRight">\n        <span>'+this._t("insertColumnRight")+' ( Ctrl + Alt + \u2192 )</span>\n      </a>\n    </li>\n    <li><span class="separator"></span></li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="deleteTable">\n        <span>'+this._t("deleteTable")+"</span>\n      </a>\n    </li>\n  </ul>\n</div>").appendTo(this.menuWrapper),this.createMenu=this.menuWrapper.find(".menu-create-table"),this.editMenu=this.menuWrapper.find(".menu-edit-table"),t=this.createTable(6,6).appendTo(this.createMenu),this.createMenu.on("mouseenter","td, th",(n=this,function(a){var i,r,o,s;return n.createMenu.find("td, th").removeClass("selected"),s=(r=(i=e(a.currentTarget)).parent()).find("td, th").index(i)+1,o=r.prevAll("tr").addBack(),r.parent().is("tbody")&&(o=o.add(t.find("thead tr"))),o.find("td:lt("+s+"), th:lt("+s+")").addClass("selected")})),this.createMenu.on("mouseleave",function(t){return e(t.currentTarget).find("td, th").removeClass("selected")}),this.createMenu.on("mousedown","td, th",function(n){return function(a){var i,r,o,s,l;if(n.wrapper.removeClass("menu-on"),n.editor.inputManager.focused)return s=(o=(r=e(a.currentTarget)).parent()).find("td").index(r)+1,l=o.prevAll("tr").length+1,o.parent().is("tbody")&&(l+=1),t=n.createTable(l,s,!0),i=n.editor.selection.blockNodes().last(),n.editor.util.isEmptyNode(i)?i.replaceWith(t):i.after(t),n.decorate(t),n.editor.selection.setRangeAtStartOf(t.find("th:first")),n.editor.trigger("valuechanged"),!1}}(this))},n.prototype.createTable=function(t,n,a){var i,r,o,s,l,c,d,u,p,h;for(i=e("<table/>"),s=e("<thead/>").appendTo(i),r=e("<tbody/>").appendTo(i),u=c=0,p=t;0<=p?c<p:c>p;u=0<=p?++c:--c)for((l=e("<tr/>")).appendTo(0===u?s:r),d=0,h=n;0<=h?d<h:d>h;0<=h?++d:--d)o=e(0===u?"<th/>":"<td/>").appendTo(l),a&&o.append(this.editor.util.phBr);return i},n.prototype.refreshTableWidth=function(t){return setTimeout(function(){var n,a;return a=t.width(),n=t.find("col"),t.find("thead tr th").each(function(t,i){return n.eq(t).attr("width",e(i).outerWidth()/a*100+"%")})},0)},n.prototype.setActive=function(e){return n.__super__.setActive.call(this,e),e?(this.createMenu.hide(),this.editMenu.show()):(this.createMenu.show(),this.editMenu.hide())},n.prototype._changeCellTag=function(t,n){return t.find("td, th").each(function(t,a){var i;return(i=e(a)).replaceWith("<"+n+">"+i.html()+"</"+n+">")})},n.prototype.deleteRow=function(e){var t,n,a;return(n=e.parent("tr")).closest("table").find("tr").length<1?this.deleteTable(e):((t=this._nextRow(n)).length>0||(t=this._prevRow(n)),a=n.find("td, th").index(e),n.parent().is("thead")&&(t.appendTo(n.parent()),this._changeCellTag(t,"th")),n.remove(),this.editor.selection.setRangeAtEndOf(t.find("td, th").eq(a)))},n.prototype.insertRow=function(t,n){var a,i,r,o,s,l,c,d;for(null==n&&(n="after"),i=(r=t.parent("tr")).closest("table"),s=0,i.find("tr").each(function(t,n){return s=Math.max(s,e(n).find("td").length)}),l=r.find("td, th").index(t),a=e("<tr/>"),o="td","after"===n&&r.parent().is("thead")?r.parent().next("tbody").prepend(a):"before"===n&&r.parent().is("thead")?(r.before(a),r.parent().next("tbody").prepend(r),this._changeCellTag(r,"td"),o="th"):r[n](a),c=1,d=s;1<=d?c<=d:c>=d;1<=d?++c:--c)e("<"+o+"/>").append(this.editor.util.phBr).appendTo(a);return this.editor.selection.setRangeAtStartOf(a.find("td, th").eq(l))},n.prototype.deleteCol=function(t){var n,a,i,r,o,s;return s=(i=t.parent("tr")).closest("table").find("tr").length<2,o=t.siblings("td, th").length<1,s&&o?this.deleteTable(t):(r=i.find("td, th").index(t),(n=t.next("td, th")).length>0||(n=i.prev("td, th")),(a=i.closest("table")).find("col").eq(r).remove(),a.find("tr").each(function(t,n){return e(n).find("td, th").eq(r).remove()}),this.refreshTableWidth(a),this.editor.selection.setRangeAtEndOf(n))},n.prototype.insertCol=function(t,n){var a,i,r,o,s,l,c,d,u;return null==n&&(n="after"),s=t.parent("tr"),l=s.find("td, th").index(t),a=(o=t.closest("table")).find("col").eq(l),o.find("tr").each((u=this,function(t,a){var i,r;return r=e(a).parent().is("thead")?"th":"td",i=e("<"+r+"/>").append(u.editor.util.phBr),e(a).find("td, th").eq(l)[n](i)})),i=e("<col/>"),a[n](i),c=o.width(),d=Math.max(parseFloat(a.attr("width"))/2,50/c*100),a.attr("width",d+"%"),i.attr("width",d+"%"),this.refreshTableWidth(o),r="after"===n?t.next("td, th"):t.prev("td, th"),this.editor.selection.setRangeAtStartOf(r)},n.prototype.deleteTable=function(e){var t,n;if(t=(n=e.closest(".simditor-table")).next("p"),n.remove(),t.length>0)return this.editor.selection.setRangeAtStartOf(t)},n.prototype.command=function(e){var t;if((t=this.editor.selection.containerNode().closest("td, th")).length>0){if("deleteRow"===e)this.deleteRow(t);else if("insertRowAbove"===e)this.insertRow(t,"before");else if("insertRowBelow"===e)this.insertRow(t);else if("deleteCol"===e)this.deleteCol(t);else if("insertColLeft"===e)this.insertCol(t,"before");else if("insertColRight"===e)this.insertCol(t);else{if("deleteTable"!==e)return;this.deleteTable(t)}return this.editor.trigger("valuechanged")}},n}(),A.Toolbar.addButton(j),I=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return z(n,l),n.prototype.name="strikethrough",n.prototype.icon="strikethrough",n.prototype.htmlTag="strike",n.prototype.disableTag="pre",n.prototype._activeStatus=function(){var e;return e=!0===document.queryCommandState("strikethrough"),this.setActive(e),this.active},n.prototype.command=function(){return document.execCommand("strikethrough"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),e(document).trigger("selectionchange")},n}(),A.Toolbar.addButton(I),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return z(t,l),t.prototype.name="alignment",t.prototype.icon="align-left",t.prototype.htmlTag="p, h1, h2, h3, h4, td, th",t.prototype._init=function(){return this.menu=[{name:"left",text:this._t("alignLeft"),icon:"align-left",param:"left"},{name:"center",text:this._t("alignCenter"),icon:"align-center",param:"center"},{name:"right",text:this._t("alignRight"),icon:"align-right",param:"right"}],t.__super__._init.call(this)},t.prototype.setActive=function(e,n){return null==n&&(n="left"),"left"!==n&&"center"!==n&&"right"!==n&&(n="left"),"left"===n?t.__super__.setActive.call(this,!1):t.__super__.setActive.call(this,e),this.el.removeClass("align-left align-center align-right"),e&&this.el.addClass("align-"+n),this.setIcon("align-"+n),this.menuEl.find(".menu-item").show().end().find(".menu-item-"+n).hide()},t.prototype._status=function(){return this.nodes=this.editor.selection.nodes().filter(this.htmlTag),this.nodes.length<1?(this.setDisabled(!0),this.setActive(!1)):(this.setDisabled(!1),this.setActive(!0,this.nodes.first().css("text-align")))},t.prototype.command=function(e){if("left"!==e&&"center"!==e&&"right"!==e)throw new Error("simditor alignment button: invalid align "+e);return this.nodes.css({"text-align":"left"===e?"":e}),this.editor.trigger("valuechanged"),this.editor.inputManager.throttledSelectionChanged()},t}(),A.Toolbar.addButton(r),A}(jQuery,e,t,n,a)}.apply(t,a))||(e.exports=i)},,,,,,,,,,function(e,t,n){var a,i;i=this,void 0===(a=function(){return i.Module=function(e){var t=[].slice;return function(){function n(t){var n,a,i,r,o,s,l;if(this.opts=e.extend({},this.opts,t),(n=this.constructor)._connectedClasses||(n._connectedClasses=[]),o=function(){var e,t,n,i;for(i=[],e=0,t=(n=this.constructor._connectedClasses).length;e<t;e++)a=n[e],l=a.pluginName.charAt(0).toLowerCase()+a.pluginName.slice(1),a.prototype._connected&&(a.prototype._module=this),i.push(this[l]=new a);return i}.call(this),this._connected)this.opts=e.extend({},this.opts,this._module.opts);else for(this._init(),i=0,s=o.length;i<s;i++)"function"===typeof(r=o[i])._init&&r._init();this.trigger("initialized")}return n.extend=function(e){var t,n,a;if(null!=e&&"object"===typeof e){for(t in e)a=e[t],"included"!==t&&"extended"!==t&&(this[t]=a);return null!=(n=e.extended)?n.call(this):void 0}},n.include=function(e){var t,n,a;if(null!=e&&"object"===typeof e){for(t in e)a=e[t],"included"!==t&&"extended"!==t&&(this.prototype[t]=a);return null!=(n=e.included)?n.call(this):void 0}},n.connect=function(e){if("function"===typeof e){if(!e.pluginName)throw new Error("Module.connect: cannot connect plugin without pluginName");return e.prototype._connected=!0,this._connectedClasses||(this._connectedClasses=[]),this._connectedClasses.push(e),e.pluginName?this[e.pluginName]=e:void 0}},n.prototype.opts={},n.prototype._init=function(){},n.prototype.on=function(){var n,a;return n=1<=arguments.length?t.call(arguments,0):[],(a=e(this)).on.apply(a,n),this},n.prototype.one=function(){var n,a;return n=1<=arguments.length?t.call(arguments,0):[],(a=e(this)).one.apply(a,n),this},n.prototype.off=function(){var n,a;return n=1<=arguments.length?t.call(arguments,0):[],(a=e(this)).off.apply(a,n),this},n.prototype.trigger=function(){var n,a;return n=1<=arguments.length?t.call(arguments,0):[],(a=e(this)).trigger.apply(a,n),this},n.prototype.triggerHandler=function(){var n,a;return n=1<=arguments.length?t.call(arguments,0):[],(a=e(this)).triggerHandler.apply(a,n)},n.prototype._t=function(){var e,n;return e=1<=arguments.length?t.call(arguments,0):[],(n=this.constructor)._t.apply(n,e)},n._t=function(){var e,n,a,i;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],i=(null!=(a=this.i18n[this.locale])?a[n]:void 0)||"",e.length>0?(i=i.replace(/([^%]|^)%(?:(\d+)\$)?s/g,function(t,n,a){return a?n+e[parseInt(a)-1]:n+e.shift()})).replace(/%%s/g,"%s"):i},n.i18n={"zh-CN":{}},n.locale="zh-CN",n}()}(jQuery)}.call(t,n,t,e))||(e.exports=a)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(t){var n=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,n=0,a={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof i?new i(e.type,a.util.encode(e.content),e.alias):Array.isArray(e)?e.map(a.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var i,r,o=a.util.type(t);switch(n=n||{},o){case"Object":if(r=a.util.objId(t),n[r])return n[r];for(var s in i={},n[r]=i,t)t.hasOwnProperty(s)&&(i[s]=e(t[s],n));return i;case"Array":return r=a.util.objId(t),n[r]?n[r]:(i=[],n[r]=i,t.forEach(function(t,a){i[a]=e(t,n)}),i);default:return t}},getLanguage:function(e){for(;e&&!t.test(e.className);)e=e.parentElement;return e?(e.className.match(t)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}}},languages:{extend:function(e,t){var n=a.util.clone(a.languages[e]);for(var i in t)n[i]=t[i];return n},insertBefore:function(e,t,n,i){var r=(i=i||a.languages)[e],o={};for(var s in r)if(r.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(o[l]=n[l]);n.hasOwnProperty(s)||(o[s]=r[s])}var c=i[e];return i[e]=o,a.languages.DFS(a.languages,function(t,n){n===c&&t!=e&&(this[t]=o)}),o},DFS:function e(t,n,i,r){r=r||{};var o=a.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],i||s);var l=t[s],c=a.util.type(l);"Object"!==c||r[o(l)]?"Array"!==c||r[o(l)]||(r[o(l)]=!0,e(l,n,s,r)):(r[o(l)]=!0,e(l,n,null,r))}}},plugins:{},highlightAll:function(e,t){a.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var i={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",i),i.elements=Array.prototype.slice.apply(i.container.querySelectorAll(i.selector)),a.hooks.run("before-all-elements-highlight",i);for(var r,o=0;r=i.elements[o++];)a.highlightElement(r,!0===t,i.callback)},highlightElement:function(n,i,r){var o=a.util.getLanguage(n),s=a.languages[o];n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+o;var l=n.parentNode;l&&"pre"===l.nodeName.toLowerCase()&&(l.className=l.className.replace(t,"").replace(/\s+/g," ")+" language-"+o);var c={element:n,language:o,grammar:s,code:n.textContent};function d(e){c.highlightedCode=e,a.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,a.hooks.run("after-highlight",c),a.hooks.run("complete",c),r&&r.call(c.element)}if(a.hooks.run("before-sanity-check",c),!c.code)return a.hooks.run("complete",c),void(r&&r.call(c.element));if(a.hooks.run("before-highlight",c),c.grammar)if(i&&e.Worker){var u=new Worker(a.filename);u.onmessage=function(e){d(e.data)},u.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else d(a.highlight(c.code,c.grammar,c.language));else d(a.util.encode(c.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};return a.hooks.run("before-tokenize",r),r.tokens=a.tokenize(r.code,r.grammar),a.hooks.run("after-tokenize",r),i.stringify(a.util.encode(r.tokens),r.language)},matchGrammar:function(e,t,n,r,o,s,l){for(var c in n)if(n.hasOwnProperty(c)&&n[c]){var d=n[c];d=Array.isArray(d)?d:[d];for(var u=0;u<d.length;++u){if(l&&l==c+","+u)return;var p=d[u],h=p.inside,m=!!p.lookbehind,f=!!p.greedy,g=0,v=p.alias;if(f&&!p.pattern.global){var b=p.pattern.toString().match(/[imsuy]*$/)[0];p.pattern=RegExp(p.pattern.source,b+"g")}p=p.pattern||p;for(var _=r,y=o;_<t.length;y+=t[_].length,++_){var w=t[_];if(t.length>e.length)return;if(!(w instanceof i)){if(f&&_!=t.length-1){if(p.lastIndex=y,!(N=p.exec(e)))break;for(var E=N.index+(m&&N[1]?N[1].length:0),k=N.index+N[0].length,x=_,S=y,C=t.length;x<C&&(S<k||!t[x].type&&!t[x-1].greedy);++x)(S+=t[x].length)<=E&&(++_,y=S);if(t[_]instanceof i)continue;T=x-_,w=e.slice(y,S),N.index-=y}else{p.lastIndex=0;var N=p.exec(w),T=1}if(N){m&&(g=N[1]?N[1].length:0),k=(E=N.index+g)+(N=N[0].slice(g)).length;var O=w.slice(0,E),A=w.slice(k),I=[_,T];O&&(++_,y+=O.length,I.push(O));var j=new i(c,h?a.tokenize(N,h):N,v,N,f);if(I.push(j),A&&I.push(A),Array.prototype.splice.apply(t,I),1!=T&&a.matchGrammar(e,t,n,_,y,!0,c+","+u),s)break}else if(s)break}}}}},tokenize:function(e,t){var n=[e],i=t.rest;if(i){for(var r in i)t[r]=i[r];delete t.rest}return a.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var n=a.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=a.hooks.all[e];if(n&&n.length)for(var i,r=0;i=n[r++];)i(t)}},Token:i};function i(e,t,n,a,i){this.type=e,this.content=t,this.alias=n,this.length=0|(a||"").length,this.greedy=!!i}if(e.Prism=a,i.stringify=function(e,t){if("string"==typeof e)return e;if(Array.isArray(e))return e.map(function(e){return i.stringify(e,t)}).join("");var n={type:e.type,content:i.stringify(e.content,t),tag:"span",classes:["token",e.type],attributes:{},language:t};if(e.alias){var r=Array.isArray(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(n.classes,r)}a.hooks.run("wrap",n);var o=Object.keys(n.attributes).map(function(e){return e+'="'+(n.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+n.tag+' class="'+n.classes.join(" ")+'"'+(o?" "+o:"")+">"+n.content+"</"+n.tag+">"},!e.document)return e.addEventListener&&(a.disableWorkerMessageHandler||e.addEventListener("message",function(t){var n=JSON.parse(t.data),i=n.language,r=n.code,o=n.immediateClose;e.postMessage(a.highlight(r,a.languages[i],i)),o&&e.close()},!1)),a;var r=a.util.currentScript();if(r&&(a.filename=r.src,r.hasAttribute("data-manual")&&(a.manual=!0)),!a.manual){var o=function(){a.manual||a.highlightAll()},s=document.readyState;"loading"===s||"interactive"===s&&r&&r.defer?document.addEventListener("DOMContentLoaded",o):window.requestAnimationFrame?window.requestAnimationFrame(o):window.setTimeout(o,16)}return a}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=n),"undefined"!=typeof t&&(t.Prism=n),n.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:(?!<!--)[^"'\]]|"[^"]*"|'[^']*'|<!--[\s\S]*?-->)*\]\s*)?>/i,greedy:!0},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s\/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(e,t){var a={};a["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[t]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};i["language-"+t]={pattern:/[\s\S]+/,inside:n.languages[t]};var r={};r[e]={pattern:RegExp("(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\s*|[\\s\\S])*?(?=<\\/__>)".replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:i},n.languages.insertBefore("markup","cdata",r)}}),n.languages.xml=n.languages.extend("markup",{}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{rule:/@[\w-]+/}},url:{pattern:RegExp("url\\((?:"+t.source+"|[^\n\r()]*)\\)","i"),inside:{function:/^url/i,punctuation:/^\(|\)$/}},selector:RegExp("[^{}\\s](?:[^{};\"']|"+t.source+")*?(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:e.languages.css}},alias:"language-css"}},n.tag))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*\/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/--|\+\+|\*\*=?|=>|&&|\|\||[!=]==|<<=?|>>>?=?|[-+*\/%&|^!=<>]=?|\.{3}|\?[.?]?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^\/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*[\s\S]*?\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}}}),n.languages.markup&&n.languages.markup.tag.addInlined("script","javascript"),n.languages.js=n.languages.javascript,function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)\w+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b\w+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+?)\s*(?:\r?\n|\r)[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:n},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s*(?:\r?\n|\r)[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0},{pattern:/(["'])(?:\\[\s\S]|\$\([^)]+\)|`[^`]+`|(?!\1)[^\\])*\1/,greedy:!0,inside:n}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:n.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|==?|!=?|=~|<<[<-]?|[&\d]?>>|\d?[<>]&?|&[>&]?|\|[&|]?|<=?|>=?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}};for(var a=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],i=n.variable[1].inside,r=0;r<a.length;r++)i[a[r]]=e.languages.bash[a[r]];e.languages.shell=e.languages.bash}(n),n.languages.c=n.languages.extend("clike",{"class-name":{pattern:/(\b(?:enum|struct)\s+)\w+/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*\/%&|^!=<>]=?/,number:/(?:\b0x(?:[\da-f]+\.?[\da-f]*|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?)[ful]*/i}),n.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+(?:[^\r\n\\]|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,alias:"property",inside:{string:{pattern:/(#\s*include\s*)(?:<.+?>|("|')(?:\\?.)+?\2)/,lookbehind:!0},directive:{pattern:/(#\s*)\b(?:define|defined|elif|else|endif|error|ifdef|ifndef|if|import|include|line|pragma|undef|using)\b/,lookbehind:!0,alias:"keyword"}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete n.languages.c.boolean,n.languages.csharp=n.languages.extend("clike",{keyword:/\b(?:abstract|add|alias|as|ascending|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|descending|do|double|dynamic|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|from|get|global|goto|group|if|implicit|in|int|interface|internal|into|is|join|let|lock|long|namespace|new|null|object|operator|orderby|out|override|params|partial|private|protected|public|readonly|ref|remove|return|sbyte|sealed|select|set|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|value|var|virtual|void|volatile|where|while|yield)\b/,string:[{pattern:/@("|')(?:\1\1|\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*?\1/,greedy:!0}],"class-name":[{pattern:/\b[A-Z]\w*(?:\.\w+)*\b(?=\s+\w+)/,inside:{punctuation:/\./}},{pattern:/(\[)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/(\b(?:class|interface)\s+[A-Z]\w*(?:\.\w+)*\s*:\s*)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/((?:\b(?:class|interface|new)\s+)|(?:catch\s+\())[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}}],number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)f?/i,operator:/>>=?|<<=?|[-=]>|([-+&|?])\1|~|[-+*\/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),n.languages.insertBefore("csharp","class-name",{"generic-method":{pattern:/\w+\s*<[^>\r\n]+?>\s*(?=\()/,inside:{function:/^\w+/,"class-name":{pattern:/\b[A-Z]\w*(?:\.\w+)*\b/,inside:{punctuation:/\./}},keyword:n.languages.csharp.keyword,punctuation:/[<>(),.:]/}},preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(\s*#)\b(?:define|elif|else|endif|endregion|error|if|line|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}}),n.languages.dotnet=n.languages.cs=n.languages.csharp,n.languages.cpp=n.languages.extend("c",{"class-name":{pattern:/(\b(?:class|enum|struct)\s+)\w+/,lookbehind:!0},keyword:/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+\.?[\da-f']*|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+\.?[\d']*|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]*/i,greedy:!0},operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*\/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),n.languages.insertBefore("cpp","string",{"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),function(e){var t=/#(?!\{).+/,n={pattern:/#\{[^}]+\}/,alias:"variable"};e.languages.coffeescript=e.languages.extend("javascript",{comment:t,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:n}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),e.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:t,interpolation:n}}}),e.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},rest:e.languages.javascript}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:n}}]}),e.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete e.languages.coffeescript["template-string"],e.languages.coffee=e.languages.coffeescript}(n),function(e){e.languages.css.selector={pattern:e.languages.css.selector,inside:{"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-:.\w]+/,id:/#[-:.\w]+/,attribute:{pattern:/\[(?:[^[\]"']|("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1)*\]/,greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)[-*\w\xA0-\uFFFF]*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},attribute:{pattern:/^(\s*)[-\w\xA0-\uFFFF]+/,lookbehind:!0},value:[/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,{pattern:/(=\s*)[-\w\xA0-\uFFFF]+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],punctuation:/[()]/}},e.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*/i,lookbehind:!0}});var t={pattern:/(\d)(?:%|[a-z]+)/,lookbehind:!0},n={pattern:/(^|[^\w.-])-?\d*\.?\d+/,lookbehind:!0};e.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#(?:[\da-f]{1,2}){3,4}\b/i,alias:"color"},color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:rgb|hsl)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:rgb|hsl)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:t,number:n,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:t,number:n})}(n),function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,a,i,r){if(n.language===a){var o=n.tokenStack=[];n.code=n.code.replace(i,function(e){if("function"==typeof r&&!r(e))return e;for(var i,s=o.length;-1!==n.code.indexOf(i=t(a,s));)++s;return o[s]=e,i}),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,a){if(n.language===a&&n.tokenStack){n.grammar=e.languages[a];var i=0,r=Object.keys(n.tokenStack);!function o(s){for(var l=0;l<s.length&&!(i>=r.length);l++){var c=s[l];if("string"==typeof c||c.content&&"string"==typeof c.content){var d=r[i],u=n.tokenStack[d],p="string"==typeof c?c:c.content,h=t(a,d),m=p.indexOf(h);if(-1<m){++i;var f=p.substring(0,m),g=new e.Token(a,e.tokenize(u,n.grammar),"language-"+a,u),v=p.substring(m+h.length),b=[];f&&b.push.apply(b,o([f])),b.push(g),v&&b.push.apply(b,o([v])),"string"==typeof c?s.splice.apply(s,[l,1].concat(b)):c.content=b}}else c.content&&o(c.content)}return s}(n.tokens)}}}})}(n),function(e){e.languages.django={comment:/^{#[\s\S]*?#}$/,tag:{pattern:/(^{%[+-]?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^{[{%][+-]?|[+-]?[}%]}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},filter:{pattern:/(\|)\w+/,lookbehind:!0,alias:"function"},test:{pattern:/(\bis\s+(?:not\s+)?)(?!not\b)\w+/,lookbehind:!0,alias:"function"},function:/\b[a-z_]\w+(?=\s*\()/i,keyword:/\b(?:and|as|by|else|for|if|import|in|is|loop|not|or|recursive|with|without)\b/,operator:/[-+*\/%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,number:/\b\d+(?:\.\d+)?\b/,boolean:/[Tt]rue|[Ff]alse|[Nn]one/,variable:/\b\w+?\b/,punctuation:/[{}[\](),.:;]/};var t=/{{[\s\S]*?}}|{%[\s\S]*?%}|{#[\s\S]*?#}/g,n=e.languages["markup-templating"];e.hooks.add("before-tokenize",function(e){n.buildPlaceholders(e,"django",t)}),e.hooks.add("after-tokenize",function(e){n.tokenizePlaceholders(e,"django")}),e.languages.jinja2=e.languages.django,e.hooks.add("before-tokenize",function(e){n.buildPlaceholders(e,"jinja2",t)}),e.hooks.add("after-tokenize",function(e){n.tokenizePlaceholders(e,"jinja2")})}(n),n.languages["dns-zone-file"]={comment:/;.*/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},variable:[{pattern:/(^\$ORIGIN[ \t]+)\S+/m,lookbehind:!0},{pattern:/(^|\s)@(?=\s|$)/,lookbehind:!0}],keyword:/^\$(?:ORIGIN|INCLUDE|TTL)(?=\s|$)/m,class:{pattern:/(^|\s)(?:IN|CH|CS|HS)(?=\s|$)/,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|\s)(?:A|A6|AAAA|AFSDB|APL|ATMA|CAA|CDNSKEY|CDS|CERT|CNAME|DHCID|DLV|DNAME|DNSKEY|DS|EID|GID|GPOS|HINFO|HIP|IPSECKEY|ISDN|KEY|KX|LOC|MAILA|MAILB|MB|MD|MF|MG|MINFO|MR|MX|NAPTR|NB|NBSTAT|NIMLOC|NINFO|NS|NSAP|NSAP-PTR|NSEC|NSEC3|NSEC3PARAM|NULL|NXT|OPENPGPKEY|PTR|PX|RKEY|RP|RRSIG|RT|SIG|SINK|SMIMEA|SOA|SPF|SRV|SSHFP|TA|TKEY|TLSA|TSIG|TXT|UID|UINFO|UNSPEC|URI|WKS|X25)(?=\s|$)/,lookbehind:!0,alias:"keyword"},punctuation:/[()]/},n.languages["dns-zone"]=n.languages["dns-zone-file"],n.languages.docker={keyword:{pattern:/(^\s*)(?:ADD|ARG|CMD|COPY|ENTRYPOINT|ENV|EXPOSE|FROM|HEALTHCHECK|LABEL|MAINTAINER|ONBUILD|RUN|SHELL|STOPSIGNAL|USER|VOLUME|WORKDIR)(?=\s)/im,lookbehind:!0},string:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,comment:/#.*/,punctuation:/---|\.\.\.|[:[\]{}\-,|>?]/},n.languages.dockerfile=n.languages.docker,n.languages.git={comment:/^#.*/m,deleted:/^[-\u2013].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/m,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/m}},coord:/^@@.*@@$/m,commit_sha1:/^commit \w{40}$/m},n.languages.go=n.languages.extend("clike",{keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,builtin:/\b(?:bool|byte|complex(?:64|128)|error|float(?:32|64)|rune|string|u?int(?:8|16|32|64)?|uintptr|append|cap|close|complex|copy|delete|imag|len|make|new|panic|print(?:ln)?|real|recover)\b/,boolean:/\b(?:_|iota|nil|true|false)\b/,operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,number:/(?:\b0x[a-f\d]+|(?:\b\d+\.?\d*|\B\.\d+)(?:e[-+]?\d+)?)i?/i,string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0}}),delete n.languages.go["class-name"],n.languages.graphql={comment:/#.*/,string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:true|false)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+)[a-zA-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:enum|fragment|implements|input|interface|mutation|on|query|scalar|schema|type|union)\b/,operator:/[!=|]|\.{3}/,punctuation:/[!(){}\[\]:=,]/,constant:/\b(?!ID\b)[A-Z][A-Z_\d]*\b/},n.languages.haskell={comment:{pattern:/(^|[^-!#$%*+=?&@|~.:<>^\\\/])(?:--[^-!#$%*+=?&@|~.:<>^\\\/].*|{-[\s\S]*?-})/m,lookbehind:!0},char:/'(?:[^\\']|\\(?:[abfnrtv\\"'&]|\^[A-Z@[\]^_]|NUL|SOH|STX|ETX|EOT|ENQ|ACK|BEL|BS|HT|LF|VT|FF|CR|SO|SI|DLE|DC1|DC2|DC3|DC4|NAK|SYN|ETB|CAN|EM|SUB|ESC|FS|GS|RS|US|SP|DEL|\d+|o[0-7]+|x[0-9a-fA-F]+))'/,string:{pattern:/"(?:[^\\"]|\\(?:[abfnrtv\\"'&]|\^[A-Z@[\]^_]|NUL|SOH|STX|ETX|EOT|ENQ|ACK|BEL|BS|HT|LF|VT|FF|CR|SO|SI|DLE|DC1|DC2|DC3|DC4|NAK|SYN|ETB|CAN|EM|SUB|ESC|FS|GS|RS|US|SP|DEL|\d+|o[0-7]+|x[0-9a-fA-F]+)|\\\s+\\)*"/,greedy:!0},keyword:/\b(?:case|class|data|deriving|do|else|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b/,import_statement:{pattern:/((?:\r?\n|\r|^)\s*)import\s+(?:qualified\s+)?(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*(?:\s+as\s+(?:[A-Z][_a-zA-Z0-9']*)(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:import|qualified|as|hiding)\b/}},builtin:/\b(?:abs|acos|acosh|all|and|any|appendFile|approxRational|asTypeOf|asin|asinh|atan|atan2|atanh|basicIORun|break|catch|ceiling|chr|compare|concat|concatMap|const|cos|cosh|curry|cycle|decodeFloat|denominator|digitToInt|div|divMod|drop|dropWhile|either|elem|encodeFloat|enumFrom|enumFromThen|enumFromThenTo|enumFromTo|error|even|exp|exponent|fail|filter|flip|floatDigits|floatRadix|floatRange|floor|fmap|foldl|foldl1|foldr|foldr1|fromDouble|fromEnum|fromInt|fromInteger|fromIntegral|fromRational|fst|gcd|getChar|getContents|getLine|group|head|id|inRange|index|init|intToDigit|interact|ioError|isAlpha|isAlphaNum|isAscii|isControl|isDenormalized|isDigit|isHexDigit|isIEEE|isInfinite|isLower|isNaN|isNegativeZero|isOctDigit|isPrint|isSpace|isUpper|iterate|last|lcm|length|lex|lexDigits|lexLitChar|lines|log|logBase|lookup|map|mapM|mapM_|max|maxBound|maximum|maybe|min|minBound|minimum|mod|negate|not|notElem|null|numerator|odd|or|ord|otherwise|pack|pi|pred|primExitWith|print|product|properFraction|putChar|putStr|putStrLn|quot|quotRem|range|rangeSize|read|readDec|readFile|readFloat|readHex|readIO|readInt|readList|readLitChar|readLn|readOct|readParen|readSigned|reads|readsPrec|realToFrac|recip|rem|repeat|replicate|return|reverse|round|scaleFloat|scanl|scanl1|scanr|scanr1|seq|sequence|sequence_|show|showChar|showInt|showList|showLitChar|showParen|showSigned|showString|shows|showsPrec|significand|signum|sin|sinh|snd|sort|span|splitAt|sqrt|subtract|succ|sum|tail|take|takeWhile|tan|tanh|threadToIOResult|toEnum|toInt|toInteger|toLower|toRational|toUpper|truncate|uncurry|undefined|unlines|until|unwords|unzip|unzip3|userError|words|writeFile|zip|zip3|zipWith|zipWith3)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0o[0-7]+|0x[0-9a-f]+)\b/i,operator:/\s\.\s|[-!#$%*+=?&@|~.:<>^\\\/]*\.[-!#$%*+=?&@|~.:<>^\\\/]+|[-!#$%*+=?&@|~.:<>^\\\/]+\.[-!#$%*+=?&@|~.:<>^\\\/]*|[-!#$%*+=?&@|~:<>^\\\/]+|`(?:[A-Z][\w']*\.)*[_a-z][\w']*`/,hvariable:/\b(?:[A-Z][\w']*\.)*[_a-z][\w']*\b/,constant:/\b(?:[A-Z][\w']*\.)*[A-Z][\w']*\b/,punctuation:/[{}[\];(),.:]/},n.languages.hs=n.languages.haskell,function(e){e.languages.http={"request-line":{pattern:/^(?:POST|GET|PUT|DELETE|OPTIONS|PATCH|TRACE|CONNECT)\s(?:https?:\/\/|\/)\S+\sHTTP\/[0-9.]+/m,inside:{property:/^(?:POST|GET|PUT|DELETE|OPTIONS|PATCH|TRACE|CONNECT)\b/,"attr-name":/:\w+/}},"response-status":{pattern:/^HTTP\/1.[01] \d+.*/m,inside:{property:{pattern:/(^HTTP\/1.[01] )\d+.*/i,lookbehind:!0}}},"header-name":{pattern:/^[\w-]+:(?=.)/m,alias:"keyword"}};var t,n,a,i=e.languages,r={"application/javascript":i.javascript,"application/json":i.json||i.javascript,"application/xml":i.xml,"text/xml":i.xml,"text/html":i.html,"text/css":i.css},o={"application/json":!0,"application/xml":!0};for(var s in r)if(r[s]){t=t||{};var l=o[s]?(a=(n=s).replace(/^[a-z]+\//,""),"(?:"+n+"|\\w+/(?:[\\w.-]+\\+)+"+a+"(?![+\\w.-]))"):s;t[s.replace(/\//g,"-")]={pattern:RegExp("(content-type:\\s*"+l+"[\\s\\S]*?)(?:\\r?\\n|\\r){2}[\\s\\S]*","i"),lookbehind:!0,inside:r[s]}}t&&e.languages.insertBefore("http","header-name",t)}(n),function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|null|open|opens|package|private|protected|provides|public|requires|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/\b[A-Z](?:\w*[a-z]\w*)?\b/;e.languages.java=e.languages.extend("clike",{"class-name":[n,/\b[A-Z]\w*(?=\s+\w+\s*[;,=())])/],keyword:t,function:[e.languages.clike.function,{pattern:/(\:\:)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x[\da-f_]*\.?[\da-f_p+-]+\b|(?:\b\d[\d_]*\.?[\d_]*|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*\/%&|^!=<>]=?)/m,lookbehind:!0}}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),e.languages.insertBefore("java","class-name",{annotation:{alias:"punctuation",pattern:/(^|[^.])@\w+/,lookbehind:!0},namespace:{pattern:/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)[a-z]\w*(?:\.[a-z]\w*)+/,lookbehind:!0,inside:{punctuation:/\./}},generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":n,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})}(n),function(e){e.languages.php=e.languages.extend("clike",{keyword:/\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|class|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|new|or|parent|print|private|protected|public|require|require_once|return|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,boolean:{pattern:/\b(?:false|true)\b/i,alias:"constant"},constant:[/\b[A-Z_][A-Z0-9_]*\b/,/\b(?:null)\b/i],comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0}}),e.languages.insertBefore("php","string",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),e.languages.insertBefore("php","comment",{delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"}}),e.languages.insertBefore("php","keyword",{variable:/\$+(?:\w+\b|(?={))/i,package:{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),e.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}});var t={pattern:/{\$(?:{(?:{[^{}]+}|[^{}]+)}|[^{}])+}|(^|[^\\{])\$+(?:\w+(?:\[.+?]|->\w+)*)/,lookbehind:!0,inside:e.languages.php};e.languages.insertBefore("php","string",{"nowdoc-string":{pattern:/<<<'([^']+)'(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;/,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},"heredoc-string":{pattern:/<<<(?:"([^"]+)"(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;|([a-z_]\w*)(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\2;)/i,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:t}},"single-quoted-string":{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,alias:"string",inside:{interpolation:t}}}),delete e.languages.php.string,e.hooks.add("before-tokenize",function(t){/<\?/.test(t.code)&&e.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'\/#]|\/(?![*\/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#)(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|\/\*[\s\S]*?(?:\*\/|$))*?(?:\?>|$)/gi)}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")})}(n),function(e){var t=e.languages.javadoclike={parameter:{pattern:/(^\s*(?:\/{3}|\*|\/\*\*)\s*@(?:param|arg|arguments)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^\s*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/};Object.defineProperty(t,"addSupport",{value:function(t,n){"string"==typeof t&&(t=[t]),t.forEach(function(t){!function(t,n){var a="doc-comment",i=e.languages[t];if(i){var r=i[a];if(!r){r=(i=e.languages.insertBefore(t,"comment",{"doc-comment":{pattern:/(^|[^\\])\/\*\*[^\/][\s\S]*?(?:\*\/|$)/,lookbehind:!0,alias:"comment"}}))[a]}if(r instanceof RegExp&&(r=i[a]={pattern:r}),Array.isArray(r))for(var o=0,s=r.length;o<s;o++)r[o]instanceof RegExp&&(r[o]={pattern:r[o]}),n(r[o]);else n(r)}}(t,function(e){e.inside||(e.inside={}),e.inside.rest=n})})}}),t.addSupport(["java","javascript","php"],t)}(n),function(e){var t={code:{pattern:/(^(?:\s*(?:\*\s*)*)).*[^*\s].+$/m,lookbehind:!0,inside:e.languages.java,alias:"language-java"}};e.languages.javadoc=e.languages.extend("javadoclike",{}),e.languages.insertBefore("javadoc","keyword",{"class-name":[{pattern:/(@(?:exception|throws|see|link|linkplain|value)\s+(?:[a-z\d]+\.)*)[A-Z](?:\w*[a-z]\w*)?(?:\.[A-Z](?:\w*[a-z]\w*)?)*/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/(@param\s+)<[A-Z]\w*>/,lookbehind:!0,inside:{punctuation:/[.<>]/}}],namespace:{pattern:/(@(?:exception|throws|see|link|linkplain)\s+)(?:[a-z\d]+\.)+/,lookbehind:!0,inside:{punctuation:/\./}},"code-section":[{pattern:/(\{@code\s+)(?:[^{}]|\{[^{}]*\})+?(?=\s*\})/,lookbehind:!0,inside:t},{pattern:/(<(code|tt)>\s*)[\s\S]+?(?=\s*<\/\2>)/,lookbehind:!0,inside:t}],tag:e.languages.markup.tag}),e.languages.javadoclike.addSupport("java",e.languages.javadoc)}(n),n.languages.javastacktrace={summary:{pattern:/^[\t ]*(?:(?:Caused by:|Suppressed:|Exception in thread "[^"]*")[\t ]+)?[\w$.]+(?:\:.*)?$/m,inside:{keyword:{pattern:/^(\s*)(?:(?:Caused by|Suppressed)(?=:)|Exception in thread)/m,lookbehind:!0},string:{pattern:/^(\s*)"[^"]*"/,lookbehind:!0},exceptions:{pattern:/^(:?\s*)[\w$.]+(?=:|$)/,lookbehind:!0,inside:{"class-name":/[\w$]+(?=$|:)/,namespace:/[a-z]\w*/,punctuation:/[.:]/}},message:{pattern:/(:\s*)\S.*/,lookbehind:!0,alias:"string"},punctuation:/[:]/}},"stack-frame":{pattern:/^[\t ]*at [\w$.]+(?:<init>)?\([^()]*\)/m,inside:{keyword:{pattern:/^(\s*)at/,lookbehind:!0},source:[{pattern:/(\()\w+.\w+:\d+(?=\))/,lookbehind:!0,inside:{file:/^\w+\.\w+/,punctuation:/:/,"line-number":{pattern:/\d+/,alias:"number"}}},{pattern:/(\()[^()]*(?=\))/,lookbehind:!0,inside:{keyword:/^(?:Unknown Source|Native Method)$/}}],"class-name":/[\w$]+(?=\.(?:<init>|[\w$]+)\()/,function:/(?:<init>|[\w$]+)(?=\()/,namespace:/[a-z]\w*/,punctuation:/[.()]/}},more:{pattern:/^[\t ]*\.{3} \d+ [a-z]+(?: [a-z]+)*/m,inside:{punctuation:/\.{3}/,number:/\d+/,keyword:/\b[a-z]+(?: [a-z]+)*\b/}}},function(e){var t=e.languages.javascript,n="{(?:[^{}]|{(?:[^{}]|{[^{}]*})*})+}",a="(@(?:param|arg|argument|property)\\s+(?:"+n+"\\s+)?)";e.languages.jsdoc=e.languages.extend("javadoclike",{parameter:{pattern:RegExp(a+"[$\\w\\xA0-\\uFFFF.]+(?=\\s|$)"),lookbehind:!0,inside:{punctuation:/\./}}}),e.languages.insertBefore("jsdoc","keyword",{"optional-parameter":{pattern:RegExp(a+"\\[[$\\w\\xA0-\\uFFFF.]+(?:=[^[\\]]+)?\\](?=\\s|$)"),lookbehind:!0,inside:{parameter:{pattern:/(^\[)[$\w\xA0-\uFFFF\.]+/,lookbehind:!0,inside:{punctuation:/\./}},code:{pattern:/(=)[\s\S]*(?=\]$)/,lookbehind:!0,inside:t,alias:"language-javascript"},punctuation:/[=[\]]/}},"class-name":[{pattern:RegExp("(@[a-z]+\\s+)"+n),lookbehind:!0,inside:{punctuation:/[.,:?=<>|{}()[\]]/}},{pattern:/(@(?:augments|extends|class|interface|memberof!?|this)\s+)[A-Z]\w*(?:\.[A-Z]\w*)*/,lookbehind:!0,inside:{punctuation:/\./}}],example:{pattern:/(@example\s+)[^@]+?(?=\s*(?:\*\s*)?(?:@\w|\*\/))/,lookbehind:!0,inside:{code:{pattern:/^(\s*(?:\*\s*)?).+$/m,lookbehind:!0,inside:t,alias:"language-javascript"}}}}),e.languages.javadoclike.addSupport("javascript",e.languages.jsdoc)}(n),function(e){e.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+e.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),e.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+e.languages.javascript.function.source),lookbehind:!0,alias:["function","property-access"]}}),e.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:(?:Uint|Int)(?:8|16|32)|Uint8Clamped|Float(?:32|64))?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|(?:Weak)?(?:Set|Map)|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]}),e.languages.javascript.keyword.unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),e.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),e.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:/(\.\s*)#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*/,lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|location|navigator|performance|(?:local|session)Storage|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var t=["function","function-variable","method","method-variable","property-access"],n=0;n<t.length;n++){var a=t[n],i=e.languages.javascript[a];"RegExp"===e.util.type(i)&&(i=e.languages.javascript[a]={pattern:i});var r=i.inside||{};(i.inside=r)["maybe-class-name"]=/^[A-Z][\s\S]*/}}(n),function(e){var t=e.languages.javascript["template-string"],n=t.pattern.source,a=t.inside.interpolation,i=a.inside["interpolation-punctuation"],r=a.pattern.source;function o(t,a){if(e.languages[t])return{pattern:RegExp("((?:"+a+")\\s*)"+n),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:t}}}}function s(t,n,a){var i={code:t,grammar:n,language:a};return e.hooks.run("before-tokenize",i),i.tokens=e.tokenize(i.code,i.grammar),e.hooks.run("after-tokenize",i),i.tokens}function l(t){var n={};n["interpolation-punctuation"]=i;var r=e.tokenize(t,n);if(3===r.length){var o=[1,1];o.push.apply(o,s(r[1],e.languages.javascript,"javascript")),r.splice.apply(r,o)}return new e.Token("interpolation",r,a.alias,t)}function c(t,n,a){var i=e.tokenize(t,{interpolation:{pattern:RegExp(r),lookbehind:!0}}),o=0,c={},d=s(i.map(function(e){if("string"==typeof e)return e;for(var n,i=e.content;-1!==t.indexOf((r=o++,n="___"+a.toUpperCase()+"_"+r+"___")););return c[n]=i,n;var r}).join(""),n,a),u=Object.keys(c);return o=0,function e(t){for(var n=0;n<t.length;n++){if(o>=u.length)return;var a=t[n];if("string"==typeof a||"string"==typeof a.content){var i=u[o],r="string"==typeof a?a:a.content,s=r.indexOf(i);if(-1!==s){++o;var d=r.substring(0,s),p=l(c[i]),h=r.substring(s+i.length),m=[];if(d&&m.push(d),m.push(p),h){var f=[h];e(f),m.push.apply(m,f)}"string"==typeof a?(t.splice.apply(t,[n,1].concat(m)),n+=m.length-1):a.content=m}}else{var g=a.content;Array.isArray(g)?e(g):e([g])}}}(d),new e.Token(a,d,"language-"+a,t)}e.languages.javascript["template-string"]=[o("css","\\b(?:styled(?:\\([^)]*\\))?(?:\\s*\\.\\s*\\w+(?:\\([^)]*\\))*)*|css(?:\\s*\\.\\s*(?:global|resolve))?|createGlobalStyle|keyframes)"),o("html","\\bhtml|\\.\\s*(?:inner|outer)HTML\\s*\\+?="),o("svg","\\bsvg"),o("markdown","\\b(?:md|markdown)"),o("graphql","\\b(?:gql|graphql(?:\\s*\\.\\s*experimental)?)"),t].filter(Boolean);var d={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};function u(e){return"string"==typeof e?e:Array.isArray(e)?e.map(u).join(""):u(e.content)}e.hooks.add("after-tokenize",function(t){t.language in d&&function t(n){for(var a=0,i=n.length;a<i;a++){var r=n[a];if("string"!=typeof r){var o=r.content;if(Array.isArray(o))if("template-string"===r.type){var s=o[1];if(3===o.length&&"string"!=typeof s&&"embedded-code"===s.type){var l=u(s),d=s.alias,p=Array.isArray(d)?d[0]:d,h=e.languages[p];if(!h)continue;o[1]=c(l,h,p)}}else t(o);else"string"!=typeof o&&t([o])}}}(t.tokens)})}(n),n.languages.json={property:{pattern:/"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,greedy:!0},comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,number:/-?\d+\.?\d*(?:e[+-]?\d+)?/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},n.languages.jsonp=n.languages.extend("json",{punctuation:/[{}[\]();,.]/}),n.languages.insertBefore("jsonp","punctuation",{function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*\()/}),n.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},builtin:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,symbol:{pattern:/^[^:=\r\n]+(?=\s*:(?!=))/m,inside:{variable:/\$+(?:[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:[/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,{pattern:/(\()(?:addsuffix|abspath|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:s|list)?)(?=[ \t])/,lookbehind:!0}],operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/},function(e){function t(e,t){return e=e.replace(/<inner>/g,"(?:\\\\.|[^\\\\\\n\r]|(?:\r?\n|\r)(?!\r?\n|\r))"),t&&(e=e+"|"+e.replace(/_/g,"\\*")),RegExp("((?:^|[^\\\\])(?:\\\\{2})*)(?:"+e+")")}var n="(?:\\\\.|``.+?``|`[^`\r\\n]+`|[^\\\\|\r\\n`])+",a="\\|?__(?:\\|__)+\\|?(?:(?:\r?\n|\r)|$)".replace(/__/g,n),i="\\|?[ \t]*:?-{3,}:?[ \t]*(?:\\|[ \t]*:?-{3,}:?[ \t]*)+\\|?(?:\r?\n|\r)";e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+a+i+"(?:"+a+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+a+i+")(?:"+a+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(n),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+a+")"+i+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+a+"$"),inside:{"table-header":{pattern:RegExp(n),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/(^[ \t]*(?:\r?\n|\r))(?: {4}|\t).+(?:(?:\r?\n|\r)(?: {4}|\t).+)*/m,lookbehind:!0,alias:"keyword"},{pattern:/``.+?``|`[^`\r\n]+`/,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\r?\n|\r))[\s\S]+?(?=(?:\r?\n|\r)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\r?\n|\r)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#+.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:t("__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__",!0),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:t("_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_",!0),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:t("(~~?)(?:(?!~)<inner>)+?\\2",!1),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},url:{pattern:t('!?\\[(?:(?!\\])<inner>)+\\](?:\\([^\\s)]+(?:[\t ]+"(?:\\\\.|[^"\\\\])*")?\\)| ?\\[(?:(?!\\])<inner>)+\\])',!1),lookbehind:!0,greedy:!0,inside:{variable:{pattern:/(\[)[^\]]+(?=\]$)/,lookbehind:!0},content:{pattern:/(^!?\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},string:{pattern:/"(?:\\.|[^"\\])*"(?=\)$)/}}}}),["url","bold","italic","strike"].forEach(function(t){["url","bold","italic","strike"].forEach(function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])})}),e.hooks.add("after-tokenize",function(e){"markdown"!==e.language&&"md"!==e.language||function e(t){if(t&&"string"!=typeof t)for(var n=0,a=t.length;n<a;n++){var i=t[n];if("code"===i.type){var r=i.content[1],o=i.content[3];if(r&&o&&"code-language"===r.type&&"code-block"===o.type&&"string"==typeof r.content){var s=r.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),l="language-"+(s=(/[a-z][\w-]*/i.exec(s)||[""])[0].toLowerCase());o.alias?"string"==typeof o.alias?o.alias=[o.alias,l]:o.alias.push(l):o.alias=[l]}}else e(i.content)}}(e.tokens)}),e.hooks.add("wrap",function(t){if("code-block"===t.type){for(var n="",a=0,i=t.classes.length;a<i;a++){var r=t.classes[a],o=/language-(.+)/.exec(r);if(o){n=o[1];break}}var s=e.languages[n];if(s){var l=t.content.replace(/&lt;/g,"<").replace(/&amp;/g,"&");t.content=e.highlight(l,s,n)}else if(n&&"none"!==n&&e.plugins.autoloader){var c="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes.id=c,e.plugins.autoloader.loadLanguages(n,function(){var t=document.getElementById(c);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))})}}}),e.languages.md=e.languages.markdown}(n),n.languages.nginx=n.languages.extend("clike",{comment:{pattern:/(^|[^"{\\])#.*/,lookbehind:!0},keyword:/\b(?:CONTENT_|DOCUMENT_|GATEWAY_|HTTP_|HTTPS|if_not_empty|PATH_|QUERY_|REDIRECT_|REMOTE_|REQUEST_|SCGI|SCRIPT_|SERVER_|http|events|accept_mutex|accept_mutex_delay|access_log|add_after_body|add_before_body|add_header|addition_types|aio|alias|allow|ancient_browser|ancient_browser_value|auth|auth_basic|auth_basic_user_file|auth_http|auth_http_header|auth_http_timeout|autoindex|autoindex_exact_size|autoindex_localtime|break|charset|charset_map|charset_types|chunked_transfer_encoding|client_body_buffer_size|client_body_in_file_only|client_body_in_single_buffer|client_body_temp_path|client_body_timeout|client_header_buffer_size|client_header_timeout|client_max_body_size|connection_pool_size|create_full_put_path|daemon|dav_access|dav_methods|debug_connection|debug_points|default_type|deny|devpoll_changes|devpoll_events|directio|directio_alignment|disable_symlinks|empty_gif|env|epoll_events|error_log|error_page|expires|fastcgi_buffer_size|fastcgi_buffers|fastcgi_busy_buffers_size|fastcgi_cache|fastcgi_cache_bypass|fastcgi_cache_key|fastcgi_cache_lock|fastcgi_cache_lock_timeout|fastcgi_cache_methods|fastcgi_cache_min_uses|fastcgi_cache_path|fastcgi_cache_purge|fastcgi_cache_use_stale|fastcgi_cache_valid|fastcgi_connect_timeout|fastcgi_hide_header|fastcgi_ignore_client_abort|fastcgi_ignore_headers|fastcgi_index|fastcgi_intercept_errors|fastcgi_keep_conn|fastcgi_max_temp_file_size|fastcgi_next_upstream|fastcgi_no_cache|fastcgi_param|fastcgi_pass|fastcgi_pass_header|fastcgi_read_timeout|fastcgi_redirect_errors|fastcgi_send_timeout|fastcgi_split_path_info|fastcgi_store|fastcgi_store_access|fastcgi_temp_file_write_size|fastcgi_temp_path|flv|geo|geoip_city|geoip_country|google_perftools_profiles|gzip|gzip_buffers|gzip_comp_level|gzip_disable|gzip_http_version|gzip_min_length|gzip_proxied|gzip_static|gzip_types|gzip_vary|if|if_modified_since|ignore_invalid_headers|image_filter|image_filter_buffer|image_filter_jpeg_quality|image_filter_sharpen|image_filter_transparency|imap_capabilities|imap_client_buffer|include|index|internal|ip_hash|keepalive|keepalive_disable|keepalive_requests|keepalive_timeout|kqueue_changes|kqueue_events|large_client_header_buffers|limit_conn|limit_conn_log_level|limit_conn_zone|limit_except|limit_rate|limit_rate_after|limit_req|limit_req_log_level|limit_req_zone|limit_zone|lingering_close|lingering_time|lingering_timeout|listen|location|lock_file|log_format|log_format_combined|log_not_found|log_subrequest|map|map_hash_bucket_size|map_hash_max_size|master_process|max_ranges|memcached_buffer_size|memcached_connect_timeout|memcached_next_upstream|memcached_pass|memcached_read_timeout|memcached_send_timeout|merge_slashes|min_delete_depth|modern_browser|modern_browser_value|mp4|mp4_buffer_size|mp4_max_buffer_size|msie_padding|msie_refresh|multi_accept|open_file_cache|open_file_cache_errors|open_file_cache_min_uses|open_file_cache_valid|open_log_file_cache|optimize_server_names|override_charset|pcre_jit|perl|perl_modules|perl_require|perl_set|pid|pop3_auth|pop3_capabilities|port_in_redirect|post_action|postpone_output|protocol|proxy|proxy_buffer|proxy_buffer_size|proxy_buffering|proxy_buffers|proxy_busy_buffers_size|proxy_cache|proxy_cache_bypass|proxy_cache_key|proxy_cache_lock|proxy_cache_lock_timeout|proxy_cache_methods|proxy_cache_min_uses|proxy_cache_path|proxy_cache_use_stale|proxy_cache_valid|proxy_connect_timeout|proxy_cookie_domain|proxy_cookie_path|proxy_headers_hash_bucket_size|proxy_headers_hash_max_size|proxy_hide_header|proxy_http_version|proxy_ignore_client_abort|proxy_ignore_headers|proxy_intercept_errors|proxy_max_temp_file_size|proxy_method|proxy_next_upstream|proxy_no_cache|proxy_pass|proxy_pass_error_message|proxy_pass_header|proxy_pass_request_body|proxy_pass_request_headers|proxy_read_timeout|proxy_redirect|proxy_redirect_errors|proxy_send_lowat|proxy_send_timeout|proxy_set_body|proxy_set_header|proxy_ssl_session_reuse|proxy_store|proxy_store_access|proxy_temp_file_write_size|proxy_temp_path|proxy_timeout|proxy_upstream_fail_timeout|proxy_upstream_max_fails|random_index|read_ahead|real_ip_header|recursive_error_pages|request_pool_size|reset_timedout_connection|resolver|resolver_timeout|return|rewrite|root|rtsig_overflow_events|rtsig_overflow_test|rtsig_overflow_threshold|rtsig_signo|satisfy|satisfy_any|secure_link_secret|send_lowat|send_timeout|sendfile|sendfile_max_chunk|server|server_name|server_name_in_redirect|server_names_hash_bucket_size|server_names_hash_max_size|server_tokens|set|set_real_ip_from|smtp_auth|smtp_capabilities|so_keepalive|source_charset|split_clients|ssi|ssi_silent_errors|ssi_types|ssi_value_length|ssl|ssl_certificate|ssl_certificate_key|ssl_ciphers|ssl_client_certificate|ssl_crl|ssl_dhparam|ssl_engine|ssl_prefer_server_ciphers|ssl_protocols|ssl_session_cache|ssl_session_timeout|ssl_verify_client|ssl_verify_depth|starttls|stub_status|sub_filter|sub_filter_once|sub_filter_types|tcp_nodelay|tcp_nopush|timeout|timer_resolution|try_files|types|types_hash_bucket_size|types_hash_max_size|underscores_in_headers|uninitialized_variable_warn|upstream|use|user|userid|userid_domain|userid_expires|userid_name|userid_p3p|userid_path|userid_service|valid_referers|variables_hash_bucket_size|variables_hash_max_size|worker_connections|worker_cpu_affinity|worker_priority|worker_processes|worker_rlimit_core|worker_rlimit_nofile|worker_rlimit_sigpending|working_directory|xclient|xml_entities|xslt_entities|xslt_stylesheet|xslt_types|ssl_session_tickets|ssl_stapling|ssl_stapling_verify|ssl_ecdh_curve|ssl_trusted_certificate|more_set_headers|ssl_early_data)\b/i}),n.languages.insertBefore("nginx","keyword",{variable:/\$[a-z_]+/i}),n.languages.objectivec=n.languages.extend("c",{keyword:/\b(?:asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while|in|self|super)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,string:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|@"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete n.languages.objectivec["class-name"],function(e){var t="(?:[a-zA-Z]\\w*|[|\\\\[\\]])+";e.languages.phpdoc=e.languages.extend("javadoclike",{parameter:{pattern:RegExp("(@(?:global|param|property(?:-read|-write)?|var)\\s+(?:"+t+"\\s+)?)\\$\\w+"),lookbehind:!0}}),e.languages.insertBefore("phpdoc","keyword",{"class-name":[{pattern:RegExp("(@(?:global|package|param|property(?:-read|-write)?|return|subpackage|throws|var)\\s+)"+t),lookbehind:!0,inside:{keyword:/\b(?:callback|resource|boolean|integer|double|object|string|array|false|float|mixed|bool|null|self|true|void|int)\b/,punctuation:/[|\\[\]()]/}}]}),e.languages.javadoclike.addSupport("php",e.languages.phpdoc)}(n),n.languages.insertBefore("php","variable",{this:/\$this\b/,global:/\$(?:_(?:SERVER|GET|POST|FILES|REQUEST|SESSION|ENV|COOKIE)|GLOBALS|HTTP_RAW_POST_DATA|argc|argv|php_errormsg|http_response_header)\b/,scope:{pattern:/\b[\w\\]+::/,inside:{keyword:/static|self|parent/,punctuation:/::|\\/}}}),function(e){var t=n.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:{function:{pattern:/(^|[^`])\$\((?:\$\(.*?\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:{}}}},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*]|[^\[\]])*]|[^\[\]])*]/i,boolean:/\$(?:true|false)\b/i,variable:/\$\w+\b/i,function:[/\b(?:Add-(?:Computer|Content|History|Member|PSSnapin|Type)|Checkpoint-Computer|Clear-(?:Content|EventLog|History|Item|ItemProperty|Variable)|Compare-Object|Complete-Transaction|Connect-PSSession|ConvertFrom-(?:Csv|Json|StringData)|Convert-Path|ConvertTo-(?:Csv|Html|Json|Xml)|Copy-(?:Item|ItemProperty)|Debug-Process|Disable-(?:ComputerRestore|PSBreakpoint|PSRemoting|PSSessionConfiguration)|Disconnect-PSSession|Enable-(?:ComputerRestore|PSBreakpoint|PSRemoting|PSSessionConfiguration)|Enter-PSSession|Exit-PSSession|Export-(?:Alias|Clixml|Console|Csv|FormatData|ModuleMember|PSSession)|ForEach-Object|Format-(?:Custom|List|Table|Wide)|Get-(?:Alias|ChildItem|Command|ComputerRestorePoint|Content|ControlPanelItem|Culture|Date|Event|EventLog|EventSubscriber|FormatData|Help|History|Host|HotFix|Item|ItemProperty|Job|Location|Member|Module|Process|PSBreakpoint|PSCallStack|PSDrive|PSProvider|PSSession|PSSessionConfiguration|PSSnapin|Random|Service|TraceSource|Transaction|TypeData|UICulture|Unique|Variable|WmiObject)|Group-Object|Import-(?:Alias|Clixml|Csv|LocalizedData|Module|PSSession)|Invoke-(?:Command|Expression|History|Item|RestMethod|WebRequest|WmiMethod)|Join-Path|Limit-EventLog|Measure-(?:Command|Object)|Move-(?:Item|ItemProperty)|New-(?:Alias|Event|EventLog|Item|ItemProperty|Module|ModuleManifest|Object|PSDrive|PSSession|PSSessionConfigurationFile|PSSessionOption|PSTransportOption|Service|TimeSpan|Variable|WebServiceProxy)|Out-(?:Default|File|GridView|Host|Null|Printer|String)|Pop-Location|Push-Location|Read-Host|Receive-(?:Job|PSSession)|Register-(?:EngineEvent|ObjectEvent|PSSessionConfiguration|WmiEvent)|Remove-(?:Computer|Event|EventLog|Item|ItemProperty|Job|Module|PSBreakpoint|PSDrive|PSSession|PSSnapin|TypeData|Variable|WmiObject)|Rename-(?:Computer|Item|ItemProperty)|Reset-ComputerMachinePassword|Resolve-Path|Restart-(?:Computer|Service)|Restore-Computer|Resume-(?:Job|Service)|Save-Help|Select-(?:Object|String|Xml)|Send-MailMessage|Set-(?:Alias|Content|Date|Item|ItemProperty|Location|PSBreakpoint|PSDebug|PSSessionConfiguration|Service|StrictMode|TraceSource|Variable|WmiInstance)|Show-(?:Command|ControlPanelItem|EventLog)|Sort-Object|Split-Path|Start-(?:Job|Process|Service|Sleep|Transaction)|Stop-(?:Computer|Job|Process|Service)|Suspend-(?:Job|Service)|Tee-Object|Test-(?:ComputerSecureChannel|Connection|ModuleManifest|Path|PSSessionConfigurationFile)|Trace-Command|Unblock-File|Undo-Transaction|Unregister-(?:Event|PSSessionConfiguration)|Update-(?:FormatData|Help|List|TypeData)|Use-Transaction|Wait-(?:Event|Job|Process)|Where-Object|Write-(?:Debug|Error|EventLog|Host|Output|Progress|Verbose|Warning))\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(\W?)(?:!|-(?:eq|ne|gt|ge|lt|le|sh[lr]|not|b?(?:and|x?or)|(?:Not)?(?:Like|Match|Contains|In)|Replace|Join|is(?:Not)?|as)\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/},a=t.string[0].inside;a.boolean=t.boolean,a.variable=t.variable,a.function.inside=t}(),function(e){var t=/\b(?:double|float|[su]?int(?:32|64)|s?fixed(?:32|64)|bool|string|bytes)\b/;e.languages.protobuf=e.languages.extend("clike",{"class-name":{pattern:/(\b(?:enum|extend|message|service)\s+)[A-Za-z_]\w*(?=\s*\{)/,lookbehind:!0},keyword:/\b(?:enum|extend|extensions|import|message|oneof|option|optional|package|public|repeated|required|reserved|service|syntax|to)\b/}),e.languages.insertBefore("protobuf","operator",{map:{pattern:/\bmap<\s*[\w.]+\s*,\s*[\w.]+\s*>(?=\s+[A-Za-z_]\w*\s*[=;])/,alias:"class-name",inside:{punctuation:/[<>.,]/,builtin:t}},builtin:t,"positional-class-name":{pattern:/(?:\b|\B\.)[A-Za-z_]\w*(?:\.[A-Za-z_]\w*)*(?=\s+[A-Za-z_]\w*\s*[=;])/,alias:"class-name",inside:{punctuation:/\./}},annotation:{pattern:/(\[\s*)[A-Za-z_]\w*(?=\s*=)/,lookbehind:!0}})}(n),n.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]+?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]+?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},n.languages.python["string-interpolation"].inside.interpolation.inside.rest=n.languages.python,n.languages.py=n.languages.python,function(e){var t=e.util.clone(e.languages.javascript);e.languages.jsx=e.languages.extend("markup",t),e.languages.jsx.tag.pattern=/<\/?(?:[\w.:-]+\s*(?:\s+(?:[\w.:$-]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s{'">=]+|\{(?:\{(?:\{[^}]*\}|[^{}])*\}|[^{}])+\}))?|\{\s*\.{3}\s*[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\s*\}))*\s*\/?)?>/i,e.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/i,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">]+)/i,e.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.insertBefore("inside","attr-name",{spread:{pattern:/\{\s*\.{3}\s*[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\s*\}/,inside:{punctuation:/\.{3}|[{}.]/,"attr-value":/\w+/}}},e.languages.jsx.tag),e.languages.insertBefore("inside","attr-value",{script:{pattern:/=(?:\{(?:\{(?:\{[^}]*\}|[^}])*\}|[^}])+\})/i,inside:{"script-punctuation":{pattern:/^=(?={)/,alias:"punctuation"},rest:e.languages.jsx},alias:"language-javascript"}},e.languages.jsx.tag);var n=function e(t){return t?"string"==typeof t?t:"string"==typeof t.content?t.content:t.content.map(e).join(""):""};e.hooks.add("after-tokenize",function(t){"jsx"!==t.language&&"tsx"!==t.language||function t(a){for(var i=[],r=0;r<a.length;r++){var o=a[r],s=!1;if("string"!=typeof o&&("tag"===o.type&&o.content[0]&&"tag"===o.content[0].type?"</"===o.content[0].content[0].content?0<i.length&&i[i.length-1].tagName===n(o.content[0].content[1])&&i.pop():"/>"===o.content[o.content.length-1].content||i.push({tagName:n(o.content[0].content[1]),openedBraces:0}):0<i.length&&"punctuation"===o.type&&"{"===o.content?i[i.length-1].openedBraces++:0<i.length&&0<i[i.length-1].openedBraces&&"punctuation"===o.type&&"}"===o.content?i[i.length-1].openedBraces--:s=!0),(s||"string"==typeof o)&&0<i.length&&0===i[i.length-1].openedBraces){var l=n(o);r<a.length-1&&("string"==typeof a[r+1]||"plain-text"===a[r+1].type)&&(l+=n(a[r+1]),a.splice(r+1,1)),0<r&&("string"==typeof a[r-1]||"plain-text"===a[r-1].type)&&(l=n(a[r-1])+l,a.splice(r-1,1),r--),a[r]=new e.Token("plain-text",l,null,l)}o.content&&"string"!=typeof o.content&&t(o.content)}}(t.tokens)})}(n),n.languages.typescript=n.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|undefined|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),n.languages.ts=n.languages.typescript;var a=n.util.clone(n.languages.typescript);n.languages.tsx=n.languages.extend("jsx",a),function(e){e.languages.ruby=e.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var t={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:e.languages.ruby}};delete e.languages.ruby.function,e.languages.insertBefore("ruby","keyword",{regex:[{pattern:/%r([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1[gim]{0,3}/,greedy:!0,inside:{interpolation:t}},{pattern:/%r\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/,greedy:!0,inside:{interpolation:t}},{pattern:/%r\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/,greedy:!0,inside:{interpolation:t}},{pattern:/%r\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/,greedy:!0,inside:{interpolation:t}},{pattern:/%r<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/,greedy:!0,inside:{interpolation:t}},{pattern:/(^|[^\/])\/(?!\/)(?:\[.+?]|\\.|[^\/\\\r\n])+\/[gim]{0,3}(?=\s*(?:$|[\r\n,.;})]))/,lookbehind:!0,greedy:!0}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:e.languages.ruby}}}),e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),e.languages.ruby.string=[{pattern:/%[qQiIwWxs]?([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/,greedy:!0,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\((?:[^()\\]|\\[\s\S])*\)/,greedy:!0,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/,greedy:!0,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\[(?:[^\[\]\\]|\\[\s\S])*\]/,greedy:!0,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?<(?:[^<>\\]|\\[\s\S])*>/,greedy:!0,inside:{interpolation:t}},{pattern:/("|')(?:#\{[^}]+\}|\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:t}}],e.languages.rb=e.languages.ruby}(n),n.languages.rust={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:[{pattern:/b?r(#*)"(?:\\.|(?!"\1)[^\\\r\n])*"\1/,greedy:!0},{pattern:/b?"(?:\\.|[^\\\r\n"])*"/,greedy:!0}],char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u{(?:[\da-fA-F]_*){1,6}|.)|[^\\\r\n\t'])'/,alias:"string"},"lifetime-annotation":{pattern:/'[^\s>']+/,alias:"symbol"},keyword:/\b(?:abstract|alignof|as|async|await|be|box|break|const|continue|crate|do|dyn|else|enum|extern|false|final|fn|for|if|impl|in|let|loop|match|mod|move|mut|offsetof|once|override|priv|pub|pure|ref|return|sizeof|static|self|Self|struct|super|true|trait|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,attribute:{pattern:/#!?\[.+?\]/,greedy:!0,alias:"attr-name"},function:[/\w+(?=\s*\()/,/\w+!(?=\s*\(|\[)/],"macro-rules":{pattern:/\w+!/,alias:"function"},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:\d(?:_?\d)*)?\.?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:[iu](?:8|16|32|64)?|f32|f64))?\b/,"closure-params":{pattern:/\|[^|]*\|(?=\s*[{-])/,inside:{punctuation:/[|:,]/,operator:/[&*]/}},punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},function(e){e.languages.sass=e.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t]+.+)*/m,lookbehind:!0}}),e.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,inside:{atrule:/(?:@[\w-]+|[+=])/m}}}),delete e.languages.sass.atrule;var t=/\$[-\w]+|#\{\$[-\w]+\}/,n=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|or|not)\b/,{pattern:/(\s+)-(?=\s)/,lookbehind:!0}];e.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,inside:{punctuation:/:/,variable:t,operator:n}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s]+.*)/m,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:t,operator:n,important:e.languages.sass.important}}}),delete e.languages.sass.property,delete e.languages.sass.important,e.languages.insertBefore("sass","punctuation",{selector:{pattern:/([ \t]*)\S(?:,?[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,?[^,\r\n]+)*)*/,lookbehind:!0}})}(n),n.languages.scss=n.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-]+(?:\([^()]+\)|[^(])*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()]|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}]+[:{][^}]+))/m,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[\w-]|\$[-\w]+|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),n.languages.insertBefore("scss","atrule",{keyword:[/@(?:if|else(?: if)?|for|each|while|import|extend|debug|warn|mixin|include|function|return|content)/i,{pattern:/( +)(?:from|through)(?= )/,lookbehind:!0}]}),n.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),n.languages.insertBefore("scss","function",{placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|or|not)(?=\s)/,lookbehind:!0}}),n.languages.scss.atrule.inside.rest=n.languages.scss,n.languages.scheme={comment:/;.*/,string:{pattern:/"(?:[^"\\]|\\.)*"|'[^()#'\s]+/,greedy:!0},character:{pattern:/#\\(?:[ux][a-fA-F\d]+|[a-zA-Z]+|\S)/,alias:"string"},keyword:{pattern:/(\()(?:define(?:-syntax|-library|-values)?|(?:case-)?lambda|let(?:\*|rec)?(?:-values)?|else|if|cond|begin|delay(?:-force)?|parameterize|guard|set!|(?:quasi-)?quote|syntax-rules)(?=[()\s])/,lookbehind:!0},builtin:{pattern:/(\()(?:(?:cons|car|cdr|list|call-with-current-continuation|call\/cc|append|abs|apply|eval)\b|null\?|pair\?|boolean\?|eof-object\?|char\?|procedure\?|number\?|port\?|string\?|vector\?|symbol\?|bytevector\?)(?=[()\s])/,lookbehind:!0},number:{pattern:/([\s()])[-+]?(?:\d+\/\d+|\d*\.?\d+(?:\s*[-+]\s*\d*\.?\d+i)?)\b/,lookbehind:!0},boolean:/#[tf]/,operator:{pattern:/(\()(?:[-+*%\/]|[<>]=?|=>?)(?=\s|$)/,lookbehind:!0},function:{pattern:/(\()[^()'\s]+(?=[()\s)]|$)/,lookbehind:!0},punctuation:/[()']/},n.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURNS?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:TRUE|FALSE|NULL)\b/i,number:/\b0x[\da-f]+\b|\b\d+\.?\d*|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|IN|LIKE|NOT|OR|IS|DIV|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(e){var t={url:/url\((["']?).*?\1\)/i,string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:if|else|for|return|unless)(?=\s+|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,number:/\b\d+(?:\.\d+)?%?/,boolean:/\b(?:true|false)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.+|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],punctuation:/[{}()\[\];:,]/};t.interpolation={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^{|}$/,alias:"punctuation"},rest:t}},t.func={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:t}},e.languages.stylus={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},"atrule-declaration":{pattern:/(^\s*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:t}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:(?:\{[^}]*\}|.+)|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:t}},statement:{pattern:/(^[ \t]*)(?:if|else|for|return|unless)[ \t]+.+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:t}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)[^{\r\n]*(?:;|[^{\r\n,](?=$)(?!(?:\r?\n|\r)(?:\{|\2[ \t]+)))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:t.interpolation}},rest:t}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\))?|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\))?|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t]+)))/m,lookbehind:!0,inside:{interpolation:t.interpolation,punctuation:/[{},]/}},func:t.func,string:t.string,interpolation:t.interpolation,punctuation:/[{}()\[\];:.]/}}(n),n.languages.swift=n.languages.extend("clike",{string:{pattern:/("|')(?:\\(?:\((?:[^()]|\([^)]+\))+\)|\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/\\\((?:[^()]|\([^)]+\))+\)/,inside:{delimiter:{pattern:/^\\\(|\)$/,alias:"variable"}}}}},keyword:/\b(?:as|associativity|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic(?:Type)?|else|enum|extension|fallthrough|final|for|func|get|guard|if|import|in|infix|init|inout|internal|is|lazy|left|let|mutating|new|none|nonmutating|operator|optional|override|postfix|precedence|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|Self|set|static|struct|subscript|super|switch|throws?|try|Type|typealias|unowned|unsafe|var|weak|where|while|willSet|__(?:COLUMN__|FILE__|FUNCTION__|LINE__))\b/,number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,constant:/\b(?:nil|[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,atrule:/@\b(?:IB(?:Outlet|Designable|Action|Inspectable)|class_protocol|exported|noreturn|NS(?:Copying|Managed)|objc|UIApplicationMain|auto_closure)\b/,builtin:/\b(?:[A-Z]\S+|abs|advance|alignof(?:Value)?|assert|contains|count(?:Elements)?|debugPrint(?:ln)?|distance|drop(?:First|Last)|dump|enumerate|equal|filter|find|first|getVaList|indices|isEmpty|join|last|lexicographicalCompare|map|max(?:Element)?|min(?:Element)?|numericCast|overlaps|partition|print(?:ln)?|reduce|reflect|reverse|sizeof(?:Value)?|sort(?:ed)?|split|startsWith|stride(?:of(?:Value)?)?|suffix|swap|toDebugString|toString|transcode|underestimateCount|unsafeBitCast|with(?:ExtendedLifetime|Unsafe(?:MutablePointers?|Pointers?)|VaList))\b/}),n.languages.swift.string.inside.interpolation.inside.rest=n.languages.swift,n.languages.vim={string:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\r\n]|'')*'/,comment:/".*/,function:/\w+(?=\()/,keyword:/\b(?:ab|abbreviate|abc|abclear|abo|aboveleft|al|all|arga|argadd|argd|argdelete|argdo|arge|argedit|argg|argglobal|argl|arglocal|ar|args|argu|argument|as|ascii|bad|badd|ba|ball|bd|bdelete|be|bel|belowright|bf|bfirst|bl|blast|bm|bmodified|bn|bnext|bN|bNext|bo|botright|bp|bprevious|brea|break|breaka|breakadd|breakd|breakdel|breakl|breaklist|br|brewind|bro|browse|bufdo|b|buffer|buffers|bun|bunload|bw|bwipeout|ca|cabbrev|cabc|cabclear|caddb|caddbuffer|cad|caddexpr|caddf|caddfile|cal|call|cat|catch|cb|cbuffer|cc|ccl|cclose|cd|ce|center|cex|cexpr|cf|cfile|cfir|cfirst|cgetb|cgetbuffer|cgete|cgetexpr|cg|cgetfile|c|change|changes|chd|chdir|che|checkpath|checkt|checktime|cla|clast|cl|clist|clo|close|cmapc|cmapclear|cnew|cnewer|cn|cnext|cN|cNext|cnf|cnfile|cNfcNfile|cnorea|cnoreabbrev|col|colder|colo|colorscheme|comc|comclear|comp|compiler|conf|confirm|con|continue|cope|copen|co|copy|cpf|cpfile|cp|cprevious|cq|cquit|cr|crewind|cuna|cunabbrev|cu|cunmap|cw|cwindow|debugg|debuggreedy|delc|delcommand|d|delete|delf|delfunction|delm|delmarks|diffg|diffget|diffoff|diffpatch|diffpu|diffput|diffsplit|diffthis|diffu|diffupdate|dig|digraphs|di|display|dj|djump|dl|dlist|dr|drop|ds|dsearch|dsp|dsplit|earlier|echoe|echoerr|echom|echomsg|echon|e|edit|el|else|elsei|elseif|em|emenu|endfo|endfor|endf|endfunction|endfun|en|endif|endt|endtry|endw|endwhile|ene|enew|ex|exi|exit|exu|exusage|f|file|files|filetype|fina|finally|fin|find|fini|finish|fir|first|fix|fixdel|fo|fold|foldc|foldclose|folddoc|folddoclosed|foldd|folddoopen|foldo|foldopen|for|fu|fun|function|go|goto|gr|grep|grepa|grepadd|ha|hardcopy|h|help|helpf|helpfind|helpg|helpgrep|helpt|helptags|hid|hide|his|history|ia|iabbrev|iabc|iabclear|if|ij|ijump|il|ilist|imapc|imapclear|in|inorea|inoreabbrev|isearch|isp|isplit|iuna|iunabbrev|iu|iunmap|j|join|ju|jumps|k|keepalt|keepj|keepjumps|kee|keepmarks|laddb|laddbuffer|lad|laddexpr|laddf|laddfile|lan|language|la|last|later|lb|lbuffer|lc|lcd|lch|lchdir|lcl|lclose|let|left|lefta|leftabove|lex|lexpr|lf|lfile|lfir|lfirst|lgetb|lgetbuffer|lgete|lgetexpr|lg|lgetfile|lgr|lgrep|lgrepa|lgrepadd|lh|lhelpgrep|l|list|ll|lla|llast|lli|llist|lmak|lmake|lm|lmap|lmapc|lmapclear|lnew|lnewer|lne|lnext|lN|lNext|lnf|lnfile|lNf|lNfile|ln|lnoremap|lo|loadview|loc|lockmarks|lockv|lockvar|lol|lolder|lop|lopen|lpf|lpfile|lp|lprevious|lr|lrewind|ls|lt|ltag|lu|lunmap|lv|lvimgrep|lvimgrepa|lvimgrepadd|lw|lwindow|mak|make|ma|mark|marks|mat|match|menut|menutranslate|mk|mkexrc|mks|mksession|mksp|mkspell|mkvie|mkview|mkv|mkvimrc|mod|mode|m|move|mzf|mzfile|mz|mzscheme|nbkey|new|n|next|N|Next|nmapc|nmapclear|noh|nohlsearch|norea|noreabbrev|nu|number|nun|nunmap|omapc|omapclear|on|only|o|open|opt|options|ou|ounmap|pc|pclose|ped|pedit|pe|perl|perld|perldo|po|pop|popu|popup|pp|ppop|pre|preserve|prev|previous|p|print|P|Print|profd|profdel|prof|profile|promptf|promptfind|promptr|promptrepl|ps|psearch|pta|ptag|ptf|ptfirst|ptj|ptjump|ptl|ptlast|ptn|ptnext|ptN|ptNext|ptp|ptprevious|ptr|ptrewind|pts|ptselect|pu|put|pw|pwd|pyf|pyfile|py|python|qa|qall|q|quit|quita|quitall|r|read|rec|recover|redi|redir|red|redo|redr|redraw|redraws|redrawstatus|reg|registers|res|resize|ret|retab|retu|return|rew|rewind|ri|right|rightb|rightbelow|rub|ruby|rubyd|rubydo|rubyf|rubyfile|ru|runtime|rv|rviminfo|sal|sall|san|sandbox|sa|sargument|sav|saveas|sba|sball|sbf|sbfirst|sbl|sblast|sbm|sbmodified|sbn|sbnext|sbN|sbNext|sbp|sbprevious|sbr|sbrewind|sb|sbuffer|scripte|scriptencoding|scrip|scriptnames|se|set|setf|setfiletype|setg|setglobal|setl|setlocal|sf|sfind|sfir|sfirst|sh|shell|sign|sil|silent|sim|simalt|sla|slast|sl|sleep|sm|smagic|sm|smap|smapc|smapclear|sme|smenu|sn|snext|sN|sNext|sni|sniff|sno|snomagic|snor|snoremap|snoreme|snoremenu|sor|sort|so|source|spelld|spelldump|spe|spellgood|spelli|spellinfo|spellr|spellrepall|spellu|spellundo|spellw|spellwrong|sp|split|spr|sprevious|sre|srewind|sta|stag|startg|startgreplace|star|startinsert|startr|startreplace|stj|stjump|st|stop|stopi|stopinsert|sts|stselect|sun|sunhide|sunm|sunmap|sus|suspend|sv|sview|syncbind|t|tab|tabc|tabclose|tabd|tabdo|tabe|tabedit|tabf|tabfind|tabfir|tabfirst|tabl|tablast|tabm|tabmove|tabnew|tabn|tabnext|tabN|tabNext|tabo|tabonly|tabp|tabprevious|tabr|tabrewind|tabs|ta|tag|tags|tc|tcl|tcld|tcldo|tclf|tclfile|te|tearoff|tf|tfirst|th|throw|tj|tjump|tl|tlast|tm|tm|tmenu|tn|tnext|tN|tNext|to|topleft|tp|tprevious|tr|trewind|try|ts|tselect|tu|tu|tunmenu|una|unabbreviate|u|undo|undoj|undojoin|undol|undolist|unh|unhide|unlet|unlo|unlockvar|unm|unmap|up|update|verb|verbose|ve|version|vert|vertical|vie|view|vim|vimgrep|vimgrepa|vimgrepadd|vi|visual|viu|viusage|vmapc|vmapclear|vne|vnew|vs|vsplit|vu|vunmap|wa|wall|wh|while|winc|wincmd|windo|winp|winpos|win|winsize|wn|wnext|wN|wNext|wp|wprevious|wq|wqa|wqall|w|write|ws|wsverb|wv|wviminfo|X|xa|xall|x|xit|xm|xmap|xmapc|xmapclear|xme|xmenu|XMLent|XMLns|xn|xnoremap|xnoreme|xnoremenu|xu|xunmap|y|yank)\b/,builtin:/\b(?:autocmd|acd|ai|akm|aleph|allowrevins|altkeymap|ambiwidth|ambw|anti|antialias|arab|arabic|arabicshape|ari|arshape|autochdir|autoindent|autoread|autowrite|autowriteall|aw|awa|background|backspace|backup|backupcopy|backupdir|backupext|backupskip|balloondelay|ballooneval|balloonexpr|bdir|bdlay|beval|bex|bexpr|bg|bh|bin|binary|biosk|bioskey|bk|bkc|bomb|breakat|brk|browsedir|bs|bsdir|bsk|bt|bufhidden|buflisted|buftype|casemap|ccv|cdpath|cedit|cfu|ch|charconvert|ci|cin|cindent|cink|cinkeys|cino|cinoptions|cinw|cinwords|clipboard|cmdheight|cmdwinheight|cmp|cms|columns|com|comments|commentstring|compatible|complete|completefunc|completeopt|consk|conskey|copyindent|cot|cpo|cpoptions|cpt|cscopepathcomp|cscopeprg|cscopequickfix|cscopetag|cscopetagorder|cscopeverbose|cspc|csprg|csqf|cst|csto|csverb|cuc|cul|cursorcolumn|cursorline|cwh|debug|deco|def|define|delcombine|dex|dg|dict|dictionary|diff|diffexpr|diffopt|digraph|dip|dir|directory|dy|ea|ead|eadirection|eb|ed|edcompatible|ef|efm|ei|ek|enc|encoding|endofline|eol|ep|equalalways|equalprg|errorbells|errorfile|errorformat|esckeys|et|eventignore|expandtab|exrc|fcl|fcs|fdc|fde|fdi|fdl|fdls|fdm|fdn|fdo|fdt|fen|fenc|fencs|fex|ff|ffs|fileencoding|fileencodings|fileformat|fileformats|fillchars|fk|fkmap|flp|fml|fmr|foldcolumn|foldenable|foldexpr|foldignore|foldlevel|foldlevelstart|foldmarker|foldmethod|foldminlines|foldnestmax|foldtext|formatexpr|formatlistpat|formatoptions|formatprg|fp|fs|fsync|ft|gcr|gd|gdefault|gfm|gfn|gfs|gfw|ghr|gp|grepformat|grepprg|gtl|gtt|guicursor|guifont|guifontset|guifontwide|guiheadroom|guioptions|guipty|guitablabel|guitabtooltip|helpfile|helpheight|helplang|hf|hh|hi|hidden|highlight|hk|hkmap|hkmapp|hkp|hl|hlg|hls|hlsearch|ic|icon|iconstring|ignorecase|im|imactivatekey|imak|imc|imcmdline|imd|imdisable|imi|iminsert|ims|imsearch|inc|include|includeexpr|incsearch|inde|indentexpr|indentkeys|indk|inex|inf|infercase|insertmode|isf|isfname|isi|isident|isk|iskeyword|isprint|joinspaces|js|key|keymap|keymodel|keywordprg|km|kmp|kp|langmap|langmenu|laststatus|lazyredraw|lbr|lcs|linebreak|lines|linespace|lisp|lispwords|listchars|loadplugins|lpl|lsp|lz|macatsui|magic|makeef|makeprg|matchpairs|matchtime|maxcombine|maxfuncdepth|maxmapdepth|maxmem|maxmempattern|maxmemtot|mco|mef|menuitems|mfd|mh|mis|mkspellmem|ml|mls|mm|mmd|mmp|mmt|modeline|modelines|modifiable|modified|more|mouse|mousef|mousefocus|mousehide|mousem|mousemodel|mouses|mouseshape|mouset|mousetime|mp|mps|msm|mzq|mzquantum|nf|nrformats|numberwidth|nuw|odev|oft|ofu|omnifunc|opendevice|operatorfunc|opfunc|osfiletype|pa|para|paragraphs|paste|pastetoggle|patchexpr|patchmode|path|pdev|penc|pex|pexpr|pfn|ph|pheader|pi|pm|pmbcs|pmbfn|popt|preserveindent|previewheight|previewwindow|printdevice|printencoding|printexpr|printfont|printheader|printmbcharset|printmbfont|printoptions|prompt|pt|pumheight|pvh|pvw|qe|quoteescape|readonly|remap|report|restorescreen|revins|rightleft|rightleftcmd|rl|rlc|ro|rs|rtp|ruf|ruler|rulerformat|runtimepath|sbo|sc|scb|scr|scroll|scrollbind|scrolljump|scrolloff|scrollopt|scs|sect|sections|secure|sel|selection|selectmode|sessionoptions|sft|shcf|shellcmdflag|shellpipe|shellquote|shellredir|shellslash|shelltemp|shelltype|shellxquote|shiftround|shiftwidth|shm|shortmess|shortname|showbreak|showcmd|showfulltag|showmatch|showmode|showtabline|shq|si|sidescroll|sidescrolloff|siso|sj|slm|smartcase|smartindent|smarttab|smc|smd|softtabstop|sol|spc|spell|spellcapcheck|spellfile|spelllang|spellsuggest|spf|spl|splitbelow|splitright|sps|sr|srr|ss|ssl|ssop|stal|startofline|statusline|stl|stmp|su|sua|suffixes|suffixesadd|sw|swapfile|swapsync|swb|swf|switchbuf|sws|sxq|syn|synmaxcol|syntax|tabline|tabpagemax|tabstop|tagbsearch|taglength|tagrelative|tagstack|tal|tb|tbi|tbidi|tbis|tbs|tenc|term|termbidi|termencoding|terse|textauto|textmode|textwidth|tgst|thesaurus|tildeop|timeout|timeoutlen|title|titlelen|titleold|titlestring|toolbar|toolbariconsize|top|tpm|tsl|tsr|ttimeout|ttimeoutlen|ttm|tty|ttybuiltin|ttyfast|ttym|ttymouse|ttyscroll|ttytype|tw|tx|uc|ul|undolevels|updatecount|updatetime|ut|vb|vbs|vdir|verbosefile|vfile|viewdir|viewoptions|viminfo|virtualedit|visualbell|vop|wak|warn|wb|wc|wcm|wd|weirdinvert|wfh|wfw|whichwrap|wi|wig|wildchar|wildcharm|wildignore|wildmenu|wildmode|wildoptions|wim|winaltkeys|window|winfixheight|winfixwidth|winheight|winminheight|winminwidth|winwidth|wiv|wiw|wm|wmh|wmnu|wmw|wop|wrap|wrapmargin|wrapscan|writeany|writebackup|writedelay|ww|noacd|noai|noakm|noallowrevins|noaltkeymap|noanti|noantialias|noar|noarab|noarabic|noarabicshape|noari|noarshape|noautochdir|noautoindent|noautoread|noautowrite|noautowriteall|noaw|noawa|nobackup|noballooneval|nobeval|nobin|nobinary|nobiosk|nobioskey|nobk|nobl|nobomb|nobuflisted|nocf|noci|nocin|nocindent|nocompatible|noconfirm|noconsk|noconskey|nocopyindent|nocp|nocscopetag|nocscopeverbose|nocst|nocsverb|nocuc|nocul|nocursorcolumn|nocursorline|nodeco|nodelcombine|nodg|nodiff|nodigraph|nodisable|noea|noeb|noed|noedcompatible|noek|noendofline|noeol|noequalalways|noerrorbells|noesckeys|noet|noex|noexpandtab|noexrc|nofen|nofk|nofkmap|nofoldenable|nogd|nogdefault|noguipty|nohid|nohidden|nohk|nohkmap|nohkmapp|nohkp|nohls|noic|noicon|noignorecase|noim|noimc|noimcmdline|noimd|noincsearch|noinf|noinfercase|noinsertmode|nois|nojoinspaces|nojs|nolazyredraw|nolbr|nolinebreak|nolisp|nolist|noloadplugins|nolpl|nolz|noma|nomacatsui|nomagic|nomh|noml|nomod|nomodeline|nomodifiable|nomodified|nomore|nomousef|nomousefocus|nomousehide|nonu|nonumber|noodev|noopendevice|nopaste|nopi|nopreserveindent|nopreviewwindow|noprompt|nopvw|noreadonly|noremap|norestorescreen|norevins|nori|norightleft|norightleftcmd|norl|norlc|noro|nors|noru|noruler|nosb|nosc|noscb|noscrollbind|noscs|nosecure|nosft|noshellslash|noshelltemp|noshiftround|noshortname|noshowcmd|noshowfulltag|noshowmatch|noshowmode|nosi|nosm|nosmartcase|nosmartindent|nosmarttab|nosmd|nosn|nosol|nospell|nosplitbelow|nosplitright|nospr|nosr|nossl|nosta|nostartofline|nostmp|noswapfile|noswf|nota|notagbsearch|notagrelative|notagstack|notbi|notbidi|notbs|notermbidi|noterse|notextauto|notextmode|notf|notgst|notildeop|notimeout|notitle|noto|notop|notr|nottimeout|nottybuiltin|nottyfast|notx|novb|novisualbell|nowa|nowarn|nowb|noweirdinvert|nowfh|nowfw|nowildmenu|nowinfixheight|nowinfixwidth|nowiv|nowmnu|nowrap|nowrapscan|nowrite|nowriteany|nowritebackup|nows|invacd|invai|invakm|invallowrevins|invaltkeymap|invanti|invantialias|invar|invarab|invarabic|invarabicshape|invari|invarshape|invautochdir|invautoindent|invautoread|invautowrite|invautowriteall|invaw|invawa|invbackup|invballooneval|invbeval|invbin|invbinary|invbiosk|invbioskey|invbk|invbl|invbomb|invbuflisted|invcf|invci|invcin|invcindent|invcompatible|invconfirm|invconsk|invconskey|invcopyindent|invcp|invcscopetag|invcscopeverbose|invcst|invcsverb|invcuc|invcul|invcursorcolumn|invcursorline|invdeco|invdelcombine|invdg|invdiff|invdigraph|invdisable|invea|inveb|inved|invedcompatible|invek|invendofline|inveol|invequalalways|inverrorbells|invesckeys|invet|invex|invexpandtab|invexrc|invfen|invfk|invfkmap|invfoldenable|invgd|invgdefault|invguipty|invhid|invhidden|invhk|invhkmap|invhkmapp|invhkp|invhls|invhlsearch|invic|invicon|invignorecase|invim|invimc|invimcmdline|invimd|invincsearch|invinf|invinfercase|invinsertmode|invis|invjoinspaces|invjs|invlazyredraw|invlbr|invlinebreak|invlisp|invlist|invloadplugins|invlpl|invlz|invma|invmacatsui|invmagic|invmh|invml|invmod|invmodeline|invmodifiable|invmodified|invmore|invmousef|invmousefocus|invmousehide|invnu|invnumber|invodev|invopendevice|invpaste|invpi|invpreserveindent|invpreviewwindow|invprompt|invpvw|invreadonly|invremap|invrestorescreen|invrevins|invri|invrightleft|invrightleftcmd|invrl|invrlc|invro|invrs|invru|invruler|invsb|invsc|invscb|invscrollbind|invscs|invsecure|invsft|invshellslash|invshelltemp|invshiftround|invshortname|invshowcmd|invshowfulltag|invshowmatch|invshowmode|invsi|invsm|invsmartcase|invsmartindent|invsmarttab|invsmd|invsn|invsol|invspell|invsplitbelow|invsplitright|invspr|invsr|invssl|invsta|invstartofline|invstmp|invswapfile|invswf|invta|invtagbsearch|invtagrelative|invtagstack|invtbi|invtbidi|invtbs|invtermbidi|invterse|invtextauto|invtextmode|invtf|invtgst|invtildeop|invtimeout|invtitle|invto|invtop|invtr|invttimeout|invttybuiltin|invttyfast|invtx|invvb|invvisualbell|invwa|invwarn|invwb|invweirdinvert|invwfh|invwfw|invwildmenu|invwinfixheight|invwinfixwidth|invwiv|invwmnu|invwrap|invwrapscan|invwrite|invwriteany|invwritebackup|invws|t_AB|t_AF|t_al|t_AL|t_bc|t_cd|t_ce|t_Ce|t_cl|t_cm|t_Co|t_cs|t_Cs|t_CS|t_CV|t_da|t_db|t_dl|t_DL|t_EI|t_F1|t_F2|t_F3|t_F4|t_F5|t_F6|t_F7|t_F8|t_F9|t_fs|t_IE|t_IS|t_k1|t_K1|t_k2|t_k3|t_K3|t_k4|t_K4|t_k5|t_K5|t_k6|t_K6|t_k7|t_K7|t_k8|t_K8|t_k9|t_K9|t_KA|t_kb|t_kB|t_KB|t_KC|t_kd|t_kD|t_KD|t_ke|t_KE|t_KF|t_KG|t_kh|t_KH|t_kI|t_KI|t_KJ|t_KK|t_kl|t_KL|t_kN|t_kP|t_kr|t_ks|t_ku|t_le|t_mb|t_md|t_me|t_mr|t_ms|t_nd|t_op|t_RI|t_RV|t_Sb|t_se|t_Sf|t_SI|t_so|t_sr|t_te|t_ti|t_ts|t_ue|t_us|t_ut|t_vb|t_ve|t_vi|t_vs|t_WP|t_WS|t_xs|t_ZH|t_ZR)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?)\b/i,operator:/\|\||&&|[-+.]=?|[=!](?:[=~][#?]?)?|[<>]=?[#?]?|[*\/%?]|\b(?:is(?:not)?)\b/,punctuation:/[{}[\](),;:]/},n.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-.\/:<=>?@\\^_`|~]+/i,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/},n.languages.yaml={scalar:{pattern:/([\-:]\s*(?:![^\s]+)?[ \t]*[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)[^\r\n]+(?:\2[^\r\n]+)*)/,lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:/(\s*(?:^|[:\-,[{\r\n?])[ \t]*(?:![^\s]+)?[ \t]*)[^\r\n{[\]},#\s]+?(?=\s*:\s)/,lookbehind:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)(?:\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?)?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?)(?=[ \t]*(?:$|,|]|}))/m,lookbehind:!0,alias:"number"},boolean:{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)(?:true|false)[ \t]*(?=$|,|]|})/im,lookbehind:!0,alias:"important"},null:{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)(?:null|~)[ \t]*(?=$|,|]|})/im,lookbehind:!0,alias:"important"},string:{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)("|')(?:(?!\2)[^\\\r\n]|\\.)*\2(?=[ \t]*(?:$|,|]|}|\s*#))/m,lookbehind:!0,greedy:!0},number:{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+\.?\d*|\.?\d+)(?:e[+-]?\d+)?|\.inf|\.nan)[ \t]*(?=$|,|]|})/im,lookbehind:!0},tag:/![^\s]+/,important:/[&*][\w]+/,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},n.languages.yml=n.languages.yaml,function(){if("undefined"!=typeof self&&self.Prism&&self.document){var e=[],t={},a=function(){};n.plugins.toolbar={};var i=n.plugins.toolbar.registerButton=function(n,a){var i;i="function"==typeof a?a:function(e){var t;return"function"==typeof a.onClick?((t=document.createElement("button")).type="button",t.addEventListener("click",function(){a.onClick.call(this,e)})):"string"==typeof a.url?(t=document.createElement("a")).href=a.url:t=document.createElement("span"),a.className&&t.classList.add(a.className),t.textContent=a.text,t},n in t?console.warn('There is a button with the key "'+n+'" registered already.'):e.push(t[n]=i)},r=n.plugins.toolbar.hook=function(n){var i=n.element.parentNode;if(i&&/pre/i.test(i.nodeName)&&!i.parentNode.classList.contains("code-toolbar")){var r=document.createElement("div");r.classList.add("code-toolbar"),i.parentNode.insertBefore(r,i),r.appendChild(i);var o=document.createElement("div");o.classList.add("toolbar"),document.body.hasAttribute("data-toolbar-order")&&(e=document.body.getAttribute("data-toolbar-order").split(",").map(function(e){return t[e]||a})),e.forEach(function(e){var t=e(n);if(t){var a=document.createElement("div");a.classList.add("toolbar-item"),a.appendChild(t),o.appendChild(a)}}),r.appendChild(o)}};i("label",function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&t.hasAttribute("data-label")){var n,a,i=t.getAttribute("data-label");try{a=document.querySelector("template#"+i)}catch(e){}return a?n=a.content:(t.hasAttribute("data-url")?(n=document.createElement("a")).href=t.getAttribute("data-url"):n=document.createElement("span"),n.textContent=i),n}}),n.hooks.add("complete",r)}}()}).call(this,n(41))},,,,,,,,function(e,t,n){e.exports=n(221)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var a,i,r;r=this,a=[n(29)],void 0===(i=function(e){return r.hotkeys=function(e,t){var n,a={}.hasOwnProperty;return n=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(i,t),i.count=0,i.keyNameMap={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",91:"Meta",93:"Meta",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"Multiply",107:"Add",109:"Subtract",110:"Decimal",111:"Divide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",59:";",61:"=",186:";",187:"=",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},i.aliases={escape:"esc",delete:"del",return:"enter",ctrl:"control",space:"spacebar",ins:"insert",cmd:"meta",command:"meta",wins:"meta",windows:"meta"},i.normalize=function(e){var t,n,a,i,r,o;for(t=n=0,o=(r=e.toLowerCase().replace(/\s+/gi,"").split("+")).length;n<o;t=++n)a=r[t],r[t]=this.aliases[a]||a;return i=r.pop(),r.sort().push(i),r.join("_")},i.prototype.opts={el:document},i.prototype._init=function(){return this.id=++this.constructor.count,this._map={},this._delegate="string"===typeof this.opts.el?document:this.opts.el,e(this._delegate).on("keydown.simple-hotkeys-"+this.id,this.opts.el,(t=this,function(e){var n;return null!=(n=t._getHander(e))?n.call(t,e):void 0}));var t},i.prototype._getHander=function(e){var t,n;if(t=this.constructor.keyNameMap[e.which])return n="",e.altKey&&(n+="alt_"),e.ctrlKey&&(n+="control_"),e.metaKey&&(n+="meta_"),e.shiftKey&&(n+="shift_"),n+=t.toLowerCase(),this._map[n]},i.prototype.respondTo=function(e){return"string"===typeof e?null!=this._map[this.constructor.normalize(e)]:null!=this._getHander(e)},i.prototype.add=function(e,t){return this._map[this.constructor.normalize(e)]=t,this},i.prototype.remove=function(e){return delete this._map[this.constructor.normalize(e)],this},i.prototype.destroy=function(){return e(this._delegate).off(".simple-hotkeys-"+this.id),this._map={},this},i}(),function(e){return new n(e)}}(jQuery,e)}.apply(t,a))||(e.exports=i)},function(e,t,n){var a,i,r;r=this,a=[n(29)],void 0===(i=function(e){return r.uploader=function(e,t){var n,a={}.hasOwnProperty;return n=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(i,t),i.count=0,i.prototype.opts={url:"",params:null,fileKey:"upload_file",connectionCount:3},i.prototype._init=function(){var t;return this.files=[],this.queue=[],this.id=++i.count,this.on("uploadcomplete",(t=this,function(n,a){return t.files.splice(e.inArray(a,t.files),1),t.queue.length>0&&t.files.length<t.opts.connectionCount?t.upload(t.queue.shift()):0===t.files.length?t.uploading=!1:void 0})),e(window).on("beforeunload.uploader-"+this.id,function(e){return function(t){if(e.uploading)return t.originalEvent.returnValue=e._t("leaveConfirm"),e._t("leaveConfirm")}}(this))},i.prototype.generateId=function(){var e;return e=0,function(){return e+=1}}(),i.prototype.upload=function(t,n){var a,i,r,o;if(null==n&&(n={}),null!=t){if(e.isArray(t)||t instanceof FileList)for(i=0,o=t.length;i<o;i++)a=t[i],this.upload(a,n);else e(t).is("input:file")?((r=e(t).attr("name"))&&(n.fileKey=r),this.upload(e.makeArray(e(t)[0].files),n)):t.id&&t.obj||(t=this.getFile(t));if(t&&t.obj)if(e.extend(t,n),this.files.length>=this.opts.connectionCount)this.queue.push(t);else if(!1!==this.triggerHandler("beforeupload",[t]))return this.files.push(t),this._xhrUpload(t),this.uploading=!0}},i.prototype.getFile=function(e){var t,n,a;return e instanceof window.File||e instanceof window.Blob?(t=null!=(n=e.fileName)?n:e.name,{id:this.generateId(),url:this.opts.url,params:this.opts.params,fileKey:this.opts.fileKey,name:t,size:null!=(a=e.fileSize)?a:e.size,ext:t?t.split(".").pop().toLowerCase():"",obj:e}):null},i.prototype._xhrUpload=function(t){var n,a,i,r,o;if((n=new FormData).append(t.fileKey,t.obj),n.append("original_filename",t.name),t.params)for(a in i=t.params)r=i[a],n.append(a,r);return t.xhr=e.ajax({url:t.url,data:n,processData:!1,contentType:!1,type:"POST",headers:{"X-File-Name":encodeURIComponent(t.name)},xhr:function(){var t,n;return(t=e.ajaxSettings.xhr())&&(t.upload.onprogress=(n=this,function(e){return n.progress(e)})),t},progress:(o=this,function(e){if(e.lengthComputable)return o.trigger("uploadprogress",[t,e.loaded,e.total])}),error:function(e){return function(n,a,i){return e.trigger("uploaderror",[t,n,a])}}(this),success:function(n){return function(a){return n.trigger("uploadprogress",[t,t.size,t.size]),n.trigger("uploadsuccess",[t,a]),e(document).trigger("uploadsuccess",[t,a,n])}}(this),complete:function(e){return function(n,a){return e.trigger("uploadcomplete",[t,n.responseText])}}(this)})},i.prototype.cancel=function(e){var t,n,a,i;if(!e.id)for(n=0,a=(i=this.files).length;n<a;n++)if((t=i[n]).id===1*e){e=t;break}return this.trigger("uploadcancel",[e]),e.xhr&&e.xhr.abort(),e.xhr=null},i.prototype.readImageFile=function(t,n){var a,i;if(e.isFunction(n))return(i=new Image).onload=function(){return n(i)},i.onerror=function(){return n()},window.FileReader&&FileReader.prototype.readAsDataURL&&/^image/.test(t.type)?((a=new FileReader).onload=function(e){return i.src=e.target.result},a.readAsDataURL(t)):n()},i.prototype.destroy=function(){var t,n,a,i;for(this.queue.length=0,n=0,a=(i=this.files).length;n<a;n++)t=i[n],this.cancel(t);return e(window).off(".uploader-"+this.id),e(document).off(".uploader-"+this.id)},i.i18n={"zh-CN":{leaveConfirm:"\u6b63\u5728\u4e0a\u4f20\u6587\u4ef6\uff0c\u5982\u679c\u79bb\u5f00\u4e0a\u4f20\u4f1a\u81ea\u52a8\u53d6\u6d88"}},i.locale="zh-CN",i}(),function(e){return new n(e)}}(jQuery,e)}.apply(t,a))||(e.exports=i)},function(e,t,n){var a,i;void 0===(i="function"===typeof(a=function(){"use strict";var e=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],t=["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"],n=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"],a=["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"],i=["#text"],r=["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"],o=["accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"],s=["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"],l=["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"];function c(e,t){for(var n=t.length;n--;)"string"===typeof t[n]&&(t[n]=t[n].toLowerCase()),e[t[n]]=!0;return e}function d(e){var t={},n=void 0;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var u=/\{\{[\s\S]*|[\s\S]*\}\}/gm,p=/<%[\s\S]*|[\s\S]*%>/gm,h=/^data-[\-\w.\u00B7-\uFFFF]/,m=/^aria-[\-\w]+$/,f=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,g=/^(?:\w+script|data):/i,v=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var y=function(){return"undefined"===typeof window?null:window};return function w(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y(),k=function(e){return w(e)};if(k.version="1.0.8",k.removed=[],!E||!E.document||9!==E.document.nodeType)return k.isSupported=!1,k;var x=E.document,S=!1,C=!1,N=E.document,T=E.DocumentFragment,O=E.HTMLTemplateElement,A=E.Node,I=E.NodeFilter,j=E.NamedNodeMap,R=void 0===j?E.NamedNodeMap||E.MozNamedAttrMap:j,L=E.Text,M=E.Comment,P=E.DOMParser;if("function"===typeof O){var B=N.createElement("template");B.content&&B.content.ownerDocument&&(N=B.content.ownerDocument)}var D=N,z=D.implementation,F=D.createNodeIterator,H=D.getElementsByTagName,U=D.createDocumentFragment,$=x.importNode,W={};k.isSupported=z&&"undefined"!==typeof z.createHTMLDocument&&9!==N.documentMode;var q=u,G=p,V=h,K=m,X=g,Z=v,Y=f,J=null,Q=c({},[].concat(_(e),_(t),_(n),_(a),_(i))),ee=null,te=c({},[].concat(_(r),_(o),_(s),_(l))),ne=null,ae=null,ie=!0,re=!0,oe=!1,se=!1,le=!1,ce=!1,de=!1,ue=!1,pe=!1,he=!1,me=!1,fe=!0,ge=!0,ve=!1,be={},_e=c({},["audio","head","math","script","style","template","svg","video"]),ye=c({},["audio","video","img","source","image"]),we=c({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ee=null,ke=N.createElement("form"),xe=function(u){"object"!==("undefined"===typeof u?"undefined":b(u))&&(u={}),J="ALLOWED_TAGS"in u?c({},u.ALLOWED_TAGS):Q,ee="ALLOWED_ATTR"in u?c({},u.ALLOWED_ATTR):te,ne="FORBID_TAGS"in u?c({},u.FORBID_TAGS):{},ae="FORBID_ATTR"in u?c({},u.FORBID_ATTR):{},be="USE_PROFILES"in u&&u.USE_PROFILES,ie=!1!==u.ALLOW_ARIA_ATTR,re=!1!==u.ALLOW_DATA_ATTR,oe=u.ALLOW_UNKNOWN_PROTOCOLS||!1,se=u.SAFE_FOR_JQUERY||!1,le=u.SAFE_FOR_TEMPLATES||!1,ce=u.WHOLE_DOCUMENT||!1,pe=u.RETURN_DOM||!1,he=u.RETURN_DOM_FRAGMENT||!1,me=u.RETURN_DOM_IMPORT||!1,ue=u.FORCE_BODY||!1,fe=!1!==u.SANITIZE_DOM,ge=!1!==u.KEEP_CONTENT,ve=u.IN_PLACE||!1,Y=u.ALLOWED_URI_REGEXP||Y,le&&(re=!1),he&&(pe=!0),be&&(J=c({},[].concat(_(i))),ee=[],!0===be.html&&(c(J,e),c(ee,r)),!0===be.svg&&(c(J,t),c(ee,o),c(ee,l)),!0===be.svgFilters&&(c(J,n),c(ee,o),c(ee,l)),!0===be.mathMl&&(c(J,a),c(ee,s),c(ee,l))),u.ADD_TAGS&&(J===Q&&(J=d(J)),c(J,u.ADD_TAGS)),u.ADD_ATTR&&(ee===te&&(ee=d(ee)),c(ee,u.ADD_ATTR)),u.ADD_URI_SAFE_ATTR&&c(we,u.ADD_URI_SAFE_ATTR),ge&&(J["#text"]=!0),ce&&c(J,["html","head","body"]),J.table&&c(J,["tbody"]),Object&&"freeze"in Object&&Object.freeze(u),Ee=u},Se=function(e){k.removed.push({element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=""}},Ce=function(e,t){try{k.removed.push({attribute:t.getAttributeNode(e),from:t})}catch(n){k.removed.push({attribute:null,from:t})}t.removeAttribute(e)},Ne=function(e){var t=void 0;if(ue&&(e="<remove></remove>"+e),S)try{t=(new P).parseFromString(e,"text/html")}catch(i){}if(C&&c(ne,["title"]),!t||!t.documentElement){var n=t=z.createHTMLDocument(""),a=n.body;a.parentNode.removeChild(a.parentNode.firstElementChild),a.outerHTML=e}return H.call(t,ce?"html":"body")[0]};k.isSupported&&(function(){try{var e=Ne('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">');e.querySelector("svg img")&&(S=!0)}catch(t){}}(),function(){try{var e=Ne("<x/><title>&lt;/title&gt;&lt;img&gt;");e.querySelector("title").textContent.match(/<\/title/)&&(C=!0)}catch(t){}}());var Te=function(e){return F.call(e.ownerDocument||e,e,I.SHOW_ELEMENT|I.SHOW_COMMENT|I.SHOW_TEXT,function(){return I.FILTER_ACCEPT},!1)},Oe=function(e){return"object"===("undefined"===typeof A?"undefined":b(A))?e instanceof A:e&&"object"===("undefined"===typeof e?"undefined":b(e))&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName},Ae=function(e,t,n){W[e]&&W[e].forEach(function(e){e.call(k,t,n,Ee)})},Ie=function(e){var t,n=void 0;if(Ae("beforeSanitizeElements",e,null),!((t=e)instanceof L||t instanceof M)&&!("string"===typeof t.nodeName&&"string"===typeof t.textContent&&"function"===typeof t.removeChild&&t.attributes instanceof R&&"function"===typeof t.removeAttribute&&"function"===typeof t.setAttribute))return Se(e),!0;var a=e.nodeName.toLowerCase();if(Ae("uponSanitizeElement",e,{tagName:a,allowedTags:J}),!J[a]||ne[a]){if(ge&&!_e[a]&&"function"===typeof e.insertAdjacentHTML)try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(i){}return Se(e),!0}return!se||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(k.removed.push({element:e.cloneNode()}),e.innerHTML?e.innerHTML=e.innerHTML.replace(/</g,"&lt;"):e.innerHTML=e.textContent.replace(/</g,"&lt;")),le&&3===e.nodeType&&(n=(n=(n=e.textContent).replace(q," ")).replace(G," "),e.textContent!==n&&(k.removed.push({element:e.cloneNode()}),e.textContent=n)),Ae("afterSanitizeElements",e,null),!1},je=function(e,t,n){if(fe&&("id"===t||"name"===t)&&(n in N||n in ke))return!1;if(le&&(n=(n=n.replace(q," ")).replace(G," ")),re&&V.test(t));else if(ie&&K.test(t));else{if(!ee[t]||ae[t])return!1;if(we[t]);else if(Y.test(n.replace(Z,"")));else if("src"!==t&&"xlink:href"!==t||"script"===e||0!==n.indexOf("data:")||!ye[e])if(oe&&!X.test(n.replace(Z,"")));else if(n)return!1}return!0},Re=function(e){var t=void 0,n=void 0,a=void 0,i=void 0,r=void 0;Ae("beforeSanitizeAttributes",e,null);var o=e.attributes;if(o){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ee};for(r=o.length;r--;){var l=t=o[r],c=l.name,d=l.namespaceURI;if(n=t.value.trim(),a=c.toLowerCase(),s.attrName=a,s.attrValue=n,s.keepAttr=!0,Ae("uponSanitizeAttribute",e,s),n=s.attrValue,"name"===a&&"IMG"===e.nodeName&&o.id)i=o.id,o=Array.prototype.slice.apply(o),Ce("id",e),Ce(c,e),o.indexOf(i)>r&&e.setAttribute("id",i.value);else{if("INPUT"===e.nodeName&&"type"===a&&"file"===n&&(ee[a]||!ae[a]))continue;"id"===c&&e.setAttribute(c,""),Ce(c,e)}if(s.keepAttr){var u=e.nodeName.toLowerCase();if(je(u,a,n))try{d?e.setAttributeNS(d,c,n):e.setAttribute(c,n),k.removed.pop()}catch(p){}}}Ae("afterSanitizeAttributes",e,null)}},Le=function e(t){var n=void 0,a=Te(t);for(Ae("beforeSanitizeShadowDOM",t,null);n=a.nextNode();)Ae("uponSanitizeShadowNode",n,null),Ie(n)||(n.content instanceof T&&e(n.content),Re(n));Ae("afterSanitizeShadowDOM",t,null)};return k.sanitize=function(e,t){var n=void 0,a=void 0,i=void 0,r=void 0,o=void 0;if(e||(e="\x3c!--\x3e"),"string"!==typeof e&&!Oe(e)){if("function"!==typeof e.toString)throw new TypeError("toString is not a function");if("string"!==typeof(e=e.toString()))throw new TypeError("dirty is not a string, aborting")}if(!k.isSupported){if("object"===b(E.toStaticHTML)||"function"===typeof E.toStaticHTML){if("string"===typeof e)return E.toStaticHTML(e);if(Oe(e))return E.toStaticHTML(e.outerHTML)}return e}if(de||xe(t),k.removed=[],ve);else if(e instanceof A)n=Ne("\x3c!--\x3e"),1===(a=n.ownerDocument.importNode(e,!0)).nodeType&&"BODY"===a.nodeName?n=a:n.appendChild(a);else{if(!pe&&!ce&&-1===e.indexOf("<"))return e;if(!(n=Ne(e)))return pe?null:""}n&&ue&&Se(n.firstChild);for(var s=Te(ve?e:n);i=s.nextNode();)3===i.nodeType&&i===r||Ie(i)||(i.content instanceof T&&Le(i.content),Re(i),r=i);if(ve)return e;if(pe){if(he)for(o=U.call(n.ownerDocument);n.firstChild;)o.appendChild(n.firstChild);else o=n;return me&&(o=$.call(x,o,!0)),o}return ce?n.outerHTML:n.innerHTML},k.setConfig=function(e){xe(e),de=!0},k.clearConfig=function(){Ee=null,de=!1},k.isValidAttribute=function(e,t,n){Ee||xe({});var a=e.toLowerCase(),i=t.toLowerCase();return je(a,i,n)},k.addHook=function(e,t){"function"===typeof t&&(W[e]=W[e]||[],W[e].push(t))},k.removeHook=function(e){W[e]&&W[e].pop()},k.removeHooks=function(e){W[e]&&(W[e]=[])},k.removeAllHooks=function(){W={}},k}()})?a.call(t,n,t,e):a)||(e.exports=i)},function(e,t,n){var a,i,r;r=this,a=[n(19)],void 0===(i=function(e){return r.ChecklistButton=function(e){var t,n=window.jQuery,a={}.hasOwnProperty,i=[].slice;return t=function(t){function r(){var e;e=1<=arguments.length?i.call(arguments,0):[],r.__super__.constructor.apply(this,e),n.inArray("input",this.editor.formatter._allowedTags)<0&&this.editor.formatter._allowedTags.push("input"),n.extend(this.editor.formatter._allowedAttributes,{input:["type","checked"]})}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(r,e.Button),r.prototype.type="ul.simditor-checklist",r.prototype.name="checklist",r.prototype.icon="checklist",r.prototype.htmlTag="li",r.prototype.disableTag="pre, table",r.prototype._init=function(){var e;return r.__super__._init.call(this),this.editor.on("decorate",(e=this,function(t,a){return a.find("ul > li input[type=checkbox]").each(function(t,a){return e._decorate(n(a))})})),this.editor.on("undecorate",function(e){return function(t,a){return a.find(".simditor-checklist > li").each(function(t,a){return e._undecorate(n(a))})}}(this)),this.editor.body.on("click",".simditor-checklist > li",function(e){return function(t){var a,i;return t.preventDefault(),t.stopPropagation(),a=n(t.currentTarget),i=document.createRange(),e.editor.selection.save(),i.setStart(a[0],0),i.setEnd(a[0],e.editor.util.getNodeLength(a[0])),e.editor.selection.range(i),document.execCommand("strikethrough"),a.attr("checked",!a.attr("checked")),e.editor.selection.restore(),e.editor.trigger("valuechanged")}}(this)),this.editor.keystroke.add("13","li",function(e){return function(t,n){return setTimeout(function(){var t;if((t=e.editor.selection.blockNodes().last().next()).length&&(t[0].removeAttribute("checked"),document.queryCommandState("strikethrough")))return document.execCommand("strikethrough")},0)}}(this))},r.prototype._status=function(){return r.__super__._status.call(this),this.editor.selection.rootNodes().is(".simditor-checklist")?(this.editor.toolbar.findButton("ul").setActive(!1),this.editor.toolbar.findButton("ol").setActive(!1),this.editor.toolbar.findButton("ul").setDisabled(!0),this.editor.toolbar.findButton("ol").setDisabled(!0)):this.editor.toolbar.findButton("checklist").setActive(!1)},r.prototype.command=function(e){var t,a,i;return a=this.editor.selection.blockNodes(),this.editor.selection.save(),t=null,a.each((i=this,function(e,a){var r;if(!(r=n(a)).is("blockquote, li")&&!r.is(i.disableTag)&&n.contains(document,a))return r.is(".simditor-checklist")?(r.children("li").each(function(e,t){return n(t).children("ul, ol").insertAfter(r),n("<p/>").append(n(t).html()||i.editor.util.phBr).insertBefore(r)}),r.remove()):r.is("ul, ol")?n('<ul class="simditor-checklist" />').append(r.contents()).replaceAll(r):t&&r.prev().is(t)?(n("<li/>").append(r.html()||i.editor.util.phBr).appendTo(t),r.remove()):((t=n('<ul class="simditor-checklist"><li></li></ul>')).find("li").append(r.html()||i.editor.util.phBr),t.replaceAll(r))})),this.editor.selection.restore(),this.editor.trigger("valuechanged")},r.prototype._decorate=function(e){var t,n;return n=!!e.attr("checked"),t=e.closest("li"),e.remove(),t.attr("checked",n),t.closest("ul").addClass("simditor-checklist")},r.prototype._undecorate=function(e){var t,a;return console.log(1111),a=!!e.attr("checked"),t=n('<input type="checkbox">').attr("checked",a),e.prepend(t)},r}(),e.Toolbar.addButton(t),t}(e)}.apply(t,a))||(e.exports=i)},function(e,t,n){var a,i,r;r=this,a=[n(19),n(152),n(160)],void 0===(i=function(e,t,n){return r.SimditorMarkdown=function(e,t,n,a){var i,r={}.hasOwnProperty;return i=function(i){function o(){return o.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function a(){this.constructor=e}a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype}(o,t.Button),o.prototype.name="markdown",o.prototype.icon="markdown",o.prototype.needFocus=!1,o.prototype._init=function(){var t;if(o.__super__._init.call(this),this.markdownEl=e('<div class="markdown-editor" />').insertBefore(this.editor.body),this.textarea=e("<textarea/>").attr("placeholder",this.editor.opts.placeholder).appendTo(this.markdownEl),this.textarea.on("focus",(t=this,function(e){return t.editor.el.addClass("focus")})).on("blur",function(e){return function(t){return e.editor.el.removeClass("focus")}}(this)),this.editor.on("valuechanged",function(e){return function(t){if(e.editor.markdownMode)return e._initMarkdownValue()}}(this)),this.markdownChange=this.editor.util.throttle(function(e){return function(){return e._autosizeTextarea(),e._convert()}}(this),200),this.editor.util.support.oninput?this.textarea.on("input",function(e){return function(t){return e.markdownChange()}}(this)):this.textarea.on("keyup",function(e){return function(t){return e.markdownChange()}}(this)),this.editor.opts.markdown)return this.editor.on("initialized",function(e){return function(){return e.el.mousedown()}}(this))},o.prototype.status=function(){},o.prototype.command=function(){var e,t,n,a;for(this.editor.blur(),this.editor.el.toggleClass("simditor-markdown"),this.editor.markdownMode=this.editor.el.hasClass("simditor-markdown"),this.editor.markdownMode?(this.editor.inputManager.lastCaretPosition=null,this.editor.hidePopover(),this.editor.body.removeAttr("contenteditable"),this._initMarkdownValue()):(this.textarea.val(""),this.editor.body.attr("contenteditable","true")),t=0,n=(a=this.editor.toolbar.buttons).length;t<n;t++)"markdown"===(e=a[t]).name?e.setActive(this.editor.markdownMode):e.setDisabled(this.editor.markdownMode);return null},o.prototype._initMarkdownValue=function(){return this._fileterUnsupportedTags(),this.textarea.val(n(this.editor.getValue(),{gfm:!0})),this._autosizeTextarea()},o.prototype._autosizeTextarea=function(){return this._textareaPadding||(this._textareaPadding=this.textarea.innerHeight()-this.textarea.height()),this.textarea.height(this.textarea[0].scrollHeight-this._textareaPadding)},o.prototype._convert=function(){var e,t;return t=this.textarea.val(),e=a(t),this.editor.textarea.val(e),this.editor.body.html(e),this.editor.formatter.format(),this.editor.formatter.decorate()},o.prototype._fileterUnsupportedTags=function(){return this.editor.body.find("colgroup").remove()},o}(),t.Toolbar.addButton(i),i}(jQuery,e,t,n)}.apply(t,a))||(e.exports=i)},,,,,function(e,t){},,,,,,,function(e,t,n){var a,i,r;r=this,a=[n(19)],void 0===(i=function(e){return r.EmojiButton=function(e,t){var n,a={}.hasOwnProperty,i=[].slice;return n=function(n){function r(){var t;t=1<=arguments.length?i.call(arguments,0):[],r.__super__.constructor.apply(this,t),e.merge(this.editor.formatter._allowedAttributes.img,["data-emoji","alt","data-non-image"])}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(r,t.Button),r.i18n={"zh-CN":{emoji:"\u8868\u60c5"},"en-US":{emoji:"emoji"}},r.images=["smile.png","smiley.png","laughing.png","blush.png","heart_eyes.png","smirk.png","flushed.png","grin.png","wink.png","kissing_closed_eyes.png","stuck_out_tongue_winking_eye.png","stuck_out_tongue.png","sleeping.png","worried.png","expressionless.png","sweat_smile.png","cold_sweat.png","joy.png","sob.png","angry.png","mask.png","scream.png","sunglasses.png","heart.png","broken_heart.png","star.png","anger.png","exclamation.png","question.png","zzz.png","thumbsup.png","thumbsdown.png","ok_hand.png","punch.png","v.png","clap.png","muscle.png","pray.png","skull.png","trollface.png"],r.prototype.name="emoji",r.prototype.icon="smile-o",r.prototype.menu=!0,r.prototype.renderMenu=function(){var t,n,a,i,o,s,l,c,d,u;for(a="",n=(o=e.extend({imagePath:"images/emoji/",images:r.images},this.editor.opts.emoji||{})).imagePath.replace(/\/$/,"")+"/",l=0,c=(d=o.images).length;l<c;l++)s=""+n+(i=d[l]),a+="<li data-name='"+(i=i.split(".")[0])+"'><img src='"+s+"' alt='"+i+"' /></li>";return(t=e('<ul class="emoji-list">\n</ul>')).html(a).appendTo(this.menuWrapper),t.on("mousedown","li",(u=this,function(t){var n;if(u.wrapper.removeClass("menu-on"),u.editor.inputManager.focused)return n=e(t.currentTarget).find("img").clone().attr({"data-emoji":!0,"data-non-image":!0}),u.editor.selection.insertNode(n),u.editor.trigger("valuechanged"),u.editor.trigger("selectionchanged"),!1}))},r.prototype.status=function(){},r}(),t.Toolbar.addButton(n),n}(jQuery,e)}.apply(t,a))||(e.exports=i)},function(e,t,n){var a,i,r;r=this,a=[n(19),n(165)],void 0===(i=function(e,t){return r.HTMLButton=function(e,t,n){var a,i={}.hasOwnProperty,r=[].slice;return a=function(e){function a(){return a.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function a(){this.constructor=e}a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype}(a,t.Button),a.prototype.name="html",a.prototype.icon="html5",a.prototype.needFocus=!1,a.prototype._init=function(){var e;return a.__super__._init.call(this),this.editor.textarea.on("focus",(e=this,function(t){return e.editor.el.addClass("focus").removeClass("error")})),this.editor.textarea.on("blur",function(e){return function(t){return e.editor.el.removeClass("focus"),e.editor.setValue(e.editor.textarea.val())}}(this)),this.editor.textarea.on("input",function(e){return function(t){return e._resizeTextarea()}}(this))},a.prototype.status=function(){},a.prototype.command=function(){var e,t,n,a;for(this.editor.blur(),this.editor.el.toggleClass("simditor-html"),this.editor.htmlMode=this.editor.el.hasClass("simditor-html"),this.editor.htmlMode?(this.editor.hidePopover(),this.editor.textarea.val(this.beautifyHTML(this.editor.textarea.val())),this._resizeTextarea()):this.editor.setValue(this.editor.textarea.val()),t=0,n=(a=this.editor.toolbar.buttons).length;t<n;t++)"html"===(e=a[t]).name?e.setActive(this.editor.htmlMode):e.setDisabled(this.editor.htmlMode);return null},a.prototype.beautifyHTML=function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],n.html?n.html.apply(n,e):n.apply(null,e)},a.prototype._resizeTextarea=function(){return this._textareaPadding||(this._textareaPadding=this.editor.textarea.innerHeight()-this.editor.textarea.height()),this.editor.textarea.height(this.editor.textarea[0].scrollHeight-this._textareaPadding)},a}(),t.Toolbar.addButton(a),a}(jQuery,e,t)}.apply(t,a))||(e.exports=i)},,,function(e,t,n){var a,i,r;r=this,a=[n(29),n(19)],void 0===(i=function(e,t){return r.SimditorLivemd=function(e,t,n){var a,i={}.hasOwnProperty;return a=function(n){function a(){return a.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function a(){this.constructor=e}a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype}(a,t),a.pluginName="Livemd",a.prototype.opts={livemd:!1},a.prototype._init=function(){var t,n;if(this.opts.livemd)return this.editor=this._module,t="object"===typeof this.opts.livemd?e.extend({},this.hooks,this.opts.livemd):e.extend({},this.hooks),this.editor.on("keypress",(n=this,function(a){var i,r,o,s,l,c,d,u,p,h,m,f;if((32===a.which||13===a.which)&&(l=null!=(h=n.editor.selection.range())?h.commonAncestorContainer:void 0,h&&h.collapsed&&l&&3===l.nodeType&&!e(l).parent("pre").length))for(p in c=l.textContent,t){if(d=t[p],13===a.which&&!d.enterKey)return;if(d&&d.cmd instanceof RegExp&&(u=c.match(d.cmd))&&null!==(r=n.editor.toolbar.findButton(p))&&!r.disabled&&(!d.block||(i=n.editor.selection.blockNodes().last(),(f=document.createRange()).setStart(l,0),f.collapse(!0),n.editor.selection.rangeAtStartOf(i,f)))){s=u.index,o=u[0].length+u.index,h.setStart(l,s),h.setEnd(l,o),d.block&&(h.deleteContents(),n.editor.util.isEmptyNode(i)&&i.append(n.editor.util.phBr),n.editor.selection.setRangeAtEndOf(i)),m=d.callback.call(n,r,d,h,u,i),32!==a.which&&"code"!==p||!m||a.preventDefault();break}}}))},a.prototype.hooks={title:{cmd:/^#+/,block:!0,enterKey:!0,callback:function(e,t,n,a,i){var r;return r=Math.min(a[0].length,3),e.command("h"+r)}},blockquote:{cmd:/^>{1}/,block:!0,enterKey:!0,callback:function(e,t,n,a,i){return e.command()}},code:{cmd:/^`{3}/,block:!0,enterKey:!0,callback:function(e,t,n,a,i){return e.command()}},hr:{cmd:/^\*{3,}$|^\-{3,}$/,block:!0,enterKey:!0,callback:function(e,t,n,a,i){return e.command()}},bold:{cmd:/\*{2}([^\*]+)\*{2}$|_{2}([^_]+)_{2}$/,block:!1,callback:function(e,t,n,a){var i,r;return i=a[1]||a[2],r=document.createTextNode(i),this.editor.selection.range(n),n.deleteContents(),n.insertNode(r),n.selectNode(r),this.editor.selection.range(n),document.execCommand("bold"),this.editor.selection.setRangeAfter(r),document.execCommand("bold"),this.editor.trigger("valuechanged"),this.editor.trigger("selectionchanged")}},italic:{cmd:/\*([^\*]+)\*$/,block:!1,callback:function(e,t,n,a){var i,r;return i=a[1]||a[2],r=document.createTextNode(i),this.editor.selection.range(n),n.deleteContents(),n.insertNode(r),n.selectNode(r),this.editor.selection.range(n),document.execCommand("italic"),this.editor.selection.setRangeAfter(r),document.execCommand("italic"),this.editor.trigger("valuechanged"),this.editor.trigger("selectionchanged")}},ul:{cmd:/^\*{1}$|^\+{1}$|^\-{1}$/,block:!0,callback:function(e,t,n,a,i){return e.command()}},ol:{cmd:/^[0-9][\.\u3002]{1}$/,block:!0,callback:function(e,t,n,a,i){return e.command()}},image:{cmd:/!\[(.+)\]\((.+)\)$/,block:!0,callback:function(e,t,n,a){return e.command(a[2])}},link:{cmd:/\[(.+)\]\((.+)\)$|\<((.[^\[\]\(\)]+))\>$/,block:!1,callback:function(t,n,a){var i,r;return r=a[2]||a[4],!!/[a-zA-z]+:\/\/[^\s]*/.test(r)&&(i=e("<a/>",{text:a[1]||a[3],href:r,target:"_blank"}),this.editor.selection.range(n),n.deleteContents(),n.insertNode(i[0]),this.editor.selection.setRangeAfter(i),this.editor.trigger("valuechanged"),this.editor.trigger("selectionchanged"))}}},a}(),n.connect(a),a}(jQuery,e,t)}.apply(t,a))||(e.exports=i)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(71),i=n(72),r=n(82),o=n(73),s=n(83),l=n(0),c=n.n(l),d=n(7),u=n.n(d),p=n(5),h=n(18),m=(n(89),n(90),n(91),n(1)),f=Object(l.createContext)(),g=n(4),v=function(e,t){switch(t.type){case"UPDATE_USER_INFO":return Object(g.a)({},e,t.payload);default:return e}},b=function(e){var t=Object(l.useReducer)(v,{avatar:"/images/pikachu_front.svg",nickname:""}),n=Object(m.a)(t,2),a=n[0],i=n[1];return c.a.createElement(f.Provider,{value:{userInfo:a,updateUserInfo:function(e){i({type:"UPDATE_USER_INFO",payload:e})}}},e.children)},_=Object(l.createContext)(),y=function(e,t){switch(t.type){case"UPDATE_EDITRO_INFO":return Object(g.a)({},e,{editor:t.payload});case"UPDATE_SAVE_STATUS":return Object(g.a)({},e,{saveContentStatus:t.payload});default:return e}},w=function(e){var t=Object(l.useReducer)(y,{editor:null,saveContentStatus:-1}),n=Object(m.a)(t,2),a=n[0],i=n[1];return c.a.createElement(_.Provider,{value:Object(g.a)({},a,{updateEditorInfo:function(e){i({type:"UPDATE_EDITRO_INFO",payload:e})},updateSaveStatus:function(e){i({type:"UPDATE_SAVE_STATUS",payload:e})}})},e.children)},E=n(2),k=n.n(E),x=n(3),S=n(74),C=n.n(S).a.create({baseURL:"https://www.bigxigua.net/api/",timeout:1e5,withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json; charset=utf-8"},params:{},data:{}});C.interceptors.request.use(function(e){return e},function(e){Promise.reject(e)}),C.interceptors.response.use(function(e){return e&&e.data&&"success"===e.data.status?[null,e.data.data]:[e.data,null]},function(e){return Promise.reject(e)});var N=C.get,T=C.post;C.get=Object(x.a)(k.a.mark(function e(){var t,n,a,i,r=arguments;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.apply(C,r);case 3:return t=e.sent,n=Object(m.a)(t,2),a=n[0],i=n[1],e.abrupt("return",[a,i]);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",[{message:"\u7cfb\u7edf\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",code:500},null]);case 13:case"end":return e.stop()}},e,null,[[0,10]])})),C.post=Object(x.a)(k.a.mark(function e(){var t,n,a,i,r=arguments;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.apply(C,r);case 3:return t=e.sent,n=Object(m.a)(t,2),a=n[0],i=n[1],e.abrupt("return",[a,i]);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",[{message:"\u7cfb\u7edf\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",code:500},null]);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));var O=C;function A(e){return"[object Object]"===Object.prototype.toString.call(e)}function I(e){return!e||"object"!==typeof e||0===Object.keys(e).length}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";if(!e)return"-";isNaN(+e)&&e&&(e=new Date(e.replace(/-/g,"/")).getTime());var n=new Date(+e),a=function(e){return"".concat(e>9?"":"0").concat(e)},i="".concat(a(n.getMonth()+1),"-")+"".concat(a(n.getDate()))+"\xa0".concat(a(n.getHours()),":")+"".concat(a(n.getMinutes()));return"simple"===t?i:"normal"===t?"".concat(n.getFullYear(),"-").concat(i,":").concat(a(n.getSeconds())):void 0}function R(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=Object.assign({},e),i=0;i<t.length;i++){if("object"!==typeof a||null===a)return n;a=a[t[i]]}return void 0===a||null===a?n:a}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=e.substring(e.lastIndexOf("?")+1),n={};return t.replace(/([^?&=]+)=([^?=&]*)/g,function(e,t,a){var i=decodeURI(a);return"undefined"!==i&&"null"!==i||(i=""),n[t]=i,e}),n}function M(e){var t={};try{t=new URL(e)}catch(o){}var n=t,a=n.pathname,i=void 0===a?"":a,r=n.search;return{url:t,pathname:i+(void 0===r?"":r)}}function P(){return B.apply(this,arguments)}function B(){return(B=Object(x.a)(k.a.mark(function e(){var t,n=arguments;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:300,e.abrupt("return",new Promise(function(e){setTimeout(function(){e()},t)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function D(e){var t=e.handle,n=void 0===t?function(){}:t,a=function(e){var t=e.keyCode||e.which||e.charCode,a=e.ctrlKey||e.metaKey;n({keyCode:t,ctrlKey:a,e:e})};return document.body.addEventListener("keydown",a,!1),{remove:function(){document.body.removeEventListener("keydown",a)}}}function z(){var e=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);return{isIos:e,isMobile:e||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent)}}function F(e){var t=[];try{Array.from($(e)).forEach(function(e,n){var a=e.tagName;["H1","H2","H3","H4","H5"].includes(a)&&t.push({index:n,text:e.innerText,id:$(e).attr("id")||"",type:a.toLowerCase()})})}catch(n){console.log(n)}return t}var H=function(){var e=Object(x.a)(k.a.mark(function e(){var t,n,a,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("login");case 2:return t=e.sent,n=Object(m.a)(t,2),a=n[1],i=R(a,["uuid"],!1),e.abrupt("return",{isLogin:i,isHasAuth:!0,data:a});case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function U(e){var t=Object(l.useState)(null),n=Object(m.a)(t,2),a=n[0],i=n[1],r=e.component,o=Object(h.g)().pathname,s=Object(l.useContext)(f),d=s.userInfo,u=s.updateUserInfo,p=Object(l.useCallback)(Object(x.a)(k.a.mark(function t(){var n,a,r,s,l;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object(h.e)(o,e.pathname),document.title=e.title,window.scrollTo(0,0),!n||d.uuid){t.next=12;break}return t.next=6,H();case 6:a=t.sent,r=a.isLogin,s=a.isHasAuth,l=a.data,i({isLogin:r,isHasAuth:s,currentLocation:encodeURIComponent(window.location.href)}),u(l);case 12:d.uuid&&i({isLogin:!0,isHasAuth:!0});case 13:case"end":return t.stop()}},t)})),[]);return Object(l.useEffect)(function(){p()},[]),a?a.isLogin&&a.isHasAuth?c.a.createElement(r,null):c.a.createElement(h.a,{to:{pathname:"/login",search:"?returnUrl=".concat(a.currentLocation)}}):null}n(115);function W(e){var t=e.onClick,n=void 0===t?function(){}:t,a={search:c.a.createElement("i",{"aria-label":"\u56fe\u6807: search"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"search",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}))),more:c.a.createElement("i",{"aria-label":"\u56fe\u6807: more"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"more",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M456 231a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 280a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 280a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"}))),ellipsis:c.a.createElement("i",{"aria-label":"\u56fe\u6807: ellipsis"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"ellipsis",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M176 511a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm280 0a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm280 0a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"}))),"caret-down":c.a.createElement("i",{"aria-label":"\u56fe\u6807: caret-down"},c.a.createElement("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}))),down:c.a.createElement("i",{"aria-label":"\u56fe\u6807: down"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}))),right:c.a.createElement("i",{"aria-label":"\u56fe\u6807: right"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"right",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"}))),setting:c.a.createElement("i",{"aria-label":"\u56fe\u6807: setting"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"setting",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 0 0 9.3-35.2l-.9-2.6a443.74 443.74 0 0 0-79.7-137.9l-1.8-2.1a32.12 32.12 0 0 0-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 0 0-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 0 0-25.8 25.7l-15.8 85.4a351.86 351.86 0 0 0-99 57.4l-81.9-29.1a32 32 0 0 0-35.1 9.5l-1.8 2.1a446.02 446.02 0 0 0-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 0 0-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0 0 35.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0 0 25.8 25.7l2.7.5a449.4 449.4 0 0 0 159 0l2.7-.5a32.05 32.05 0 0 0 25.8-25.7l15.7-85a350 350 0 0 0 99.7-57.6l81.3 28.9a32 32 0 0 0 35.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 0 1-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 0 1-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 0 1 512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 0 1 400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 0 1 624 502c0 29.9-11.7 58-32.8 79.2z"}))),appstore:c.a.createElement("i",{"aria-label":"\u56fe\u6807: appstore"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"appstore",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}))),database:c.a.createElement("i",{"aria-label":"\u56fe\u6807: database"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"database",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM304 240a40 40 0 1 0 80 0 40 40 0 1 0-80 0zm0 272a40 40 0 1 0 80 0 40 40 0 1 0-80 0zm0 272a40 40 0 1 0 80 0 40 40 0 1 0-80 0z"}))),delete:c.a.createElement("i",{"aria-label":"\u56fe\u6807: delete"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"delete",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}))),"file-text":c.a.createElement("i",{"aria-label":"\u56fe\u6807: file-text"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"file-text",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0 0 42 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}))),edit:c.a.createElement("i",{"aria-label":"\u56fe\u6807: edit"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"edit",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}))),"usergroup-delete":c.a.createElement("i",{"aria-label":"\u56fe\u6807: usergroup-delete"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"usergroup-delete",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M888 784H664c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h224c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM373.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 0 1-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 0 0 8 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7zM824 484c0-109.4-87.9-198.3-196.9-200C516.3 282.3 424 373.2 424 484c0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 0 0-86.4 60.4C357 754.6 326 826.8 324 903.8a8 8 0 0 0 8 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5C505.8 707.7 563 684 624 684c110.4 0 200-89.5 200-200zm-109.5 90.5C690.3 598.7 658.2 612 624 612s-66.3-13.3-90.5-37.5a127.26 127.26 0 0 1-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4-.1 34.2-13.4 66.3-37.6 90.5z"}))),"clock-circle":c.a.createElement("i",{"aria-label":"\u56fe\u6807: clock-circle"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"clock-circle",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}),c.a.createElement("path",{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}))),close:c.a.createElement("i",{"aria-label":"\u56fe\u6807: close"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"close",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}))),read:c.a.createElement("i",{"aria-label":"\u56fe\u6807: read"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"read",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M928 161H699.2c-49.1 0-97.1 14.1-138.4 40.7L512 233l-48.8-31.3A255.2 255.2 0 0 0 324.8 161H96c-17.7 0-32 14.3-32 32v568c0 17.7 14.3 32 32 32h228.8c49.1 0 97.1 14.1 138.4 40.7l44.4 28.6c1.3.8 2.8 1.3 4.3 1.3s3-.4 4.3-1.3l44.4-28.6C602 807.1 650.1 793 699.2 793H928c17.7 0 32-14.3 32-32V193c0-17.7-14.3-32-32-32zM324.8 721H136V233h188.8c35.4 0 69.8 10.1 99.5 29.2l48.8 31.3 6.9 4.5v462c-47.6-25.6-100.8-39-155.2-39zm563.2 0H699.2c-54.4 0-107.6 13.4-155.2 39V298l6.9-4.5 48.8-31.3c29.7-19.1 64.1-29.2 99.5-29.2H888v488zM396.9 361H211.1c-3.9 0-7.1 3.4-7.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c.1-4.1-3.1-7.5-7-7.5zm223.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c0-4.1-3.2-7.5-7.1-7.5H627.1c-3.9 0-7.1 3.4-7.1 7.5zM396.9 501H211.1c-3.9 0-7.1 3.4-7.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c.1-4.1-3.1-7.5-7-7.5zm416 0H627.1c-3.9 0-7.1 3.4-7.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c.1-4.1-3.1-7.5-7-7.5z"}))),message:c.a.createElement("i",{"aria-label":"\u56fe\u6807: message"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"message",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M464 512a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm200 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm-400 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 0 0-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 0 0-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 0 0 112 714v152a46 46 0 0 0 46 46h152.1A449.4 449.4 0 0 0 510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 0 0 142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"}))),user:c.a.createElement("i",{"aria-label":"\u56fe\u6807: user"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"user",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M858.5 763.6a374 374 0 0 0-80.6-119.5 375.63 375.63 0 0 0-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 0 0-80.6 119.5A371.7 371.7 0 0 0 136 901.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 0 0 8-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}))),"plus-circle":c.a.createElement("i",{"aria-label":"\u56fe\u6807: plus-circle"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"plus-circle",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}),c.a.createElement("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}))),stop:c.a.createElement("i",{"aria-label":"\u56fe\u6807: stop"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"stop",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}))),check:c.a.createElement("i",{"aria-label":"\u56fe\u6807: check"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"check",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 0 0-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}))),global:c.a.createElement("i",{"aria-label":"\u56fe\u6807: global"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"global",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M854.4 800.9c.2-.3.5-.6.7-.9C920.6 722.1 960 621.7 960 512s-39.4-210.1-104.8-288c-.2-.3-.5-.5-.7-.8-1.1-1.3-2.1-2.5-3.2-3.7-.4-.5-.8-.9-1.2-1.4l-4.1-4.7-.1-.1c-1.5-1.7-3.1-3.4-4.6-5.1l-.1-.1c-3.2-3.4-6.4-6.8-9.7-10.1l-.1-.1-4.8-4.8-.3-.3c-1.5-1.5-3-2.9-4.5-4.3-.5-.5-1-1-1.6-1.5-1-1-2-1.9-3-2.8-.3-.3-.7-.6-1-1C736.4 109.2 629.5 64 512 64s-224.4 45.2-304.3 119.2c-.3.3-.7.6-1 1-1 .9-2 1.9-3 2.9-.5.5-1 1-1.6 1.5-1.5 1.4-3 2.9-4.5 4.3l-.3.3-4.8 4.8-.1.1c-3.3 3.3-6.5 6.7-9.7 10.1l-.1.1c-1.6 1.7-3.1 3.4-4.6 5.1l-.1.1c-1.4 1.5-2.8 3.1-4.1 4.7-.4.5-.8.9-1.2 1.4-1.1 1.2-2.1 2.5-3.2 3.7-.2.3-.5.5-.7.8C103.4 301.9 64 402.3 64 512s39.4 210.1 104.8 288c.2.3.5.6.7.9l3.1 3.7c.4.5.8.9 1.2 1.4l4.1 4.7c0 .1.1.1.1.2 1.5 1.7 3 3.4 4.6 5l.1.1c3.2 3.4 6.4 6.8 9.6 10.1l.1.1c1.6 1.6 3.1 3.2 4.7 4.7l.3.3c3.3 3.3 6.7 6.5 10.1 9.6 80.1 74 187 119.2 304.5 119.2s224.4-45.2 304.3-119.2a300 300 0 0 0 10-9.6l.3-.3c1.6-1.6 3.2-3.1 4.7-4.7l.1-.1c3.3-3.3 6.5-6.7 9.6-10.1l.1-.1c1.5-1.7 3.1-3.3 4.6-5 0-.1.1-.1.1-.2 1.4-1.5 2.8-3.1 4.1-4.7.4-.5.8-.9 1.2-1.4a99 99 0 0 0 3.3-3.7zm4.1-142.6c-13.8 32.6-32 62.8-54.2 90.2a444.07 444.07 0 0 0-81.5-55.9c11.6-46.9 18.8-98.4 20.7-152.6H887c-3 40.9-12.6 80.6-28.5 118.3zM887 484H743.5c-1.9-54.2-9.1-105.7-20.7-152.6 29.3-15.6 56.6-34.4 81.5-55.9A373.86 373.86 0 0 1 887 484zM658.3 165.5c39.7 16.8 75.8 40 107.6 69.2a394.72 394.72 0 0 1-59.4 41.8c-15.7-45-35.8-84.1-59.2-115.4 3.7 1.4 7.4 2.9 11 4.4zm-90.6 700.6c-9.2 7.2-18.4 12.7-27.7 16.4V697a389.1 389.1 0 0 1 115.7 26.2c-8.3 24.6-17.9 47.3-29 67.8-17.4 32.4-37.8 58.3-59 75.1zm59-633.1c11 20.6 20.7 43.3 29 67.8A389.1 389.1 0 0 1 540 327V141.6c9.2 3.7 18.5 9.1 27.7 16.4 21.2 16.7 41.6 42.6 59 75zM540 640.9V540h147.5c-1.6 44.2-7.1 87.1-16.3 127.8l-.3 1.2A445.02 445.02 0 0 0 540 640.9zm0-156.9V383.1c45.8-2.8 89.8-12.5 130.9-28.1l.3 1.2c9.2 40.7 14.7 83.5 16.3 127.8H540zm-56 56v100.9c-45.8 2.8-89.8 12.5-130.9 28.1l-.3-1.2c-9.2-40.7-14.7-83.5-16.3-127.8H484zm-147.5-56c1.6-44.2 7.1-87.1 16.3-127.8l.3-1.2c41.1 15.6 85 25.3 130.9 28.1V484H336.5zM484 697v185.4c-9.2-3.7-18.5-9.1-27.7-16.4-21.2-16.7-41.7-42.7-59.1-75.1-11-20.6-20.7-43.3-29-67.8 37.2-14.6 75.9-23.3 115.8-26.1zm0-370a389.1 389.1 0 0 1-115.7-26.2c8.3-24.6 17.9-47.3 29-67.8 17.4-32.4 37.8-58.4 59.1-75.1 9.2-7.2 18.4-12.7 27.7-16.4V327zM365.7 165.5c3.7-1.5 7.3-3 11-4.4-23.4 31.3-43.5 70.4-59.2 115.4-21-12-40.9-26-59.4-41.8 31.8-29.2 67.9-52.4 107.6-69.2zM165.5 365.7c13.8-32.6 32-62.8 54.2-90.2 24.9 21.5 52.2 40.3 81.5 55.9-11.6 46.9-18.8 98.4-20.7 152.6H137c3-40.9 12.6-80.6 28.5-118.3zM137 540h143.5c1.9 54.2 9.1 105.7 20.7 152.6a444.07 444.07 0 0 0-81.5 55.9A373.86 373.86 0 0 1 137 540zm228.7 318.5c-39.7-16.8-75.8-40-107.6-69.2 18.5-15.8 38.4-29.7 59.4-41.8 15.7 45 35.8 84.1 59.2 115.4-3.7-1.4-7.4-2.9-11-4.4zm292.6 0c-3.7 1.5-7.3 3-11 4.4 23.4-31.3 43.5-70.4 59.2-115.4 21 12 40.9 26 59.4 41.8a373.81 373.81 0 0 1-107.6 69.2z"}))),"check-circle":c.a.createElement("i",{"aria-label":"\u56fe\u6807: check-circle"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"check-circle",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 0 1-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}))),"close-circle":c.a.createElement("i",{"aria-label":"\u56fe\u6807: close-circle"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"close-circle",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 0 1-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}))),loading:c.a.createElement("i",{"aria-label":"\u56fe\u6807: loading"},c.a.createElement("svg",{viewBox:"0 0 1024 1024",focusable:"false",className:"Icon_loading","data-icon":"loading",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}))),left:c.a.createElement("i",{"aria-label":"\u56fe\u6807: left"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"left",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}))),lock:c.a.createElement("i",{"aria-label":"\u56fe\u6807: lock"},c.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"lock",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 1 0-56 0z"})))};return c.a.createElement("div",{onClick:n,className:$.trim("Icon ".concat(e.className||""))},a[e.type])}n(116);var q=z().isMobile,G="Popover_Wrapper_Content_show";function V(e){var t=e.className,n=void 0===t?"":t,a=e.children,i=void 0===a?"":a,r=e.content,o=void 0===r?"":r,s=Object(l.useState)([]),d=Object(m.a)(s,2),p=d[0],h=d[1],f=Object(l.useRef)(null),g=Object(l.useRef)(null),v=Object(l.useRef)(null),b=Object(l.useCallback)(function(){if(f.current){var e=f.current.getBoundingClientRect(),t=e.left,n=e.top,a=e.width,i=e.height,r=$(g.current).width(),o=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,s=document.body.getBoundingClientRect().width,l=t-r/2+5,c=n+o+i;l<10&&(l=10),l+r>=s&&(l=s-r-10),h({left:"".concat(l,"px"),top:"".concat(c,"px")}),v.current.style.left="".concat(t+a/2-l,"px")}},[]),_=Object(l.useCallback)(function(){var e=function(){g.current.classList.add(G),b()},t=function(){g.current.classList.remove(G)};return f.current.addEventListener("mouseenter",e,!1),f.current.addEventListener("mouseleave",t,!1),g.current.addEventListener("mouseenter",e,!1),g.current.addEventListener("mouseleave",t,!1),[{name:"mouseenter",fn:e},{name:"mouseleave",fn:t}]},[]),y=Object(l.useCallback)(function(e){q&&(e.stopPropagation(),Array.from(g.current.classList).includes(G)?g.current.classList.remove(G):(g.current.classList.add(G),b()))},[]),w=Object(l.useCallback)(function(){setTimeout(function(){g.current.classList.remove(G)},0)},[]);return Object(l.useEffect)(function(){var e=q?[]:_();return function(){e.forEach(function(e){var t=e.name,n=e.fn;f.current.removeEventListener(t,n),g.current.removeEventListener(t,n)})}},[]),c.a.createElement("div",{className:"Popover_Wrapper ".concat(n),tabIndex:"1",onClick:y,onBlur:w,ref:f},i,u.a.createPortal(c.a.createElement("div",{className:"popover-wrapper_box animated"},c.a.createElement("div",{ref:g,className:"Popover_Wrapper_Content",style:p},c.a.createElement("div",{ref:v,className:"popover_wrapper_arrow"}),o)),document.body))}n(117);function K(e){var t=e.userInfo,n=(t.avatar,t.nickname),a=t.account,i=(t.headline,function(){var e=Object(x.a)(k.a.mark(function e(){var t,n,a,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("login/out");case 2:if(t=e.sent,n=Object(m.a)(t,2),a=n[0],!(i=n[1])||"OK"!==i.STATUS){e.next=9;break}return window.location.reload(),e.abrupt("return");case 9:console.log("[\u9000\u51fa\u767b\u9646\u5931\u8d25] ",a);case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}());return c.a.createElement("div",{className:"header-user-popover animated"},c.a.createElement("div",{className:"header-userpopover-top"},c.a.createElement("div",{className:"header-userpopover-info"},c.a.createElement("div",null,"\u6635\u79f0: ",c.a.createElement("span",null,a||n)))),c.a.createElement("div",{className:"header-userpopover-bom"},c.a.createElement("div",{className:"header-userpopover-link",onClick:i},c.a.createElement(W,{type:"setting"}),c.a.createElement("span",null,"\u9000\u51fa"),c.a.createElement(W,{type:"right"}))))}function X(){var e=Object(l.useContext)(f).userInfo;return e&&e.uuid?c.a.createElement(l.Fragment,null,c.a.createElement(V,{className:"Avatar_wrapper",content:c.a.createElement(K,{userInfo:e})},c.a.createElement("img",{src:e.avatar,className:"Avatar",alt:""}),c.a.createElement(W,{type:"caret-down",className:"Avatar_Down_Icon"}))):null}n(118);function Z(e){var t=e.icon,n=e.children,a=e.loading,i=void 0!==a&&a,r=e.disabled,o=void 0!==r&&r,s=e.type,l=void 0===s?"default":s,d=e.className,u=void 0===d?"":d,p=e.content,h=void 0===p?"":p,m=e.link,f=void 0===m?null:m,g=e.onClick,v=void 0===g?function(){}:g,b=e.style,_=void 0===b?{}:b,y=i?"Button_loading":"",w=o?"Button_disabled":"";return c.a.createElement("button",{style:_,onClick:function(){if(!i&&!o){if(f){var e=f.to,t=f.target;window.location.href="blank"===t?e:"/".concat(f.to)}v()}},className:$.trim("Button button_particle flex ".concat(u," ").concat({default:"",primary:"Button_primary",dashed:"Button_dash",danger:"Button_danger"}[l]," ").concat(y," ").concat(w))},t&&c.a.createElement(W,{type:t}),i&&c.a.createElement(W,{className:"Button_loading_Icon",type:"loading"}),h||n)}var Y=function(e){var t=e.className,n=void 0===t?"":t,a=e.cancelText,i=void 0===a?"\u53d6\u6d88":a,r=e.okText,o=void 0===r?"\u786e\u8ba4":r,s=e.onCancel,d=void 0===s?function(){}:s,u=e.title,p=void 0===u?"":u,h=e.subTitle,f=void 0===h?"":h,g=e.content,v=void 0===g?"":g,b=e.onOk,_=void 0===b?function(){}:b,y=Object(l.useState)(!0),w=Object(m.a)(y,2),E=w[0],S=w[1],C=Object(l.useCallback)(Object(x.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=_)||"function"!==typeof t.then){e.next=5;break}return e.next=3,_();case 3:e.next=6;break;case 5:_();case 6:S(!1);case 7:case"end":return e.stop()}var t},e)})),[]);return c.a.createElement(Q,{className:n,title:p,subTitle:f,onCancel:function(){S(!1),d()},onConfirm:C,confirmText:o,cancelText:i,visible:E},v)};n(119);var J=function(){};function Q(e){var t=e.children,n=void 0===t?"":t,a=e.wrapClassName,i=void 0===a?"":a,r=e.visible,o=void 0!==r&&r,s=e.width,l=void 0===s?520:s,d=e.onCancel,p=void 0===d?J:d,h=e.onConfirm,m=void 0===h?J:h,f=e.title,g=void 0===f?"":f,v=e.subTitle,b=void 0===v?"":v,_=e.mask,y=void 0===_||_,w=e.footer,E=void 0===w?null:w,k=e.closeIcon,x=void 0===k?null:k,S=e.closable,C=void 0===S||S,N=e.cancelText,T=void 0===N?"\u53d6\u6d88":N,O=e.confirmText,A=void 0===O?"\u786e\u5b9a":O,I=isNaN(l)?l:"".concat(l,"px"),j=c.a.createElement("div",{className:"Modal_Footer flex"},c.a.createElement(Z,{onClick:p},T),c.a.createElement(Z,{type:"primary",onClick:m},A)),R="none"===E?null:E||j,L=C&&(x||c.a.createElement(W,{type:"close",onClick:p,className:"Modal_Close"})),M="Modal_Mask animated ";return M+="".concat(y?"Modal_Mask_Bg":""," "),M+="".concat(o?"Modal_Show":""," "),u.a.createPortal(c.a.createElement("div",{className:M},c.a.createElement("div",{className:"Modal ".concat(i),style:{width:I}},c.a.createElement("div",{className:"Modal_Header"},c.a.createElement("span",null,g),c.a.createElement("p",null,b)),L,c.a.createElement("div",{className:"Modal_Body"},n),R)),document.body)}Q.confirm=function(e){var t=document.createElement("div");return document.body.appendChild(t),u.a.render(c.a.createElement(Y,e),t),null};var ee=z().isMobile,te={DOCS:"/images/book.png",RESOURCE:"/images/books.png",IMPORT:"/images/import.png",TEMPLATE_OF_STUDY:"/images/doc.png",TEMPLATE_OF_BLOG:"/images/blog.png",TEMPLATE_OF_TRAVEL:"/images/trip.png"},ne={toolbar:ee?["title","bold","fontScale","ol","ul","blockquote","code","hr"]:["title","bold","italic","underline","strikethrough","fontScale","color","ol","ul","blockquote","code","table","emoji","link","image","hr","checklist","indent","outdent","alignment"],toolbarFloat:!0,toolbarFloatOffset:0,toolbarHidden:!1,defaultImage:"/images/book.png",tabIndent:!0,upload:{url:"".concat("https://www.bigxigua.net/upload","/image"),params:null,fileKey:"file",connectionCount:1,leaveConfirm:"Uploading is in progress, are you sure to leave this page?"},livemd:!0,emoji:{imagePath:"/images/emoji/"},pasteImage:!0,cleanPaste:!1};function ae(){var e=function(e,t,n){$(".Message").remove();var a='<div class="Message flex animated '.concat(e,'">')+'<img style="width: 20px;margin-right: 4px;" src="/images/'.concat(t,'.png" />')+"<span>".concat(n,"</span>")+NaN;$("body").append($(a)),$("head").append($("<style>.Message_Error>span { position: relative; top: -2px;}\n.Message{position: fixed; top: 20px;font-size: 14px; display: none;left: 50%;padding: 10px 16px; border-radius: 4px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); background: #fff; color: rgba(0, 0, 0, 0.65)}; font-size: 14px;}</style>"))},t=function(e,t){setTimeout(function(){$(".Message").remove(),t()},e||3e3)},n=function(){};return{success:function(a){var i=a.content,r=a.d,o=a.onClose,s=void 0===o?n:o;e("slideInDown","success",i),t(r,s)},error:function(a){var i=a.content,r=a.d,o=a.onClose,s=void 0===o?n:o;e("slideInDown Message_Error","fail",i),t(r,s)},info:function(n){var a=n.content,i=n.d,r=n.onClose;e("Message_Info","",a),t(i,r)},warning:function(n){var a=n.content,i=n.d,r=n.onClose;e("Message_Warning","",a),t(i,r)},warn:function(n){var a=n.content,i=n.d,r=n.onClose;e("Message_Warn","",a),t(i,r)},loading:function(n){var a=n.content,i=n.d,r=n.onClose;e("Message_Loading","",a),t(i,r)}}}var ie=n(10);function re(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(x.a)(k.a.mark(function e(t){var n,a,i,r,o,s,l,c,d,u;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.spaceId,a=void 0===n?"":n,i=t.spaceName,r=void 0===i?"":i,o=t.docId,s=void 0===o?"":o,l=t.docTitle,c=void 0===l?"":l,d=t.type,u=void 0===d?"":d,e.abrupt("return",O.post("add/recent",{space_id:a,space_name:r,doc_id:s,doc_title:c,type:u}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function se(e){return le.apply(this,arguments)}function le(){return(le=Object(x.a)(k.a.mark(function e(t){var n,a,i,r,o,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.docId,a=t.spaceId,e.next=3,O.post("doc/update",{status:"0",doc_id:n,space_id:a});case 3:return i=e.sent,r=Object(m.a)(i,2),o=r[0],s=r[1],e.abrupt("return",!o&&s&&"OK"===s.STATUS);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ce(){return de.apply(this,arguments)}function de(){return(de=Object(x.a)(k.a.mark(function e(){var t,n,a,i,r,o,s,l=arguments;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},n=t.docId,a=t.spaceId,e.next=3,O.post("doc/delete",{doc_id:n,space_id:a});case 3:return i=e.sent,r=Object(m.a)(i,2),o=r[0],s=r[1],e.abrupt("return",!o&&s&&"OK"===s.STATUS);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ue(e,t){return pe.apply(this,arguments)}function pe(){return(pe=Object(x.a)(k.a.mark(function e(t,n){var a,i,r,o,s,l,c,d,u,p,h,f;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.space_id,i=t.scene,r=void 0===i?"doc":i,o=t.title,s=void 0===o?"\u65e0\u6807\u9898":o,l=t.catalogInfo,c=void 0===l?{}:l,e.next=3,O.post("create/doc",{title:s,scene:r,catalogInfo:c,space_id:a});case 3:if(d=e.sent,u=Object(m.a)(d,2),p=u[0],h=u[1],!(f=R(h,["docId"],""))){e.next=14;break}return e.next=11,re({docTitle:s,type:"CreateEdit",spaceId:a,docId:f});case 11:n({docId:f,spaceId:a}),e.next=15;break;case 14:n(p);case 15:return e.abrupt("return",[p,h]);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function he(e){return me.apply(this,arguments)}function me(){return(me=Object(x.a)(k.a.mark(function e(t){var n,a,i,r,o,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.spaceId,a=t.catalog,e.next=3,O.post("spaces/update",{space_id:n,catalog:JSON.stringify(a)});case 3:return i=e.sent,r=Object(m.a)(i,2),o=r[0],s=r[1],e.abrupt("return",[o,s]);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fe(e){var t=e.slice(0),n=function(e,t){return e.findIndex(function(e){return e.docId===t})};return function a(i,r){var o=[];if(!i||0===i.length||!i[0])return[];for(var s=function(s){var l=i[s];if(l.level===r&&-1!==n(t,l.docId)){var c,d=Object(g.a)({},l,{children:[]}),u=e.findIndex(function(e){return e.docId===l.docId}),p=function(e,t,n){for(var a=[],i=t;i<e.length&&!(e[i].level<n);i++)e[i].level===n&&a.push(e[i]);return a}(e,u+1,l.level+1);(c=d.children).push.apply(c,Object(ie.a)(a(p,l.level+1))),o.push(d),t.splice(n(t,l.docId),1)}},l=0;l<i.length;l++)s(l);return o}(e,0)}function ge(e,t){var n=e.trees,a=e.item,i=e.index,r=a.open,o=void 0!==r&&r,s=a.children,l=void 0===s?[]:s,c=a.docId,d=n.slice(0);if(d[i].open=!o,o)t(d.filter(function(e){return e.belong!==c}));else{var u=l.map(function(e){return Object(g.a)({},e,{belong:c})});d.splice.apply(d,[i+1,0].concat(Object(ie.a)(u))),t(d)}}n(120);function ve(e){var t=e.onModalChange,n=void 0===t?function(){}:t,a=(ae(),Object(l.useState)(!0)),i=Object(m.a)(a,2),r=i[0],o=i[1],s=Object(l.useState)(!1),d=Object(m.a)(s,2),u=d[0],p=d[1],g=Object(l.useState)([]),v=Object(m.a)(g,2),b=v[0],_=v[1],y=Object(h.f)(),w=Object(l.useContext)(f).userInfo.account,E=function(){var e=Object(x.a)(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ue(t,function(){var e=Object(x.a)(k.a.mark(function e(t){var n,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.docId,a=t.spaceId,!n||!a){e.next=7;break}return e.next=4,P();case 4:y.push("/simditor/".concat(n,"?spaceId=").concat(a)),e.next=8;break;case 7:console.log("[\u521b\u5efa\u6587\u6863\u51fa\u9519] ");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(x.a)(k.a.mark(function e(){var t,n,a,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,O.get("spaces",{});case 3:if(t=e.sent,n=Object(m.a)(t,2),a=n[0],i=n[1],p(!1),!a&&i&&Array.isArray(i.spaces)&&0!==i.spaces.length){e.next=10;break}return e.abrupt("return");case 10:_(i.spaces);case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)(function(){S()},[]),c.a.createElement(Q,{subTitle:"\u70b9\u51fb\u9009\u62e9\u4e00\u4e2a\u77e5\u8bc6\u5e93",title:"\u65b0\u5efa\u6587\u6863",footer:b.length>0?"none":null,onCancel:function(){o(!1),n(!1)},onConfirm:function(){o(!1),n(!1),y.push("/new")},confirmText:"\u521b\u5efa\u77e5\u8bc6\u5e93",visible:r},u?c.a.createElement("div",{className:"create_loading"},c.a.createElement(W,{type:"loading"}),c.a.createElement("span",null,"\u6b63\u5728\u52a0\u8f7d...")):0===b.length?c.a.createElement("div",{className:"create_modal_tips"},"\u60a8\u8fd8\u672a\u521b\u5efa\u8fc7\u77e5\u8bc6\u5e93\u54df\uff0c\u6587\u6863\u5b58\u5728\u77e5\u8bc6\u5e93\u91cc\u3002\u5206\u597d\u7c7b\uff0c\u597d\u67e5\u8be2"):b.map(function(e){return c.a.createElement("div",{onClick:function(){E(e)},key:e.id,className:"Header_Spaces_List flex"},c.a.createElement("img",{src:te[e.scene]}),c.a.createElement("span",null,w),c.a.createElement("span",null,"/"),c.a.createElement("span",{style:{maxWidth:"calc(100% - 100px)"},className:"ellipsis"},e.name),c.a.createElement("img",{src:"/images/".concat("SELF"===e.public?"lock":"global",".png")}))}))}n(121);function be(e){var t=e.handle;return c.a.createElement(l.Fragment,null,c.a.createElement("div",{className:"Header_Popover_Add_Item flex",onClick:function(){t(!0)}},c.a.createElement(W,{type:"plus-circle"}),c.a.createElement("span",null,"\u65b0\u5efa\u6587\u6863")),c.a.createElement("div",{className:"Header_Popover_Add_Item flex"},c.a.createElement(W,{type:"plus-circle"}),c.a.createElement(p.b,{to:"/new"},"\u65b0\u5efa\u77e5\u8bc6\u5e93")))}function _e(e){var t=e.className,n=void 0===t?"":t,a=Object(l.useState)(!1),i=Object(m.a)(a,2),r=i[0],o=i[1];return c.a.createElement("div",{className:"header-wrapper animated ".concat(n)},c.a.createElement("div",{className:"header-container"},c.a.createElement("div",{className:"header-left"},c.a.createElement(p.b,{to:"/",className:"Header_title ellipsis"}),c.a.createElement(p.b,{to:"/",className:"Header_link Header_link_workspace Header_link_actived"},"\u5de5\u4f5c\u53f0"),c.a.createElement("div",{className:"Header_link header_disabled"},"\u5a31\u4e50/\u6e38\u620f"),c.a.createElement("div",{className:"Header_link header_disabled"},"\u65b0\u95fb"),c.a.createElement(p.b,{to:"/more",className:"Header_link header_disabled Header_link_more"},c.a.createElement(W,{type:"ellipsis"}))),c.a.createElement("div",{className:"header-right"},c.a.createElement(V,{className:"Header_Popover_Add",content:be({handle:o})},c.a.createElement(W,{className:"Header_Popover_Add_Icon",type:"plus-circle"}),c.a.createElement(W,{type:"caret-down"})),c.a.createElement(X,null)),r&&c.a.createElement(ve,{onModalChange:o})))}n(122);function ye(){return c.a.createElement("div",{className:"siderbar-layout"},c.a.createElement(p.c,{to:"/",exact:!0,activeStyle:{color:"#000",fontWeight:"bold"},className:"siderbar-link"},c.a.createElement("img",{src:"/images/workspace.png"}),c.a.createElement("span",null,"\u5de5\u4f5c\u53f0")),c.a.createElement(p.c,{to:"/space/",exact:!0,activeStyle:{color:"#000",fontWeight:"bold"},className:"siderbar-link"},c.a.createElement("img",{src:"/images/warehouse.png"}),c.a.createElement("span",null,"\u77e5\u8bc6\u5e93")),c.a.createElement(p.c,{to:"/docs/",activeStyle:{color:"#000",fontWeight:"bold"},className:"siderbar-link"},c.a.createElement("img",{src:"/images/documentation.png"}),c.a.createElement("span",null,"\u6587\u6863")),c.a.createElement("span",{className:"SiderBar_Line"}),c.a.createElement(p.b,{to:"/",className:"siderbar-link"},c.a.createElement("img",{src:"/images/more.png"}),c.a.createElement("span",null,"\u5176\u4ed6")))}n(123);function we(e){var t=e.style,n=void 0===t?{}:t;return c.a.createElement("footer",{className:"footer-wrapper",style:n},c.a.createElement("div",{className:"footer-wrapper_tip"},c.a.createElement("div",{className:"flex"},c.a.createElement("img",{src:"/images/watermelon.png"}),c.a.createElement("span",null,"\u4e00\u65e5\u4e00\u8bb0")),c.a.createElement("span",null,"\u751f\u6d3b\u70b9\u6ef4\uff0c\u8bb0\u5728\u8fd9\u91cc\u3002\u4e13\u5c5e\u7a7a\u95f4\uff0c\u79c1\u5bc6\u4f53\u9a8c\u3002"),c.a.createElement("a",{className:"footer-icp",href:"http://www.beian.miit.gov.cn/"},"ICP\u5907\u6848\u53f7\uff1a\u7696ICP\u590720000299\u53f7-1")))}n(124);function Ee(e){var t=e.list,n=void 0===t?[]:t,a=e.className,i=void 0===a?"":a,r=e.listStyle,o=void 0===r?{}:r,s=e.style,l=void 0===s?{}:s,d=e.onTap,u=void 0===d?function(){}:d,p=n.map(function(e,t){return c.a.createElement("li",{key:t,style:o,onClick:function(n){!function(e,t,n){u(e,t,n)}(e,t,n)},className:"List ".concat(e.checked?"List_Checked":"")},e.icon&&c.a.createElement(W,{type:e.icon}),c.a.createElement("span",null,e.text))});return c.a.createElement("ul",{style:l,className:"List_Wrapper ".concat(i)},p)}var ke=6e4,xe=60*ke,Se=24*xe,Ce=365*Se,Ne=30*Se,Te={1:"\u4e00",2:"\u4e24",3:"\u4e09",4:"\u56db",5:"\u4e94",6:"\u516d",7:"\u4e03",8:"\u516b",9:"\u4e5d"};function Oe(e){var t=Date.now();isNaN(+e)&&e&&(e=new Date(e.replace(/-/g,"/")).getTime());var n=t-new Date(parseInt(e)||t).getTime(),a=Math.abs(n);if(a<ke)return"\u521a\u521a";var i=Math.floor(a/Ce),r=Math.floor(a%Ce/Ne),o=Math.floor(a%Ne/Se),s=Math.floor(a%Se/xe),l=Math.floor(a%xe/ke);return i>=1?"".concat(Te[i],r>=5?"\u5e74\u534a\u524d":"\u5e74\u524d"):r>=1?"".concat(r,"\u4e2a\u6708\u524d"):o>0?"".concat(o,"\u5929\u524d"):s>0?"".concat(s,"\u4e2a\u5c0f\u65f6\u524d"):"".concat(l,"\u5206\u949f\u524d")}n(125);var Ae=ae(),Ie={Edit:{img:"/images/documentation.png",text:"\u7f16\u8f91\u4e86\u6587\u6863",action:["edit"],key:"doc"},CreateEdit:{img:"/images/create_edit.png",text:"\u521b\u5efa\u4e86\u6587\u6863",action:["edit"],key:"doc"},UpdateEdit:{img:"/images/update.png",text:"\u66f4\u65b0\u4e86\u6587\u6863",action:["edit"],key:"doc"},PhysicalDeleteEdit:{img:"/images/delete.png",text:"\u5f7b\u5e95\u5220\u9664\u4e86\u6587\u6863",key:"doc"},LogicalDeleteEdit:{img:"/images/delete.png",text:"\u79fb\u9664\u4e86\u6587\u6863",key:"doc"},CreateSpace:{img:"images/create_folder.png",text:"\u521b\u5efa\u4e86\u7a7a\u95f4",action:["management"],key:"space"},UpdateSpace:{img:"",text:"\u66f4\u65b0\u4e86\u7a7a\u95f4\u5566",action:["management"],key:"space"},Share:{img:"",text:"\u5206\u4eab\u4e86\u6587\u6863",key:"doc"}};function je(e,t,n){var a=R(t,["space","space_id"],""),i=R(t,["doc","doc_id"],t.doc_id||"");"space"===e.key?n.push("/spacedetail?spaceId=".concat(a)):"doc"!==e.key||["LogicalDeleteEdit","PhysicalDeleteEdit"].includes(t.type)?"editor"===e.key&&n.push("/simditor/".concat(i,"/?spaceId=").concat(a)):n.push("/article/".concat(i,"/?spaceId=").concat(a))}function Re(){return(Re=Object(x.a)(k.a.mark(function e(t,n,a){var i,r,o,s,l;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.props,r=void 0===i?{}:i,o=t.key,"remove"!==(void 0===o?"":o)){e.next=8;break}return e.next=4,O.post("delete/recent",{id:r.id});case 4:s=e.sent,l=Object(m.a)(s,2),"OK"===R(l[1],["STATUS"])?a("remove",r):Ae.error({content:"\u7cfb\u7edf\u5f00\u5c0f\u5dee\u5566\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"});case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Le(e,t,n,a){var i=e.action;return(void 0===i?[]:i).concat(["more"]).map(function(e){return"edit"===e?c.a.createElement(W,{key:e,onClick:function(e){je({key:"editor"},t,n),e.stopPropagation()},className:"Recent_Content_Item",type:"edit"}):"management"===e?c.a.createElement(p.b,{key:e,style:{color:"rgb(16, 142, 233)"},to:"/spacedetail?spaceId=".concat(t.space_id)},"\u7ba1\u7406"):"more"===e?c.a.createElement(V,{content:c.a.createElement(Ee,{style:{boxShadow:"none",padding:0},onTap:function(e,t,n){!function(e,t,n){Re.apply(this,arguments)}(e,n,a)},list:[{text:"\u79fb\u9664\u8bb0\u5f55",key:"remove",icon:"delete",props:t}]}),key:"more"},c.a.createElement(W,{type:"ellipsis",className:"Space_Operation_Icon"})):void 0})}function Me(e){var t=e.type,n=e.space,a=void 0===n?{}:n,i=e.doc,r=void 0===i?{}:i,o=e.user,s=void 0===o?{}:o,l=e.created_at,d=e.onRecentAction,u=e.doc_title,m=Object(h.f)(),f=Ie[t]||{},g=R(e[f.key],["space"===f.key?"name":"title"],u),v=["LogicalDeleteEdit","PhysicalDeleteEdit"].includes(t),b="spacedetail?spaceId=".concat(a.space_id),_="Recent_Content ";return _+="".concat(v?"":"recent_content_point"," "),!v&&"doc"===f.key&&I(r)?null:c.a.createElement("div",{className:_,onClick:function(t){je(f,e,m)}},c.a.createElement("div",{className:"Recent_Content_Left"},c.a.createElement("img",{src:f.img}),c.a.createElement("div",{className:"Recent_Content_Left_Info"},c.a.createElement("p",{className:"ellipsis"},g),"doc"===f.key&&c.a.createElement("div",{className:"ellipsis",onClick:function(e){e.stopPropagation()}},"\u6240\u5c5e\u7a7a\u95f4:",c.a.createElement(p.b,{to:b},"\u300a","".concat(a.name),"\u300b")),c.a.createElement("span",null,c.a.createElement("span",{style:{fontWeight:600}},s.name),c.a.createElement("span",null,Oe(l)," ",f.text)))),c.a.createElement("div",{className:"Recent_Content_Right"},Le(f,e,m,d)))}n(126);function Pe(e){var t=e.imageStyle,n=void 0===t?{}:t,a=e.style,i=void 0===a?{}:a,r=e.description,o=void 0===r?"":r,s=e.className,l=void 0===s?"":s,d=e.image,u=void 0===d?Pe.PRESENTED_IMAGE_DEFAULT:d;return c.a.createElement("div",{className:"Empty ".concat(l),style:i},c.a.createElement("img",{src:u,style:n,alt:"\u7a7a\u7a7a\u5982\u4e5f"}),c.a.createElement("div",{className:"Empty_Desc"},o||"\u54ce\u5440\uff5e\u8fd9\u91cc\u4ec0\u4e48\u90fd\u6ca1\u6709"))}function Be(){var e=Object(l.useState)([]),t=Object(m.a)(e,2),n=t[0],a=t[1],i=Object(l.useState)(!1),r=Object(m.a)(i,2),o=r[0],s=r[1];Object(l.useEffect)(function(){Object(x.a)(k.a.mark(function e(){var t,n,i,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,O.get("/recents?limit=20");case 3:t=e.sent,n=Object(m.a)(t,2),i=n[0],r=n[1],s(!1),i||!Array.isArray(r)?console.log("[\u83b7\u53d6\u6700\u8fd1\u4f7f\u7528\u5217\u8868\u5931\u8d25] ",i):a(r);case 9:case"end":return e.stop()}},e)}))()},[]);var d=Object(l.useCallback)(function(e,t){var i=t.id,r=n.slice(0),o=r.findIndex(function(e){return e.id===i});r.splice(o,1),a(r)},[n]);return o?c.a.createElement("div",{className:"recent_loading"},c.a.createElement(W,{type:"loading"}),c.a.createElement("span",null,"\u6b63\u5728\u52a0\u8f7d...")):0===n.length?c.a.createElement(Pe,null):c.a.createElement("div",{className:"Recent_Content_Layout"},n.map(function(e){return c.a.createElement(l.Fragment,{key:e.id},c.a.createElement(Me,Object.assign({},e,{onRecentAction:d})))}))}Pe.PRESENTED_IMAGE_DEFAULT="/images/basket_empty.png";n(127);var De=[{text:"\u6700\u8fd1\u7f16\u8f91",key:"index"},{text:"\u77e5\u8bc6\u5e93",key:"space"},{text:"\u6587\u6863\u5217\u8868",key:"docs"}];function ze(e){var t=e.defaultCurrent,n=void 0===t?"index":t,a=Object(h.f)(),i=Object(l.useState)(n),r=Object(m.a)(i,2),o=r[0],s=r[1],d=De.map(function(e){return Object(g.a)({},e,{checked:e.key===o})});Object(l.useEffect)(function(){s(n)},[n]);var u=Object(l.useCallback)(function(e){s(e.key),a.push("/".concat(e.key))},[]),p=d.filter(function(e){return e.checked})[0].text;return c.a.createElement(V,{className:"content-recent-edit-m",content:c.a.createElement(Ee,{style:{boxShadow:"none",padding:0},onTap:function(e,t,n){u(e,n)},list:d})},c.a.createElement("span",{className:"content-recent-edit-m-text"},p),c.a.createElement(W,{className:"content-recent-edit-m-icon",type:"caret-down"}))}n(128);function Fe(){var e=Object(l.useState)(!1),t=Object(m.a)(e,2),n=t[0],a=t[1];return c.a.createElement("div",{className:"Content_Layout"},c.a.createElement("div",{className:"Content_Layout_Head"},c.a.createElement("div",{className:"content-recent-edit"},"\u6700\u8fd1\u7f16\u8f91"),c.a.createElement(ze,null),c.a.createElement(Z,{onClick:function(){a(!0)}},"\u65b0\u5efa\u6587\u6863")),c.a.createElement(Be,null),n&&c.a.createElement(ve,{onModalChange:a}))}n(129);function He(){return null}n(130);function Ue(){return c.a.createElement("div",{className:"Container"},c.a.createElement(_e,null),c.a.createElement("div",{className:"content-wrapper_index"},c.a.createElement(ye,null),c.a.createElement(Fe,null),c.a.createElement(He,null)),c.a.createElement(we,null))}n(131);function $e(e){var t=e.className,n=void 0===t?"":t,a=e.crumbs,i=void 0===a?[]:a;if(!Array.isArray(i)||0===i.length)return null;var r=i.filter(function(e){return!!e.text}),o=r.map(function(e,t){return c.a.createElement("div",{className:"breadcrumb-item flex ellipsis",key:t},e.render?e.render(e):function(e){var t=e.text,n=e.pathname;return c.a.createElement(p.c,{to:n,className:"ellipsis",activeStyle:{color:"#262626",fontWeight:"bold"}},t)}(e),t!==r.length-1&&c.a.createElement("span",null,"/"))});return c.a.createElement("div",{className:"Breadcrumb flex ".concat(n)},o)}function We(e){var t=e.publish,n=void 0!==t&&t,a=e.spaceId,i=void 0===a?"":a,r=Object(l.useContext)(_),o=r.updateSaveStatus,s=r.saveContentStatus,c=window.location.pathname.split("/").filter(function(e){return e})[1];function d(){return(d=Object(x.a)(k.a.mark(function e(t){var a,r,l,d,u,p,h,f;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==s){e.next=2;break}return e.abrupt("return");case 2:return"",a=t.getValue(),"",r=a.replace(/<\/?[^>]*>/g,"").substr(0,160).replace(/[\r\n]/g,""),l=$(".simditor-title>input").val(),d=n?{cover:"",html:a,title:l,abstract:r,markdown:"",html_draft:"",title_draft:"",markdown_draft:""}:{html_draft:a,title_draft:l,markdown_draft:""},o(0),e.next=11,O.post("doc/update",Object(g.a)({doc_id:c},d));case 11:return u=e.sent,p=Object(m.a)(u,2),h=p[0],f=p[1],e.next=17,re({spaceId:i,docId:c,docTitle:l,type:n?"UpdateEdit":"Edit"});case 17:if(h||!f||"OK"!==f.STATUS){e.next=20;break}return o(1),e.abrupt("return",[null,f]);case 20:return console.log("\u66f4\u65b0\u6587\u6863\u5185\u5bb9\u5931\u8d25",h),o(2),e.abrupt("return",[h||{},null]);case 23:case"end":return e.stop()}},e)}))).apply(this,arguments)}return function(e){return d.apply(this,arguments)}}n(132);var qe=z().isMobile;function Ge(e){var t=e.docInfo,n=void 0===t?{}:t,a=e.className,i=void 0===a?"":a,r=L().spaceId,o=void 0===r?"":r,s=We({publish:!0,spaceId:o}),d=Object(l.useState)(!0),u=Object(m.a)(d,2),f=u[0],g=u[1],v=Object(l.useContext)(_),b=v.editor,y=v.saveContentStatus,w=/^\/article\//.test(window.location.pathname),E=/^\/simditor\//.test(window.location.pathname),S=window.location.pathname.split("/").filter(function(e){return e})[1],C=Object(h.f)(),N=C.location.search;function T(){return(T=Object(x.a)(k.a.mark(function e(){var t,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(b);case 2:t=e.sent,n=Object(m.a)(t,1),n[0]||window.location.replace(window.location.origin+"/article/".concat(S,"?spaceId=").concat(o,"&content=origin"));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(l.useEffect)(function(){b&&b.on("valuechanged",function(){g(!1)})},[b]);var O=[{text:"\u6587\u6863\u5217\u8868",pathname:"/docs"},{text:R(n,["space","name"],""),pathname:"/spacedetail?spaceId=".concat(o)},{text:R(n,["title"],""),pathname:"/".concat(w?"article":"simditor","/").concat(S,"?spaceId=").concat(o)}],A=qe?"\u5df2\u4fdd\u5b58":"\u4fdd\u5b58\u4e8e ".concat(j(new Date)),I="article-header ".concat(qe?"article-header_mobile":""," ").concat(i);return c.a.createElement("div",{className:$.trim(I)},c.a.createElement("div",{className:"article-header_content"},c.a.createElement("div",{className:"article-header_left"},!qe&&c.a.createElement(p.b,{className:"article-header_title flex",to:"/"}),c.a.createElement($e,{crumbs:qe?O.slice(1):O}),c.a.createElement("div",{className:"article-header_Save"},0===y&&c.a.createElement("span",null,"\u6b63\u5728\u4fdd\u5b58..."),1===y&&c.a.createElement("span",null,A))),c.a.createElement("div",{className:"article-header_right"},w&&c.a.createElement("div",{className:"article-header_Edit_Btn flex"},c.a.createElement(Z,{type:"primary",content:"\u7f16\u8f91",onClick:function(){C.push("/simditor/".concat(S).concat(N))}})),E&&c.a.createElement(Z,{type:"primary",disabled:f,onClick:function(){return T.apply(this,arguments)}},"\u66f4\u65b0"))))}n(133);function Ve(e){var t=e.html,n=void 0===t?"":t,a=e.style,i=void 0===a?{}:a,r=e.className,o=void 0===r?"":r,s=Object(l.useState)(null),d=Object(m.a)(s,2),u=d[0],p=d[1],h=z().isMobile,f=Object(l.useCallback)(function(e,t){t&&0!==$("#".concat(t)).length&&($("html, body").animate({scrollTop:$("#".concat(t)).offset().top-58},400),window.location.hash=t)},[]);return Object(l.useEffect)(function(){p(function(e,t){return e?F(e).map(function(e){return c.a.createElement("li",{className:"catalog-item catalog-item_".concat(e.id," catalog-item_").concat(e.type),key:e.index,onClick:function(n){t(n,e.id)}},e.text)}):null}(n,f))},[n]),h||!Array.isArray(u)||0===u.length?null:c.a.createElement("div",{className:"catalog-wrapper ".concat(o),style:i},c.a.createElement("div",{className:"catalog-title"},"\u6587\u7ae0\u76ee\u5f55"),c.a.createElement("ul",{className:"catalog-box"}," ",u," "))}n(134);var Ke="tooltip_show";function Xe(e){var t=e.className,n=void 0===t?"":t,a=e.tips,i=void 0===a?"":a,r=e.placement,o=void 0===r?"top":r,s=e.children,d=void 0===s?null:s,p=Object(l.useState)({}),h=Object(m.a)(p,2),f=h[0],g=h[1],v=Object(l.useRef)(null),b=Object(l.useRef)(null),_=Object(l.useRef)(null),y=Object(l.useCallback)(function(e){var t=e.getBoundingClientRect(),n=t.left,a=t.top,i=t.height,r=t.width,o=$(b.current).width(),s=$(b.current).height(),l=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,c=document.body.getBoundingClientRect().width,d=n+r/2-o/2+5,u=a+l-s-i;return d<10&&(d=10),d+o>=c&&(d=c-o-10),_.current.style.left="".concat(n+r/2-d,"px"),{left:"".concat(d,"px"),top:"".concat(u,"px")}},[]),w=Object(l.useCallback)(function(){g(y(v.current))},[]),E=Object(l.useCallback)(function(e){var t=function(){b.current.classList.add(Ke),w(e)},n=function(){b.current.classList.remove(Ke)};return v.current.addEventListener("mouseenter",t,!1),v.current.addEventListener("mouseleave",n,!1),b.current.addEventListener("mouseenter",t,!1),b.current.addEventListener("mouseleave",n,!1),[{name:"mouseenter",fn:t},{name:"mouseleave",fn:n}]},[]);return Object(l.useEffect)(function(){var e=E(o);return function(){e.forEach(function(e){var t=e.name,n=e.fn;v.current.removeEventListener(t,n),b.current.removeEventListener(t,n)})}},[o]),c.a.createElement("div",{ref:v,className:"".concat(n)},d,u.a.createPortal(c.a.createElement("div",{className:"tooltip_wrapper"},c.a.createElement("div",{className:"tooltip animated",ref:b,style:f},c.a.createElement("div",{className:"tooltip_content"},i),c.a.createElement("div",{className:"tooltip_arrow",ref:_}))),document.body))}n(135);n(136);var Ze={fontWeight:"bold",color:"#25b864"};function Ye(){var e=L().spaceId,t=void 0===e?"":e,n=Object(l.useRef)(!1),a=Object(l.useState)({docs:[],catalog:[]}),i=Object(m.a)(a,2),r=i[0],o=i[1],s=Object(l.useCallback)(Object(x.a)(k.a.mark(function e(){var a,i,r,s,l;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.current=!0,e.next=3,O.get("space/docs?space_id=".concat(t));case 3:a=e.sent,i=Object(m.a)(a,2),r=i[0],s=i[1],n.current=!1,(l=JSON.parse(R(s,["space","catalog"],"[]"))).length>1?o({catalog:fe(l.slice(1)),docs:s.docs}):console.log("[\u83b7\u53d6space\u4e0bdoc\u5217\u8868\u5931\u8d25] ",r);case 10:case"end":return e.stop()}},e)})),[]),d=Object(l.useCallback)(function(e,t,n){ge({trees:e,item:t,index:n},function(e){o({catalog:e,docs:r.docs})})},[r.docs]);Object(l.useEffect)(function(){s()},[]);var u=r.docs,h=r.catalog;if(n.current)return c.a.createElement("div",{className:"bookcatalog-wrapper"});var f=h.map(function(e,t){var n=u.find(function(t){return t.doc_id===e.docId})||{},a=e.children.length>0,i="Bookcatalog-item flex ";return i+="".concat(e.open?"Bookcatalog-item_Open":""," "),i+="".concat(a?"Bookcatalog-item_Parent":""," "),I(n)?null:c.a.createElement("div",{key:e.docId,style:{left:"".concat(10*Math.min(e.level,3),"px")},className:i},a&&c.a.createElement(W,{onClick:function(){d(h,e,t)},type:"caret-down"}),function(e,t){var n="bookcatalog ellipsis";return"EMPTY_NODE"===e.toLocaleUpperCase()?c.a.createElement(Xe,{className:n,tips:"\u7a7a\u8282\u70b9"},c.a.createElement("span",null,t.title)):c.a.createElement(p.c,{to:"/article"+t.url.split("article")[1],exact:!0,className:n,activeStyle:Ze},t.title)}(e.type,n))});return c.a.createElement("nav",{className:"bookcatalog-wrapper"},c.a.createElement("div",{className:"bookcatalog-content"},f))}function Je(e){var t=e.docInfo.updated_at_timestamp,n=Object(l.useContext)(f).userInfo;return c.a.createElement("div",{className:"footer-meta"},c.a.createElement("div",{className:"footer-meta_Item"},c.a.createElement(W,{type:"usergroup-delete"}),c.a.createElement("span",{className:"ellipsis"},n.account||n.nickname)),c.a.createElement("div",{className:"footer-meta_Item"},c.a.createElement(W,{type:"clock-circle"}),c.a.createElement(Xe,{tips:"\u66f4\u65b0\u4e8e".concat(j(t))},c.a.createElement("span",null,Oe(t)))))}n(137);function Qe(e){var t=e.style,n=void 0===t?{}:t,a=e.className,i=void 0===a?"":a,r=e.children,o=void 0===r?"":r,s=e.content,l=void 0===s?"":s,d=e.w,u=void 0===d?"auto":d,p=e.h,h=void 0===p?"auto":p,m=e.closable,f=void 0!==m&&m,v=e.color,b=void 0===v?"orange":v,_=e.onClick,y=void 0===_?console.log:_;return c.a.createElement("div",{style:Object(g.a)({width:u,height:h,backgroundColor:b},n),className:"Tag ".concat(i),onClick:y},l||o,f&&c.a.createElement(W,{type:"close"}))}var et=z().isMobile;function tt(e){var t=e.docInfo;if(!t||!t.title_draft&&!t.markdown_draft)return null;var n=window.location.pathname,a=L(),i=a.spaceId,r=void 0===i?"":i,o=a.content,s=void 0===o?"":o,l=n.replace(/\/article\//,"/simditor/")+"?spaceId=".concat(r,"&content=draft"),d="".concat(n,"?spaceId=").concat(r,"&content=origin"),u="Article_DraftTips_Warpper ";return u+="".concat(et?"article_draftTip_mobile":""),c.a.createElement("div",{className:u},c.a.createElement("div",{className:"Article_DraftTips flex"},c.a.createElement("img",{src:"/images/draft.png"}),c.a.createElement("div",null,c.a.createElement("div",{className:"Article_DraftTips_P"},"\u5f53\u524d\u6587\u6863\u7684\u6700\u65b0\u5185\u5bb9\u5c1a\u672a\u66f4\u65b0\uff08\u9ed8\u8ba4\u663e\u793a\u6700\u65b0\u8349\u7a3f\u5185\u5bb9\uff09",c.a.createElement(Qe,{color:"#47c479"},c.a.createElement(p.b,{to:"".concat(l)},"\u53bb\u66f4\u65b0")),"origin"!==s&&c.a.createElement(Qe,null,c.a.createElement(p.b,{to:"".concat(d)},"\u663e\u793a\u539f\u6587\u6863"))),c.a.createElement("p",{style:{marginTop:"5px"}},c.a.createElement("span",null,t.user.name),"\u6700\u540e\u66f4\u6539\u4e8e",c.a.createElement("span",null,j(t.draft_update_at))))))}var nt=n(76),at=n.n(nt),it=(n(138),n(139),z().isMobile);function rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.html_draft||e.html;return"origin"===t?e.html:n}function ot(e){var t=F(e),n=$(window).scrollTop(),a="up",i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=null,i=n;return function(){var n=arguments,r=this;i?(e.apply(this,arguments),i=!1):(clearTimeout(a),a=setTimeout(function(){e.apply(r,n)},t))}}(function(){for(var e=null,i=[],r=0,o=t.length;r<o;r++){var s=t[r].id;if(!s||!$("#".concat(s)).length)return;var l=$("#".concat(s)).offset().top-$(document).scrollTop()-58,c=$(window).scrollTop();c-n>0?a="up":c-n<0&&(a="down"),i.push({top:l,id:s}),n=c}i.length&&(e="up"===a?i.every(function(e){return e.top>0})?i[0].id:(i.filter(function(e){return e.top>=0})[0]||i.slice(0).pop()).id:i.every(function(e){return e.top<0})?i[i.length-1].id:i.filter(function(e){return e.top>=0})[0].id,$(".catalog-item").removeClass("catalog-item__active"),$(".catalog-item_".concat(e)).addClass("catalog-item__active"))},100);$(window).on("scroll",i)}function st(e){var t=e.docInfo,n=void 0===t?{}:t,a=Object(l.useState)("article-preview ".concat(it?"article-preview_mobile":"")),i=Object(m.a)(a,1)[0],r=L().content,o=void 0===r?"draft":r;Object(l.useEffect)(function(){var e=rt(n,o);$(".article-html").html(String(e)),setTimeout(function(){var t,n;t=document.querySelectorAll(".article-html>pre"),n=at.a,t&&0!==t.length&&Array.from(t).forEach(function(e){n.highlightElement(e)}),function(){var e=window.location.hash.split("#")[1]||"";e&&0!==$("#".concat(e)).length?$("html, body").animate({scrollTop:$("#".concat(e)).offset().top-58},400):$("html, body").scrollTop(0)}(),ot(e)},0)},[n.doc_id,o]);var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.title_draft||e.title;return"origin"===t?e.title:n}(n,o),d="article-html ".concat(it?"article-html_mobile":"");return c.a.createElement("div",{className:"article-wrapper"},!it&&c.a.createElement(Ye,null),c.a.createElement("div",{className:$.trim(i)},c.a.createElement(tt,{docInfo:n}),s&&c.a.createElement("h1",null,s),c.a.createElement("article",{className:$.trim(d)}),c.a.createElement(Je,{docInfo:n||{}}),c.a.createElement(we,null)),c.a.createElement(Ve,{className:"article_catalog",html:rt(n,o)}))}n(140);function lt(e){var t=e.style,n=void 0===t?{}:t,a=e.className,i=void 0===a?"":a,r=e.title,o=void 0===r?void 0:r,s=e.subTitle,l=void 0===s?void 0:s;return c.a.createElement("div",{style:n,className:"mobile_404 ".concat(i)},c.a.createElement("div",{className:"mobile_404_content"},c.a.createElement("img",{src:"/images/404.svg"}),c.a.createElement("p",null,void 0===o?"\u4ece\u524d\u6709\u5ea7\u5c71\uff0c\u5c71\u91cc\u6709\u5ea7\u5e99\uff0c\u5e99\u91cc\u6709\u4e2a\u9875\u9762\uff0c\u73b0\u5728\u627e\u4e0d\u5230...":o),c.a.createElement("div",null,void 0===l?"\u9875\u9762\u94fe\u63a5\u9519\u8bef\u6216\u88ab\u5220\u9664":l)),c.a.createElement(we,null))}n(141);var ct=[{icon:"/images/catalog.png",text:"\u76ee\u5f55",key:"catalog"}];function dt(e){var t=e.html,n=void 0===t?"":t,a=Object(l.useState)(!1),i=Object(m.a)(a,2),r=i[0],o=i[1],s=Object(l.useCallback)(function(e){"catalog"===e.key&&o(!0)},[]);return n?c.a.createElement(l.Fragment,null,function(e,t,n){var a=F(e),i="mobile_catalogs-mask animated ".concat(n?"mobile_catalogs-show":""),r=function(){t(!1)};return c.a.createElement("div",{className:i},c.a.createElement("div",{className:"mobile_catalogs"},c.a.createElement("div",{className:"mobile_catalogs-title"},c.a.createElement("span",null,"\u76ee\u5f55"),c.a.createElement(W,{onClick:function(){t(!1)},type:"close"})),0===a.length?c.a.createElement("div",null,"\u8be5\u6587\u6863\u672a\u5b9a\u4e49\u76ee\u5f55"):a.map(function(e){return c.a.createElement("div",{key:e.index,onClick:r,className:"mobile_toolbar_catalog"},c.a.createElement("a",{href:"#".concat(e.id),className:"catalog-item_"+e.type},e.text))})))}(n,o,r),c.a.createElement("div",{className:"mobile_toolbar"},ct.map(function(e){return c.a.createElement("div",{key:e.key,onClick:function(){s(e)},className:"mobile_toolbar_item"},c.a.createElement("img",{src:e.icon}))}))):null}n(142);var ut=z().isMobile;function pt(){var e=Object(l.useState)(void 0),t=Object(m.a)(e,2),n=t[0],a=t[1],i=Object(l.useState)(void 0),r=Object(m.a)(i,2),o=r[0],s=r[1],d=window.location.pathname.split("/").filter(function(e){return e})[1],u=Object(l.useCallback)(Object(x.a)(k.a.mark(function e(){var t,n,i,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("docs?docId=".concat(d,"&type=detail"));case 2:if(t=e.sent,n=Object(m.a)(t,2),i=n[0],r=n[1],!i&&Array.isArray(r)&&0!==r.length){e.next=10;break}return console.log("[\u83b7\u53d6\u6587\u6863\u4fe1\u606f\u5931\u8d25]",i,r),s(!0),e.abrupt("return");case 10:s(!1),a(r[0]);case 12:case"end":return e.stop()}},e)})),[d]);return Object(l.useEffect)(function(){u()},[d]),c.a.createElement("div",{className:"article"},function(e,t){return void 0===e?null:e?c.a.createElement(_e,null):c.a.createElement(Ge,{docInfo:t})}(o,n),function(e,t){return void 0===e?null:e?c.a.createElement(lt,null):c.a.createElement(st,{docInfo:t})}(o,n),ut&&c.a.createElement(dt,{html:(n||{}).html}))}var ht=n(17);n(143);function mt(e){var t=e.w,n=void 0===t?320:t,a=e.h,i=void 0===a?40:a,r=e.addonBefore,o=e.addonAfter,s=e.defaultValue,d=e.type,u=void 0===d?"text":d,p=e.autocomplete,h=void 0===p?"off":p,f=e.placeholder,v=void 0===f?"":f,b=e.maxLength,_=void 0===b?100:b,y=e.onChange,w=void 0===y?function(){}:y,E=e.onFocus,k=void 0===E?function(){}:E,x=e.className,S=void 0===x?"":x,C=e.style,N=void 0===C?{}:C,T=e.rows,O=void 0===T?"3":T,A=e.cols,I=void 0===A?"20":A,j=Object(l.useState)(s),R=Object(m.a)(j,2),L=R[0],M=R[1],P=Object(l.useState)("Input_Wrapper flex "),B=Object(m.a)(P,2),D=B[0],z=B[1],F=Object(l.useRef)(null),H=function(e){M(e.currentTarget.value),w(e)};return Object(l.useEffect)(function(){var e=D;r||o||(e+="Input_Full"),r&&!o&&(e+="Input_Before"),z(e)},[r,o]),Object(l.useEffect)(function(){M(s),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(e){var a=function(t){return window.getComputedStyle(e,null)[t]},i=!!document.getBoxObjectFor||"mozInnerScreenX"in window,r=!!window.opera&&!!window.opera.toString().indexOf("Opera"),o=parseFloat(a("height")),s=document.addEventListener;e.style.resize="none";var l=function(){var s,l,c=0,d=e.style;e._length!==e.value.length&&(e._length=e.value.length,i||r||(c=parseInt(a("paddingTop"))+parseInt(a("paddingBottom"))),s=document.body.scrollTop||document.documentElement.scrollTop,e.style.height=o+"px",e.scrollHeight>o&&(n&&e.scrollHeight>n?(l=n-c,d.overflowY="auto"):(l=e.scrollHeight-c,d.overflowY="hidden"),d.height=l+t+"px",s+=parseInt(d.height)-e.currHeight,document.body.scrollTop=s,document.documentElement.scrollTop=s,e.currHeight=parseInt(d.height)))};s("propertychange",l),s("input",l),s("focus",l),l()}}(F.current,10)},[s]),c.a.createElement("div",{className:"".concat(D," ").concat(S),style:Object(g.a)({width:isNaN(n)?n:"".concat(n,"px"),height:isNaN(i)?i:"".concat(i,"px")},N)},r&&c.a.createElement("span",{className:"Input_addonBefore flex"},r),"textarea"!==u&&c.a.createElement("input",{autoComplete:h,type:u,placeholder:v,maxLength:_,value:L||"",onFocus:k,onChange:H}),"textarea"===u&&c.a.createElement("textarea",{ref:F,rows:O,cols:I,placeholder:v,maxLength:_,value:L||"",onFocus:k,onChange:H}),o&&c.a.createElement("span",{className:"Input_addonAfter"},o))}n(144);var ft={login:{title:"\u4e00\u65e5\u4e00\u8bb0",subTitle:"\u5de5\u6b32\u5584\u5176\u4e8b\uff0c\u5fc5\u5148\u5229\u5176\u5668"},register:{title:"\u6b22\u8fce\u6b22\u8fce",subTitle:"\u82e5\u4eba\u95f4\u6709\u60c5\uff0c\u90a3\u662f\u5f00\u59cb\uff0c\u4e5f\u662f\u5c3d\u5934"}},gt=ae();function vt(e,t){var n=R(e,["code"]),a=R(e,["message"],"\u7cfb\u7edf\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"),i={};20003===n?i.accountErrorMsg=a:20004===n?i.passwordErrorMsg=a:gt.error({content:a}),t(i)}function bt(){var e="/login"===window.location.pathname,t=L().returnUrl,n=void 0===t?"":t,a=Object(l.useState)({account:"",password:""}),i=Object(m.a)(a,2),r=i[0],o=i[1],s=Object(l.useState)("/images/pikachu_front.svg"),d=Object(m.a)(s,2),u=d[0],v=d[1],b=Object(l.useState)({accountErrorMsg:"",passwordErrorMsg:""}),_=Object(m.a)(b,2),y=_[0],w=_[1],E=Object(l.useState)(!1),S=Object(m.a)(E,2),C=S[0],N=S[1],T=Object(l.useContext)(f).updateUserInfo,A=Object(h.f)();Object(l.useEffect)(function(){var e=D({handle:function(e){13===e.keyCode&&M()}});return w({}),function(){e.remove()}},[r,e]);var I=function(e,t){o(Object(g.a)({},r,Object(ht.a)({},"".concat(e),t.currentTarget.value)))},j=Object(l.useCallback)(function(e){var t=e.account,n=e.password,a={};return(!t||t.length<5)&&(a.accountErrorMsg="\u8bf7\u8f93\u5165\u6b63\u786e\u5e10\u53f7\u683c\u5f0f\uff0c\u81f3\u5c11 5 \u4f4d"),(!n||n.length<6)&&(a.passwordErrorMsg="\u8bf7\u8f93\u5165\u6b63\u786e\u5bc6\u7801\u683c\u5f0f\uff0c\u81f3\u5c11 6 \u4f4d"),w(a),a.passwordErrorMsg||a.accountErrorMsg},[]),M=function(){var t=Object(x.a)(k.a.mark(function t(){var a,i,o,s,l;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e?"login":"register",!j(r)){t.next=3;break}return t.abrupt("return");case 3:return N(!0),t.next=6,O.post(a,r);case 6:i=t.sent,o=Object(m.a)(i,2),s=o[0],l=o[1],N(!1),!s&&R(l,["uuid"])?(T(l),e&&n?window.location.href=decodeURIComponent(n):A.replace("/")):vt(s,w);case 12:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),P=ft[e?"login":"register"];return c.a.createElement("div",{className:"login_bg"},c.a.createElement("div",{className:"Login_Wrapper"},c.a.createElement("img",{src:u,className:"Login_logo"}),c.a.createElement("h1",{className:"Login_title"},P.title),c.a.createElement("h2",{className:"Login_sub_title"},P.subTitle),c.a.createElement(mt,{style:{marginBottom:"16px"},onFocus:function(){v("/images/pikachu_front.svg")},onChange:function(e){I("account",e)},addonBefore:c.a.createElement(W,{type:"user"})}),y.accountErrorMsg&&c.a.createElement("span",{className:"Login_Error"},y.accountErrorMsg),c.a.createElement(mt,{style:{marginBottom:"16px"},addonBefore:c.a.createElement(W,{type:"lock"}),onFocus:function(){v("/images/pikachu.svg")},onChange:function(e){I("password",e)},type:"password"}),y.passwordErrorMsg&&c.a.createElement("span",{className:"Login_Error"},y.passwordErrorMsg),c.a.createElement(Z,{type:"primary",className:"Login_submit",loading:C,onClick:M},e?"\u7acb\u5373\u767b\u9646":"\u7acb\u5373\u6ce8\u518c"),c.a.createElement(p.c,{className:"Login_action",to:e?"/register":"/login"},e?"\u7acb\u5373\u6ce8\u518c":"\u5df2\u6709\u8d26\u53f7\u767b\u9646"),c.a.createElement("span",{className:"Login_Tips"},"\u4e00\u5b9a\u8981\u8bb0\u4f4f\u4f60\u7684\u5e10\u53f7\u54df\uff0c\u5fd8\u8bb0\u4e86\u53ef\u662f\u6ca1\u529e\u6cd5\u627e\u56de\u6765\u7684\u3002")))}n(145);function _t(){return c.a.createElement(bt,null)}n(146);function yt(){var e=z().isMobile,t=L().spaceId,n=void 0===t?"":t,a=window.location.pathname.split("/").filter(function(e){return e})[1],i=Object(l.useContext)(_).editor,r=We({publish:!0,spaceId:n});if(!e)return null;var o=Object(l.useCallback)(Object(x.a)(k.a.mark(function e(){var t,o;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(i);case 2:t=e.sent,o=Object(m.a)(t,1),o[0]||window.location.replace(window.location.origin+"/article/".concat(a,"?spaceId=").concat(n,"&content=origin"));case 6:case"end":return e.stop()}},e)})),[i]);return c.a.createElement("div",{className:"float-button flex",onClick:o},c.a.createElement("img",{src:"/images/shangdian.png"}))}var wt=n(19),Et=n.n(wt),kt=(n(150),n(151),n(163),n(164),n(167),z().isMobile);function xt(){return St.apply(this,arguments)}function St(){return(St=Object(x.a)(k.a.mark(function e(){var t,n,a,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.pathname.split("/").filter(function(e){return e})[1],e.next=3,O.get("docs?type=detail&docId=".concat(t));case 3:return n=e.sent,a=Object(m.a)(n,2),i=a[1],e.abrupt("return",R(i,[0],{})||{});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ct(e,t){var n=document.querySelector(".simditor-body"),a=Nt(e,t).title||"",i='<div class="simditor-title '.concat(kt?"simditor-title_mobile":"",'">')+'<input maxlength="30" placeholder="\u65e0\u6807\u9898" value=\''.concat(a.substr(0,30),"' />")+"</div>";n&&$(i).insertBefore($($(".simditor-wrapper").children()[0]))}function Nt(e,t){var n=JSON.parse(window.localStorage.getItem(t)),a=e.title_draft||e.title,i=e.html_draft||e.html;return A(n)?{title:n.title||"",content:n.content||""}:{content:i,title:a}}function Tt(e,t,n){var a=JSON.parse(window.localStorage.getItem(e)||"{}");window.localStorage.setItem(e,JSON.stringify(Object(g.a)({},a,Object(ht.a)({},"".concat(t),n))))}n(168);var Ot=function(){},At=z().isMobile;function It(){var e=L().spaceId,t=void 0===e?"":e,n=Object(l.useState)({}),a=Object(m.a)(n,2),i=a[0],r=a[1],o=Object(l.useState)(""),s=Object(m.a)(o,2),d=s[0],u=s[1],p=Object(l.useContext)(_).updateEditorInfo,h=We({spaceId:t}),f=Object(l.useRef)({}),v="autosave".concat(window.location.pathname),b=Object(l.useCallback)(Object(x.a)(k.a.mark(function e(){var t,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt();case 2:t=e.sent,r(t),u(Nt(t,v).content),(n=new Et.a(Object(g.a)({},ne,{textarea:$("#editor")}))).on("valuechanged",function(){var e=n.getValue(),t=$.trim($(".simditor-title>input").val());u(e),Tt(v,"content",e),Tt(v,"title",t)}),p(n),f.current=n,Ct(t,v),$(".simditor-title>input").on("input",function(){n.trigger("valuechanged")});case 12:case"end":return e.stop()}},e)})),[]);Object(l.useEffect)(function(){b(),function(e){var t=e.save,n=e.simditor;if(!kt)D({handle:function(e){var a=e.keyCode,i=e.ctrlKey,r=e.e;i&&83===a&&(r.preventDefault(),t(n.current))}})}({save:h,simditor:f})},[]);var y="".concat(At?"simditor-container_mobile":"simditor-container");return c.a.createElement("div",{className:"simditor-page"},At?null:c.a.createElement(Ge,{className:"simditor-header",docInfo:i}),c.a.createElement("div",{className:y},c.a.createElement("div",{className:"simditor-content ".concat(At?"simditor-content_mobile":"")},c.a.createElement("textarea",{className:"simditor_textarea",value:d,onChange:Ot,id:"editor"}),c.a.createElement(Ve,{html:d}))),c.a.createElement(yt,null))}n(169);function jt(e){var t=e.disabled,n=void 0!==t&&t,a=e.overlay,i=void 0===a?null:a,r=e.trigger,o=void 0===r?"hover":r,s=e.visible,d=void 0!==s&&s,u=e.onVisibleChange,p=void 0===u?function(){}:u,h=Object(l.useState)(d),f=Object(m.a)(h,2),g=f[0],v=f[1],b=d?"Dropdown_Overlay_Visible":"",_=g?"Dropdown_Click_Expand":"";return c.a.createElement("div",{onClick:function(){"click"===o&&(v(!g),p(!g))},className:"Dropdown flex animated ".concat({hover:"Dropdown_Hover",click:""}[o]," ").concat(b," ").concat(_)},n&&c.a.createElement("div",{className:"Dropdown_disabled"}),c.a.createElement("div",{className:"Dropdown_Child flex"},e.children),c.a.createElement("div",{className:"Dropdown_Overlay"},i))}n(170);function Rt(e){var t=e.icon,n=e.title,a=e.desc,i=e.index,r=e.actived,o=void 0!==r&&r,s=e.disabled,l=void 0!==s&&s,d=e.onClick,u=void 0===d?console.log:d;return c.a.createElement("div",{onClick:function(){o||u(i)},className:"Scene ".concat(l?"Scene_Disabled":""," flex ").concat(o?"Scene_Actived":"")},c.a.createElement("div",{className:"Scene_Img flex"},t),c.a.createElement("div",{className:"Scene_Content"},c.a.createElement("h6",null,n),c.a.createElement("p",null,a)))}function Lt(e){var t=e.type,n=e.text,a=e.checked,i=e.len,r=e.handle,o=e.index,s="";i>1?(s=a?"New_Permission_Checked":"",s+=" New_Permission_Mul"):s="New_Permission_Show";return c.a.createElement("div",{className:"New_Permission flex ".concat(s),onClick:function(){i>1&&r(o)}},c.a.createElement(W,{type:t}),c.a.createElement("p",null,n),c.a.createElement(W,{type:1===i?"down":a?"check":""}))}function Mt(e){var t=e.menus,n=e.onClick,a=t.length;return t.map(function(e,t){return c.a.createElement(Lt,Object.assign({},e,{key:t,index:t,len:a,handle:n}))})}function Pt(e){var t=e.setSpace,n=ae(),a=Object(h.f)(),i=Object(l.useState)([{type:"stop",text:"\u4ec5\u81ea\u5df1\u53ef\u89c1",public:"SELF",checked:!0},{type:"global",public:"PUBLIC",text:"\u4e92\u8054\u7f51\u53ef\u89c1"}]),r=Object(m.a)(i,2),o=r[0],s=r[1],d=Object(l.useState)([{icon:c.a.createElement("img",{src:"/images/book.png"}),title:"\u6587\u6863\u77e5\u8bc6\u5e93",desc:"\u521b\u4f5c\u5728\u7ebf\u6587\u6863",scene:"DOCS",actived:!0},{icon:c.a.createElement("img",{src:"/images/books.png"}),title:"\u8d44\u6e90\u77e5\u8bc6\u5e93",disabled:!0,scene:"RESOURCE",desc:"\u4e0a\u4f20\u5e76\u9884\u89c8\u77e5\u8bc6\u5e93"},{icon:c.a.createElement("img",{src:"/images/import.png"}),title:"\u5bfc\u5165",disabled:!0,scene:"IMPORT",desc:"\u65b0\u5efa\u5e76\u5bfc\u5165\u672c\u5730\u5185\u5bb9"}]),u=Object(m.a)(d,2),p=u[0],f=u[1],v=Object(l.useState)([{icon:c.a.createElement("img",{src:"/images/doc.png"}),title:"\u5b66\u4e60\u7b14\u8bb0",disabled:!0,scene:"TEMPLATE_OF_STUDY",desc:"\u70b9\u6ef4\u5b66\u4e60\uff0c\u968f\u65f6\u8bb0\u5f55"},{icon:c.a.createElement("img",{src:"/images/blog.png"}),title:"\u535a\u5ba2\u4e13\u680f",disabled:!0,scene:"TEMPLATE_OF_BLOG",desc:"\u5b9a\u65f6\u603b\u7ed3\uff0c\u4e0e\u4eba\u5206\u4eab\uff0c\u52a0\u6df1\u8bb0\u5fc6"},{icon:c.a.createElement("img",{src:"/images/trip.png"}),title:"\u65c5\u884c\u653b\u7565",disabled:!0,scene:"TEMPLATE_OF_TRAVEL",desc:"\u884c\u7a0b\u5355\u3001\u9884\u7b97\u3001\u6e38\u8bb0"}]),b=Object(m.a)(v,2),_=b[0],y=b[1],w=Object(l.useState)(p[0]),E=Object(m.a)(w,2),S=E[0],C=E[1],N=function(e){s(o.map(function(t,n){return Object(g.a)({},t,{checked:n===e})}))},T=function(e,n,a){if(!a.disabled){var i=_.map(function(t,a){return Object(g.a)({},t,{actived:"default"!==n&&a===e})}),r=p.map(function(t,a){return Object(g.a)({},t,{actived:"template"!==n&&a===e})});y(i),f(r);var o=[].concat(Object(ie.a)(i),Object(ie.a)(r)).filter(function(e){return e.actived})[0];t(o),C(o)}},A=function(e,t){var n=e.currentTarget.value;C(Object(g.a)({},S,Object(ht.a)({},"".concat(t),n)))},I=function(){var e=Object(x.a)(k.a.mark(function e(){var t,i,r,s,l,c,d;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=S.title,i=S.desc,r=S.scene,t&&i){e.next=4;break}return n.error({content:"\u8bf7\u5148\u5b8c\u5584\u4fe1\u606f"}),e.abrupt("return");case 4:return e.next=6,O.post("create/space",{name:t,description:i,public:o.filter(function(e){return e.checked})[0].public,scene:r});case 6:if(s=e.sent,l=Object(m.a)(s,2),c=l[0],d=l[1],c||!d||!d.spaceId){e.next=15;break}return e.next=13,re({spaceId:d.spaceId,type:"CreateSpace"});case 13:return n.success({content:"\u521b\u5efa\u6210\u529f",d:500,onClose:function(){return a.push("/space/")}}),e.abrupt("return");case 15:n.error({content:(c||{}).message||"\u7cfb\u7edf\u5f00\u5c0f\u5dee\u5566\uff0c\u7a0d\u7b49\u8bd5\u8bd5\u5427"}),console.log("[\u521b\u5efa\u7a7a\u95f4\u5931\u8d25 ]",c);case 17:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),j=c.a.createElement(Mt,{onClick:N,menus:o}),R=[Object(g.a)({},o.filter(function(e){return e.checked})[0],{checked:!1})],L=p.map(function(e,t){return c.a.createElement(Rt,Object.assign({},e,{onClick:function(t){return T(t,"default",e)},index:t,key:t}))}),M=_.map(function(e,t){return c.a.createElement(Rt,Object.assign({},e,{onClick:function(t){return T(t,"template",e)},index:t,key:t}))});return c.a.createElement("div",{className:"New_Choose"},c.a.createElement("h1",null,"\u53ef\u89c1\u8303\u56f4"),c.a.createElement(jt,{overlay:j,trigger:"click"},c.a.createElement(Mt,{onClick:N,menus:R})),c.a.createElement("div",{className:"New_Scenes flex"},L),c.a.createElement("h1",null,"\u4ece\u6a21\u7248\u65b0\u5efa"),c.a.createElement("div",{className:"New_Scenes New_Scenes_Template flex"},M),c.a.createElement("h1",null,"\u540d\u79f0"),c.a.createElement(mt,{defaultValue:S.title,w:"100%",onChange:function(e){A(e,"title")},className:"New_Input"}),c.a.createElement("h1",{style:{marginTop:"10px"}},"\u7b80\u4ecb"),c.a.createElement(mt,{defaultValue:S.desc,type:"textarea",h:"auto",w:"100%",onChange:function(e){A(e,"desc")},className:"New_TextArea"}),c.a.createElement("button",{className:"New_Button",onClick:I},"\u65b0\u5efa"))}var Bt={DOCS:{title:"\u6587\u6863\u7a7a\u95f4",subTitle:"\u63d0\u4f9b\u7ed3\u6784\u5316\u5c55\u793a\u548c\u76ee\u5f55\u7f16\u6392\u529f\u80fd\uff0c\u5728\u7ebf\u5b8c\u6210\u5404\u79cd\u77e5\u8bc6\u521b\u4f5c\u548c\u5206\u7c7b\u3002",img:["/images/doc_preview_1.jpg","/images/doc_preview_2.jpg"],desc:"\u53ef\u7528\u7528\u6765\u8bb0\u5f55\u8bfb\u4e66\u7b14\u8bb0\u3001\u5e2e\u52a9\u624b\u518c\u3001\u65e5\u8bb0\u3001\u4e2a\u4eba\u7b14\u8bb0\u3001\u8bfb\u4e66\u5fc3\u5f97\u7b49\u573a\u666f"}};function Dt(e){var t=e.space,n=Bt[(void 0===t?"":t).scene];return n?c.a.createElement("div",{className:"New_Preview"},c.a.createElement("div",{className:"New_Preview_Header"},c.a.createElement("h2",null,n.title),c.a.createElement("h3",null,n.subTitle)),n.img.map(function(e,t){return c.a.createElement("img",{className:"New_Preview_Img",key:t,src:e})}),c.a.createElement("p",null,"\u4f7f\u7528\u573a\u666f"),c.a.createElement("div",{className:"New_Preview_Desc"},n.desc)):null}n(171);function zt(){var e=Object(l.useState)({scene:"DOCS"}),t=Object(m.a)(e,2),n=t[0],a=t[1];return c.a.createElement("div",{className:"Container"},c.a.createElement(_e,null),c.a.createElement("div",{className:"New_Wrapper"},c.a.createElement("div",{className:"New_Header"},c.a.createElement("h1",null,"\u65b0\u5efa\u77e5\u8bc6\u5e93"),c.a.createElement("p",null,"\u5bf9\u4f60\u7684\u77e5\u8bc6\u8fdb\u884c\u5206\u7c7b\uff0c\u8fd9\u91cc\u53ef\u4e0d\u662f\u5783\u573e\u54df\uff0c\u5206\u597d\u7c7b\u3001\u4e8b\u534a\u529f\u500d!")),c.a.createElement("div",{className:"New_Main"},c.a.createElement(Pt,{space:n,setSpace:a}),c.a.createElement(Dt,{space:n}))))}n(172);function Ft(e){var t=e.style,n=void 0===t?{}:t,a=e.className,i=void 0===a?"":a,r=e.content,o=void 0===r?null:r;return c.a.createElement("div",{className:"container ".concat(i),style:n},c.a.createElement(_e,null),c.a.createElement("div",{className:"content-wrapper_index"},c.a.createElement(ye,null),c.a.createElement("div",{className:"content"},o)),c.a.createElement(we,null))}n(173);function Ht(e){var t=e.className,n=void 0===t?"":t,a=e.placeholder,i=void 0===a?"\u641c\u7d22\u8bd5\u8bd5":a,r=e.onChange,o=void 0===r?function(){}:r,s=e.onEnter,d=void 0===s?function(){}:s,u=Object(l.useRef)(null);return Object(l.useEffect)(function(){u.current.addEventListener("keyup",function(e){13===+e.keyCode&&d(u.current.value)},!1)},[]),c.a.createElement("div",{className:"Search ".concat(n)},c.a.createElement(W,{type:"search"}),c.a.createElement("input",{type:"text",ref:u,placeholder:i,autoComplete:"off",spellCheck:"true",onChange:o,className:"Search_input"}))}n(174);var Ut=z().isMobile;function $t(e){var t=e.onSomeThingClick,n=void 0===t?function(){}:t,a=Object(h.f)(),i=Object(l.useState)([{text:"\u6240\u6709\u6587\u6863",code:"ALL",checked:!0},{text:"\u5df2\u66f4\u65b0\u7684",code:"UPDATED"},{text:"\u672a\u66f4\u65b0\u7684",code:"UN_UPDATED"},{text:"\u5df2\u5220\u9664\u7684",code:"DELETE"}]),r=Object(m.a)(i,2),o=r[0],s=r[1],d=Object(l.useState)(!1),u=Object(m.a)(d,2),p=u[0],f=u[1],v=/^\/docs/g.test(window.location.pathname),b=Object(l.useCallback)(function(e,t){e.checked||(n("TYPE_CHANGE",e),s(o.map(function(e,n){return Object(g.a)({},e,{checked:n===t})})))},[]),_=Object(l.useCallback)(function(e){var t=o.filter(function(e){return e.checked})[0].code;/^\s+$/.test(e)||n("SEARCH_CHANGE",{code:t,q:e})},[]),y=Object(l.useCallback)(function(){if(v)return f(!0);a.push("/new")},[v]),w=c.a.createElement(Ee,{list:o,onTap:b});return Ut?c.a.createElement("div",{className:"table-header-mobile"},c.a.createElement("div",{className:"flex table-header-mobile-head"},c.a.createElement(ze,{defaultCurrent:v?"docs":"space"}),c.a.createElement(Z,{type:"primary",onClick:y},v?"\u65b0\u5efa\u6587\u6863":"\u65b0\u5efa\u77e5\u8bc6\u5e93")),c.a.createElement(Ht,{placeholder:"\u8f93\u5165\u6807\u9898\u5185\u5bb9\u8fdb\u884c\u641c\u7d22",onEnter:_}),p&&c.a.createElement(ve,{onModalChange:function(e){f(e)}})):c.a.createElement("div",{className:"table-header flex "},v&&c.a.createElement(jt,{trigger:"click",overlay:w},c.a.createElement("p",{className:"TableHeader_Title"},o.filter(function(e){return e.checked})[0].text),c.a.createElement(W,{className:"TableHeader_Icon_Down",type:"down"})),!v&&c.a.createElement("p",{className:"TableHeader_Title"},"\u77e5\u8bc6\u5e93"),c.a.createElement("div",{className:"TableHeader_Right flex"},c.a.createElement(Ht,{placeholder:"\u8f93\u5165\u6807\u9898\u5185\u5bb9\u8fdb\u884c\u641c\u7d22",onEnter:_}),c.a.createElement(Z,{type:"primary",onClick:y},v?"\u65b0\u5efa\u6587\u6863":"\u65b0\u5efa\u77e5\u8bc6\u5e93")),p&&c.a.createElement(ve,{onModalChange:function(e){f(e)}}))}n(175);function Wt(e){var t=e.className,n=void 0===t?"":t,a=e.style,i=void 0===a?{}:a,r=e.total,o=void 0===r?0:r,s=e.current,d=void 0===s?1:s,u=e.pageSize,p=void 0===u?10:u,h=e.onChange,f=void 0===h?function(){}:h;if(!o)return null;var g=Object(l.useState)(d),v=Object(m.a)(g,2),b=v[0],_=v[1],y=Object(l.useState)([0,p]),w=Object(m.a)(y,2),E=w[0],k=w[1],x=Object(l.useState)([1===d,1===o]),S=Object(m.a)(x,2),C=S[0],N=S[1],T=new Array(Math.min(E[1]-E[0],o)).fill(E[0]).map(function(e,t){return e+t}).map(function(e){return c.a.createElement("li",{key:e,onClick:function(){O(e+1)},className:"Pagination_Item ".concat(b===e+1?"Pagination_Item_Active":"")},e+1)});T.push(c.a.createElement("li",{className:"Pagination_Item ".concat(C[1]?"Pagination_Item_disable":""),onClick:function(){b>=o||(b+1>=o&&N([!1,!0]),b%E[1]===0&&k([E[1],Math.min(o,E[1]+p)]),f(b+1,E,p),_(b+1))},key:">"},c.a.createElement(W,{type:"right"}))),T.unshift(c.a.createElement("li",{className:"Pagination_Item ".concat(C[0]?"Pagination_Item_disable":""),onClick:function(){b+1<=1&&N([!0,!1]),b<=1||((b-1)%p===0&&k([Math.max(0,E[0]-p),Math.max(p,E[1]-p)]),f(b-1,E,p),_(b-1))},key:"<"},c.a.createElement(W,{type:"left"})));var O=function(e){N(e>=o?[!1,!0]:1===e?[!0,!1]:[!1,!1]),_(e),f(e,E,p)};return c.a.createElement("div",{className:"Pagination ".concat(n),style:i},c.a.createElement("ul",null,T))}n(176);function qt(e){var t=e.columns,n=void 0===t?[]:t,a=e.dataSource,i=e.className,r=void 0===i?"":i,o=e.emptyJsx,s=void 0===o?null:o,l=e.dataSourceKey,d=void 0===l?"key":l,u=e.pagination,p=n.map(function(e){return c.a.createElement("col",{key:e.key,width:e.width})}),h=n.map(function(e){return c.a.createElement("th",{key:e.key},e.title)});if(!Array.isArray(a))return c.a.createElement("div",{className:"Table_loading"},c.a.createElement(W,{type:"loading"}));if(0===a.length)return s||c.a.createElement(Pe,{style:{borderTop:"none"}});var m=a.map(function(e){return c.a.createElement("tr",{key:e[d]},n.map(function(t){return c.a.createElement("td",{key:t.key},t.render?t.render(e):e[t.key])}))});return c.a.createElement("div",null,c.a.createElement("table",{className:"table ".concat(r)},c.a.createElement("colgroup",null,p),c.a.createElement("thead",null,c.a.createElement("tr",{className:"table-header"},h)),c.a.createElement("tbody",{className:"table-tbody"},m)),u&&c.a.createElement(Wt,u))}n(177);function Gt(){var e=Object(l.useState)(null),t=Object(m.a)(e,2),n=t[0],a=t[1],i=[{title:"\u540d\u79f0",key:"name",render:function(e){return c.a.createElement("div",null,e.name)}},{title:"\u7b80\u4ecb",key:"description",render:function(e){return c.a.createElement("div",null,e.description)}},{title:"\u64cd\u4f5c",key:"action",render:function(e){return c.a.createElement(p.b,{to:"/spacedetail?spaceId=".concat(e.space_id),className:"Table_Actions"},"\u7ba1\u7406")}}];function r(){return o.apply(this,arguments)}function o(){return(o=Object(x.a)(k.a.mark(function e(){var t,n,i,r,o,s=arguments;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",e.next=3,O.get("spaces?q=".concat(t));case 3:n=e.sent,i=Object(m.a)(n,2),r=i[0],o=i[1],!r&&o&&Array.isArray(o.spaces)&&o.spaces.length>0?a(o.spaces):(a([]),console.log("[\u83b7\u53d6\u7a7a\u95f4\u5217\u8868\u5931\u8d25] ",r));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(l.useEffect)(function(){r()},[]);return c.a.createElement(Ft,{className:"space",content:c.a.createElement(l.Fragment,null,c.a.createElement($t,{onSomeThingClick:function(e,t){"SEARCH_CHANGE"===e&&r(t.q)}}),c.a.createElement(qt,{dataSourceKey:"id",className:"space-table",columns:i,pagination:{total:Math.ceil((n||[]).length/10),onChange:function(){}},dataSource:n}))})}n(178);function Vt(e){var t=e.className,n=void 0===t?"":t,a=e.style,i=void 0===a?{}:a;return c.a.createElement("ul",{className:"loading ".concat(n),style:i},c.a.createElement("li",{className:"loading-item loading-item-1"}),c.a.createElement("li",{className:"loading-item loading-item-2"}),c.a.createElement("li",{className:"loading-item loading-item-3"}),c.a.createElement("li",{className:"loading-item loading-item-4"}),c.a.createElement("li",{className:"loading-item loading-item-5"}),c.a.createElement("li",{className:"loading-item loading-item-6"}),c.a.createElement("li",{className:"loading-item loading-item-7"}),c.a.createElement("li",{className:"loading-item loading-item-8"}),c.a.createElement("li",{className:"loading-item loading-item-9"}))}var Kt=n(77),Xt=n(38),Zt={0:0,40:1,80:2,120:3};function Yt(){this.draggingFromThisWith=null,this.baselineX=0}Yt.prototype={init:function(e){var t=e.items,n=e.setState;this.chapterBoxRef=document,this.items=[].concat(t),this.removeEvent(),this.onMousemove=this.onMousemove.bind(this),this.setState=n,this.draggableElementsInfo=null},whetherDisplayCaretDown:function(e,t,n){var a=n.filter(function(e){return"META"!==e.type});return t!==a.length-1&&(e.level<a[t+1].level||void 0)},getDragElementPosition:function(){var e=this;return Array.from(document.querySelectorAll(".Chapter_Item")).map(function(t){var n=t.getBoundingClientRect(),a=n.x,i=n.y,r=n.width,o=n.height,s=t.getAttribute("data-tbid"),l=t.getAttribute("class").split(" "),c=parseInt(t.getAttribute("data-offset"));return l.includes("".concat(".Chapter_Item".substr(1),"_0"))&&(e.baselineX=a),{x:a,y:i,id:s,w:r,h:o,offset:40*c,calcSection:function(e){return e>i&&e<=i+o+8}}})},getTargetClassName:function(e){if(!e)return[];var t=e.getAttribute("class");return!t||/^\s+$/.test(t)?this.getTargetClassName(e.parentElement):t.split(" ")},createDashElement:function(e){var t=this;if(this.draggingFromThisWith){var n=e.clientY,a=this.draggableElementsInfo.filter(function(e){return e.calcSection(n)});if(0!==a.length){this.dashElementRemove();var i=a[0],r=i.x,o=i.y,s=i.w,l=i.h,c=this.draggableElementsInfo.findIndex(function(e){return e.id===t.draggingFromThisWith}),d=document.querySelector("".concat(".Chapter_Item","_").concat(this.draggingFromThisWith)).getBoundingClientRect().x-r,u=this.getOffset(d,r)+r,p='<div class="'.concat(".Chapter_Item_Dash".substr(1),'" style="left: ').concat(u,"px; top: ").concat(o,"px; height: ").concat(l,"px; width: ").concat(s,'px"></div>');this.draggableElementsInfo[c].offset=u,$("body").append($(p))}}},getOffset:function(e,t){var n=t+e,a=this.baselineX;return e<0?n>=a&&n<a+40?a-t:n>=a+40&&n<a+80?a+40-t:n>=a+80&&n<a+120?a+80-t:a-t:e<40?0:e<80?40:e<120?80:120},bindEvent:function(){this.chapterBoxRef.addEventListener("mousedown",this.onMousedown.bind(this),!1),this.chapterBoxRef.addEventListener("mouseup",this.onMouseup.bind(this),!1)},removeEvent:function(){this.chapterBoxRef.removeEventListener("mousemove",this.onMousemove),this.dashElementRemove()},dashElementRemove:function(){$(".Chapter_Item_Dash").remove()},onMousemove:function(e){this.createDashElement(e)},onMousedown:function(e){this.draggableElementsInfo||(this.draggableElementsInfo=this.getDragElementPosition()),this.getTargetClassName(e.target).includes(".Chapter_Item".substring(1))&&this.chapterBoxRef.addEventListener("mousemove",this.onMousemove,!1)},onMouseup:function(){this.removeEvent()},onDragUpdate:function(e){},onDragEnd:function(e){if(this.removeEvent(),e.destination){var t=e.source.index,n=e.destination.index,a=this.items,i=this.draggableElementsInfo;if(t!==n||0!==n){var r=this.draggableElementsInfo[n].offset,o=Zt[Math.abs(r-this.baselineX)],s=a[n-1].level,l=a[n].level,c=a[t].level;if(t===n||l===c){if(t===n)if(l<o)a[n].level=Math.min(s+1,o);else if(l===o)a[n].level=l;else{a[n].level=o;var d=this.getSubs(n,l);d.length>0&&d.forEach(function(e){a[a.findIndex(function(t){return t.docId===e.docId})].level--})}else{var u=this.getSubs(t,c),p=this.getSubs(n,l),h=a.splice(t,1),f=Object(m.a)(h,1)[0],g=i.splice(t,1),v=Object(m.a)(g,1)[0];a.splice(n,0,f),i.splice(n,0,v),u.length>0&&(a=this.exchangeSubItemsOrder(u,n,[].concat(a))),p.length>0&&(a=this.exchangeSubItemsOrder(p,t,a))}this.items=a,this.setState({items:a,sourceIndex:t}),this.draggableElementsInfo=null}}}},getSubs:function(e,t){for(var n=[],a=e+1;a<this.items.length;a++){var i=this.items[a];if(i.level<=t)break;n.push(i)}return n},exchangeSubItemsOrder:function(e,t,n){var a=n.slice(0);return e.forEach(function(e){var t=n.findIndex(function(t){return t.docId===e.docId});-1!==t&&a.splice(t,1,null)}),a.splice.apply(a,[Math.min(t+1,a.length),0].concat(Object(ie.a)(e))),a.filter(function(e){return!!e})},syncDraggableElementsInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items,n=[];t.forEach(function(t,a){n.push(Object(g.a)({},e.draggableElementsInfo[a],{id:t.docId}))}),this.draggableElementsInfo=n}};n(179);var Jt=function(){};function Qt(e){var t=e.options,n=e.node,a=e.show;if(!n.current)return null;var i=n.current.getBoundingClientRect(),r=i.width,o=i.height,s=i.left,l=i.top,d={width:"".concat(r,"px"),left:"".concat(s,"px"),top:"".concat(l+o,"px")};return u.a.createPortal(c.a.createElement("div",{className:"select_options animated ".concat(a?"select_options_show":""),style:d},t),document.body)}function en(e){var t=e.defaultKey,n=void 0===t?"":t,a=e.defaultOpen,i=void 0!==a&&a,r=e.placeholder,o=void 0===r?"\u8bf7\u9009\u62e9":r,s=e.lists,d=void 0===s?[]:s,u=e.className,p=void 0===u?"":u,h=e.style,f=void 0===h?{}:h,g=e.onSelect,v=void 0===g?Jt:g,b=Object(l.useRef)(null),_=Object(l.useState)(i),y=Object(m.a)(_,2),w=y[0],E=y[1],k=Object(l.useState)(n),x=Object(m.a)(k,2),S=x[0],C=x[1],N=d.map(function(e){return c.a.createElement("div",{onClick:function(t){T(t,e)},key:e.id,className:"select_option ".concat(e.id===S?"select_option_selected":"")},e.render?e.render(e):e.text)}),T=Object(l.useCallback)(function(e,t){C(t.id),E(!1),v(e,t)},[]),O=Object(l.useCallback)(function(){E(!w)},[w]),A=(d.find(function(e){return e.id===S})||{}).text,I=void 0===A?"":A;return c.a.createElement(l.Fragment,null,c.a.createElement("div",{className:"Select flex ".concat(p),style:f,ref:b,onClick:O},c.a.createElement("span",{className:I?"":"select_placeholder"},I||o),c.a.createElement(W,{className:"select_arrow",type:"right"})),c.a.createElement(Qt,{node:b,show:w,options:N}))}var tn=Object(l.createContext)(),nn={catalog:[],docs:[]};function an(e,t){switch(t.type){case"UPDATE_CATALOG":return Object(g.a)({},e,t.payload);default:return e}}n(180);var rn=[{id:"doc",text:"\u65b0\u6587\u6863"},{id:"empty_node",text:"\u7a7a\u8282\u70b9(\u53ef\u7528\u4f5c\u76ee\u5f55)"}];function on(e){var t=e.position,n=void 0===t?{}:t,a=n.top,i=n.left,r=n.index,o=n.level,s=L().spaceId,d=void 0===s?"":s,u=Object(l.useState)({visible:!1}),p=Object(m.a)(u,2),h=p[0],f=p[1],v=Object(l.useState)("doc"),b=Object(m.a)(v,2),_=b[0],y=b[1],w=Object(l.useContext)(tn),E=w.info,S=E.catalog,C=void 0===S?[]:S,N=E.docs,T=w.updateCatalog,O=Object(l.useCallback)(function(){f(Object(g.a)({},h,{visible:!0}))},[]),A=Object(l.useCallback)(function(){var e=(h.value||"").trim();ue({space_id:d,scene:_,title:e},function(){var t=Object(x.a)(k.a.mark(function t(n){var a,i;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.docId){t.next=3;break}return t.abrupt("return");case 3:f(Object(g.a)({},h,{visible:!1})),(i=C.slice(1)).splice(r+1,0,{docId:a,status:"1",type:_.toLocaleUpperCase(),level:parseInt(o)}),T({catalog:[C[0]].concat(Object(ie.a)(i)),docs:[].concat(Object(ie.a)(N),[{doc_id:a,title:e,space_id:d}])}),he({spaceId:d,catalog:[C[0]].concat(Object(ie.a)(i))});case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},[C,r,o,_,h.value]),I=Object(l.useCallback)(function(e,t){y(t.id)},[]),j=Object(l.useCallback)(function(e){f(Object(g.a)({},h,{value:e.currentTarget.value}))},[h]);return c.a.createElement(l.Fragment,null,c.a.createElement("div",{className:"Catalog_Add flex",style:{top:"".concat(a,"px"),left:"".concat(i,"px")}},c.a.createElement("img",{onClick:O,src:"/images/add.svg"}),c.a.createElement("img",{src:"/images/cursor.svg"})),c.a.createElement(Q,{title:"\u6dfb\u52a0\u8282\u70b9",subTitle:"\u4f1a\u5c06\u8be5\u8282\u70b9\u63d2\u5165\u5230\u5149\u6807\u4f4d\u7f6e",visible:h.visible,onCancel:function(){return f(Object(g.a)({},h,{visible:!1}))},onConfirm:A},c.a.createElement("div",{className:"insert_catalog_modal"},c.a.createElement("div",{className:"insert_catalog_label"},"\u7c7b\u578b"),c.a.createElement(en,{defaultKey:"doc",onSelect:I,lists:rn}),c.a.createElement("div",{className:"insert_catalog_label"},"\u6807\u9898"),c.a.createElement(mt,{h:32,onChange:j,placeholder:"\u65e0\u6807\u9898"}),c.a.createElement("div",{className:"insert_tips"},"doc"===_?"\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6587\u6863\u5e76\u8bbe\u7f6e\u5176\u76ee\u5f55\u5c42\u7ea7\u4e3a\u5f53\u524d\u8282\u70b9\u4f4d\u7f6e":"\u7a7a\u8282\u76f8\u5f53\u4e8e\u76ee\u5f55\uff0c\u53ef\u4ee5\u7528\u4e8e\u7ec4\u7ec7\u5176\u4ed6\u8282\u70b9"))))}var sn=new Yt;function ln(e,t,n){for(var a=[],i=t;i<e.length&&e[i].level>n;i++)a.push(e[i]);return a}var cn=[{text:"\u5220\u9664",icon:"delete",key:"delete"},{text:"\u7f16\u8f91",icon:"edit",key:"edit"}];function dn(){var e=Object(l.useContext)(tn),t=e.info,n=t.catalog,a=t.docs,i=e.updateCatalog,r=Object(l.useState)({items:n.slice(1)}),o=Object(m.a)(r,2),s=o[0],d=o[1],u=Object(l.useState)({}),p=Object(m.a)(u,2),h=p[0],f=p[1];Object(l.useEffect)(function(){var e=Object(Kt.a)(n),t=e[0],a=e.slice(1);return sn.init({items:a,setState:function(e){var n=e.items,a=e.sourceIndex;d({items:n}),v(n[a],a,n),i({catalog:[t].concat(Object(ie.a)(n))})}}),d({items:a}),v(a[0],0,a),sn.bindEvent(),function(){return sn.removeEvent()}},[n.length]);var v=Object(l.useCallback)(function(e,t,n){if(e){var a=Math.min(e.level,3),i=n[t+1];i&&i.level-a===1&&(a=i.level),f({left:40*a-40,top:44*(t+1)+16*t+8,index:t,level:a})}},[]);if(!n||0===n.length||!a||0===a.length)return null;return c.a.createElement(l.Fragment,null,c.a.createElement(Xt.a,{onDragUpdate:sn.onDragUpdate.bind(sn),onDragEnd:sn.onDragEnd.bind(sn)},c.a.createElement(Xt.c,{droppableId:"droppable"},function(e,t){return sn.draggingFromThisWith=t.draggingFromThisWith||0,c.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef,className:"chapter-drop__box"}),c.a.createElement(on,{position:h}),s.items.map(function(e,t){var i=a.find(function(t){return t.doc_id===e.docId})||{},r="Chapter_Item Chapter_Item_".concat(e.docId);if(r+=" Chapter_Item_".concat(Math.min(e.level,3)),r+="".concat("0"===i.status?" chapter-item__disabled":""),I(i))return null;var o=sn.whetherDisplayCaretDown(e,t,s.items);return c.a.createElement(Xt.b,{key:e.docId,draggableId:String(e.docId),index:t},function(a){return c.a.createElement("div",Object.assign({onClick:function(){v(e,t,s.items)},className:r,"data-tbid":e.docId,"data-offset":Math.min(e.level,3)||0,ref:a.innerRef},a.draggableProps,a.dragHandleProps,{style:(l=a.draggableProps.style,Object(g.a)({},l,{transitionDuration:"0"}))}),c.a.createElement("h3",null,o&&c.a.createElement(W,{type:"caret-down"}),i.title),c.a.createElement("div",{className:"chapter-item__info"},c.a.createElement("span",null,Oe(i.updated_at_timestamp),"\u66f4\u65b0"),c.a.createElement(V,{className:"chapter-item__setting",content:c.a.createElement(Ee,{style:{boxShadow:"none",padding:0},onTap:function(e,t,a){!function(e,t,n,a){var i=e.key,r=t.doc_id,o=t.space_id;n.stopPropagation(),"edit"===i?window.location.href="/simditor/".concat(r,"/?spaceId=").concat(o):"delete"===i&&Q.confirm({title:"\u786e\u8ba4\u5220\u9664\u8be5\u8282\u70b9\u5417\uff1fQAQ",subTitle:"\u5982\u679c\u8be5\u8282\u70b9\u4e0b\u6709\u5b50\u8282\u70b9\uff0c\u4f1a\u88ab\u4e00\u5e76\u5220\u9664\u3002\u8bf7\u614e\u91cd\u3002",onOk:function(){var e=Object(x.a)(k.a.mark(function e(){var t,n,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.findIndex(function(e){return e.docId===r}),n=a.find(function(e){return e.docId===r}),i=ln(a,t+1,n.level).concat([{docId:r}]).map(function(e){return e.docId}).join(","),e.next=5,ce({docId:i,spaceId:o});case 5:e.sent?window.location.reload():console.log("[\u5220\u9664\u5931\u8d25]");case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()})}(e,i,a,n)},list:cn})},c.a.createElement(W,{type:"ellipsis"}))));var l})}),e.placeholder)})))}var un=z().isMobile;function pn(e){var t=e.userInfo,n=void 0===t?{}:t,a=e.space,i=void 0===a?{}:a,r=Object(l.useContext)(tn).info.catalog,o=Object(l.useState)(!1),s=Object(m.a)(o,2),d=s[0],u=s[1],p=Object(h.f)(),f=window.location,g=f.pathname,v=f.search,b=L(),_=b.type,y=void 0===_?"":_,w=b.spaceId,E=void 0===w?"":w,S=[{text:"\u7a7a\u95f4",pathname:"/space/"},{text:i.name,pathname:"".concat(g+v)}];un||S.unshift({text:n.name,render:function(e){return e.text}});var C=Object(l.useCallback)(function(){var e=Object(x.a)(k.a.mark(function e(t){var n,a,i,r,o,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.spaceId,a=t.catalog,e.next=3,he({spaceId:n,catalog:a});case 3:i=e.sent,r=Object(m.a)(i,2),o=r[0],(s=r[1])&&"OK"===s.STATUS?p.push("/spacedetail?spaceId=".concat(n)):console.log("[\u76ee\u5f55\u66f4\u65b0\u5931\u8d25 ]",o);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[]),N=Object(l.useCallback)(function(){var e=Object(x.a)(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,ue(t,function(){var e=Object(x.a)(k.a.mark(function e(t){var n,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.docId,a=t.spaceId,!n||!a){e.next=7;break}return e.next=4,P();case 4:p.push("/simditor/".concat(n,"?spaceId=").concat(a)),e.next=8;break;case 7:console.log("[\u521b\u5efa\u6587\u6863\u51fa\u9519] ");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 3:u(!1);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[]);return c.a.createElement("div",{className:"chapter-header flex"},c.a.createElement($e,{crumbs:S}),c.a.createElement("div",{className:"flex"},c.a.createElement(Z,{content:"\u65b0\u5efa\u6587\u6863",loading:d,onClick:function(){N({space_id:E})}}),un?null:"toc"===y.toLocaleLowerCase()?c.a.createElement(Z,{content:"\u66f4\u65b0",disabled:!1,style:{marginLeft:"20px"},onClick:function(){return C({spaceId:E,catalog:r})},type:"primary"}):c.a.createElement(Z,{content:"\u7f16\u6392\u76ee\u5f55",style:{marginLeft:"20px"},link:{to:"/spacedetail?spaceId=".concat(E,"&type=toc"),target:"blank"},disabled:r.length<2})))}var hn=z().isMobile;function mn(){var e=Object(l.useContext)(tn).info,t=e.catalog,n=void 0===t?[]:t,a=e.docs,i=void 0===a?[]:a,r=Object(l.useState)([]),o=Object(m.a)(r,2),s=o[0],d=o[1],u=Object(l.useCallback)(function(e,t,n){ge({trees:e,item:t,index:n},function(e){d(e)})},[]);return Object(l.useEffect)(function(){d(fe(n.slice(1)))},[n]),0===s.length?null:c.a.createElement("div",null,s.map(function(e,t){var n=i.find(function(t){return t.doc_id===e.docId})||{},a=e.children.length>0,r="0"===e.status,o="EMPTY_NODE"===e.type,l="chapter-item flex ";return l+="".concat(e.open?"chapter-item_Open":""," "),l+="".concat(a?"chapter-item_Parent":""," "),l+="".concat(r?"chapter-item_Disabeld":""),l=$.trim(l),I(n)?null:c.a.createElement("div",{key:e.docId,style:{marginLeft:"".concat(40*Math.min(e.level,3),"px")},className:l},c.a.createElement("div",{className:"chapter-item_name flex ellipsis"},a&&c.a.createElement(W,{onClick:function(){u(s,e,t)},type:"caret-down"}),r||o?c.a.createElement("span",null,n.title):c.a.createElement(p.b,{className:"ellipsis",to:"".concat(M(n.url).pathname),target:"blank"},n.title)),c.a.createElement(Xe,{className:"chapter-item_update flex",tips:"\u66f4\u65b0\u65f6\u95f4"},hn?"".concat(Oe(n.draft_update_at),"\u66f4\u65b0"):j(n.draft_update_at)))}))}n(216);function fn(e){var t=e.spaceInfo,n=void 0===t?{}:t,a=e.userInfo,i=void 0===a?{}:a,r=Object(l.useReducer)(an,nn),o=Object(m.a)(r,2),s=o[0],d=o[1],u=Object(l.useState)([]),p=Object(m.a)(u,2),h=p[0],f=p[1],g=L().type,v=void 0===g?"":g,b=function(e){d({type:"UPDATE_CATALOG",payload:e})};return Object(l.useEffect)(function(){try{var e=JSON.parse(n.space.catalog);b({catalog:e,docs:n.docs}),f(e)}catch(t){}},[n.space]),c.a.createElement(tn.Provider,{value:{info:s,updateCatalog:b}},c.a.createElement("div",{className:"Chapter"},c.a.createElement(pn,{space:n.space,userInfo:i}),"toc"===v.toLocaleLowerCase()?c.a.createElement(dn,null):c.a.createElement(mn,{catalog:h,docs:n.docs})))}n(217);var gn=z().isMobile;function vn(){var e=Object(l.useState)({docs:[],space:{}}),t=Object(m.a)(e,2),n=t[0],a=t[1],i=Object(l.useState)(!1),r=Object(m.a)(i,2),o=r[0],s=r[1],d=Object(l.useContext)(f).userInfo,u=L().spaceId,p=void 0===u?"":u,h=Object(l.useCallback)(Object(x.a)(k.a.mark(function e(){var t,n,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,O.get("space/docs?space_id=".concat(p));case 3:t=e.sent,n=Object(m.a)(t,2),i=n[1],s(!1),a({docs:R(i,["docs"],[]),space:R(i,["space"],{})});case 8:case"end":return e.stop()}},e)})),[]);return Object(l.useEffect)(function(){h()},[]),c.a.createElement(l.Fragment,null,c.a.createElement(_e,{className:"space_detail_header"}),c.a.createElement("div",{className:"space-detail".concat(gn?" space-detail_mobile":"")},c.a.createElement("h1",null,n.space.name),c.a.createElement("h4",null,n.space.description),c.a.createElement("img",{src:d.avatar,alt:"\u5934\u50cf"}),o?c.a.createElement(Vt,{className:"space_detail_loading"}):c.a.createElement(fn,{userInfo:d,spaceInfo:n})),c.a.createElement(we,null))}n(218);function bn(e){var t,n=e.docInfo,a=void 0===n?{}:n,i=a.user,r=a.space,o=a.title,s=a.updated_at_timestamp,d=a.cover,u=a.abstract,m=void 0===u?"":u,f="docItem ".concat(d?"docItem_has_cover":""),g=Object(h.f)(),v=Object(l.useCallback)(function(e){g.push("/article/".concat(e.doc_id,"?spaceId=").concat(e.space_id))},[]);return c.a.createElement("div",{className:f,onClick:function(){v(a)}},c.a.createElement("div",{className:"docItem_content"},c.a.createElement("div",{className:"docItem_content_left"},c.a.createElement("h4",null,o),c.a.createElement("p",null,m)),d&&c.a.createElement("img",{className:"docItem_content_img",src:d})),c.a.createElement("div",{className:"docItem_meta"},"0"===(t=a).status?c.a.createElement(Qe,{color:"rgb(255, 85, 0)"},"\u5df2\u5220\u9664"):t.markdown_draft||t.title_draft?c.a.createElement(Qe,null,"\u672a\u66f4\u65b0"):c.a.createElement(Qe,{color:"#25b864"},"\u5df2\u66f4\u65b0"),c.a.createElement("span",{className:"ellipsis"},i.name),c.a.createElement("span",null,"\u53d1\u5e03\u4e8e"),c.a.createElement(p.b,{className:"ellipsis",to:"/article/".concat(a.doc_id,"?spaceId=").concat(a.space_id)},r.name),c.a.createElement("span",null,j(s,"simple"))))}n(219);var _n=ae(),yn=z().isMobile;function wn(){return(wn=Object(x.a)(k.a.mark(function e(t,n){var a,i,r,o,s,l;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.doc_id,i=t.space.space_id,e.next=3,O.post("/doc/update",{status:"1",doc_id:a,space_id:i});case 3:r=e.sent,o=Object(m.a)(r,2),s=o[0],l=o[1],!s&&l&&"OK"===l.STATUS?n.push("/article/".concat(a,"?spaceId=").concat(i)):(_n.error({content:"\u7cfb\u7edf\u5f00\u5c0f\u5dee\u5566\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"}),console.log("[\u6062\u590d\u6587\u6863\u5931\u8d25] ",s));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function En(e,t,n,a){return"0"===e.status?c.a.createElement("div",{className:"Doc_Action"},c.a.createElement("span",{onClick:function(){!function(e,t){wn.apply(this,arguments)}(e,n)},style:{color:"rgb(37, 184, 100)",marginRight:"10px"}},"\u6062\u590d"),c.a.createElement("span",{onClick:function(){a("thorough",e)}},"\u5f7b\u5e95\u5220\u9664")):e.title_draft||e.markdown_draft?c.a.createElement(p.b,{className:"Table_Actions",to:"/simditor/".concat(e.doc_id,"?spaceId=").concat(e.space_id)},"\u66f4\u65b0"):c.a.createElement("div",{className:"flex",style:{width:"100px"}},c.a.createElement(p.b,{className:"Table_Actions",to:"/article"+e.url.split("article")[1]},"\u67e5\u770b"),c.a.createElement(V,{content:(i=t,r=e,c.a.createElement(Ee,{className:"Docs_operations",onTap:i,list:[{text:"\u7f16\u8f91",key:"editor",docInfo:r},{text:"\u5220\u9664",key:"delete",docInfo:r}]}))},c.a.createElement(W,{type:"ellipsis",className:"Space_Operation_Icon Table_Actions"})));var i,r}function kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return yn?t?c.a.createElement(W,{className:"docs_m_loading",type:"loading"}):e&&0!==e.length?e.map(function(e){return c.a.createElement(bn,{docInfo:e,key:e.doc_id})}):c.a.createElement("span",{className:"docs_m_empty"},"\u6682\u65e0\u6570\u636e"):null}function xn(){var e=Object(l.useState)(null),t=Object(m.a)(e,2),n=t[0],a=t[1],i=Object(l.useState)(!1),r=Object(m.a)(i,2),o=r[0],s=r[1],d=Object(l.useState)(!1),u=Object(m.a)(d,2),p=u[0],f=u[1],g=Object(l.useState)(1),v=Object(m.a)(g,2),b=v[0],_=v[1],y=Object(l.useState)(!1),w=Object(m.a)(y,2),E=w[0],S=w[1],C=Object(h.f)(),N=[{title:"\u540d\u79f0",key:"title",render:function(e){return c.a.createElement("div",{className:"docs_name"},e.title)}},{title:"\u72b6\u6001",key:"status",render:function(e){return"0"===e.status?c.a.createElement(Qe,{color:"rgb(255, 85, 0)"},"\u5df2\u5220\u9664"):e.markdown_draft||e.title_draft?c.a.createElement(Qe,null,"\u672a\u66f4\u65b0"):c.a.createElement(Qe,{color:"#25b864"},"\u5df2\u66f4\u65b0")}},{title:"\u5f52\u5c5e",key:"space",render:function(e){return c.a.createElement("div",null,e.space&&e.space.name)}},{title:"\u6700\u540e\u7f16\u8f91",key:"updated_at",render:function(e){return c.a.createElement("div",{style:{width:"156px"}},j(e.updated_at))}},{title:"\u7f16\u8f91",key:"url",render:function(e){return En(e,L,C,I)}}];function T(){return A.apply(this,arguments)}function A(){return(A=Object(x.a)(k.a.mark(function e(){var t,n,i,r,o,s,l,c,d,u,p,h=arguments;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},n=t.type,i=void 0===n?"ALL":n,r=t.q,o=void 0===r?"":r,s=t.page,l=void 0===s?"":s,S(!0),e.next=4,O.get("docs?q=".concat(encodeURIComponent(o),"&type=").concat(i.toLocaleLowerCase()).concat(l));case 4:c=e.sent,d=Object(m.a)(c,2),u=d[0],p=d[1],S(!1),!u&&p&&Array.isArray(p)&&p.length>0?a(p):(console.log("[\u83b7\u53d6\u6587\u6863\u5217\u8868\u5931\u8d25] ",u),a([]));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(){return R.apply(this,arguments)}function R(){return(R=Object(x.a)(k.a.mark(function e(){var t,i,r,o,s,l,c,d=arguments;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:"",i=d.length>1?d[1]:void 0,r=i.doc_id,o=i.space_id,s=i.title,c=(l="thorough"===t)?ce:se,e.next=7,c({docId:r,spaceId:o});case 7:if(!e.sent){e.next=14;break}return a(n.map(function(e){return e.doc_id===r&&(l?e=null:e.status="0"),e}).filter(function(e){return e})),e.next=12,re({docId:r,spaceId:o,docTitle:s,type:l?"PhysicalDeleteEdit":"LogicalDeleteEdit"});case 12:e.next=15;break;case 14:_n.error({content:"\u7cfb\u7edf\u5f00\u5c0f\u5dee\u5566\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"});case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}var L=Object(l.useCallback)(function(e){var t=e.key,n=e.docInfo;"delete"===t&&(s(!0),f(n)),"editor"===t&&C.push("/simditor/".concat(n.doc_id,"?spaceId=").concat(n.space_id))},[]),M=Object(l.useCallback)(function(e,t){var n=t.code,a=t.q;"TYPE_CHANGE"===e&&T({type:n}),"SEARCH_CHANGE"===e&&T({type:n,q:a})},[]);Object(l.useEffect)(function(){T()},[]);return c.a.createElement(Ft,{className:"docs",content:c.a.createElement(l.Fragment,null,c.a.createElement($t,{onSomeThingClick:M}),kn(n,E),!yn&&c.a.createElement(qt,{dataSourceKey:"id",className:"space-table",columns:N,pagination:{total:Math.ceil((n||[]).length/10),onChange:function(e){_(e)}},dataSource:Array.isArray(n)?n.slice(10*(b-1),10+10*(b-1)):null}),c.a.createElement(Q,{subTitle:"\u786e\u8ba4\u79fb\u52a8\u8be5\u6587\u6863\u5230\u56de\u6536\u7ad9\uff1f",title:"\u79fb\u5230\u56de\u6536\u7ad9",onCancel:function(){return s(!1)},onConfirm:function(){I("",p),s(!1)},confirmText:"\u786e\u8ba4\u5220\u9664",visible:o},"\u79fb\u52a8\u5230\u56de\u6536\u7ad9\u540e\uff0c\u6587\u6863\u5217\u8868\u9875\u64cd\u4f5c\u6062\u590d"))})}n(220);var Sn=function(e,t,n){return function(){return c.a.createElement(U,{title:n,component:e,pathname:t})}},Cn=function(e){function t(){return Object(a.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidCatch",value:function(e){console.log("[\u53d1\u751f\u8bed\u6cd5\u9519\u8bef]",e)}},{key:"render",value:function(){return c.a.createElement(b,null,c.a.createElement(w,null,c.a.createElement(p.a,null,c.a.createElement(h.b,{exact:!0,path:"/(index|)",component:Sn(Ue,"/","\u5de5\u4f5c\u53f0 \xb7 \u4e00\u65e5\u4e00\u8bb0")}),c.a.createElement(h.b,{path:"/simditor/:id",component:Sn(It,"/simditor/:id","\u6587\u6863 \xb7 Simditor")}),c.a.createElement(h.b,{path:"/article/:id",component:Sn(pt,"/article/:id","\u6587\u6863 \xb7 \u4e00\u65e5\u4e00\u8bb0")}),c.a.createElement(h.b,{path:"/new/",component:Sn(zt,"/new/","\u65b0\u5efa\u7a7a\u95f4 \xb7 \u4e00\u65e5\u4e00\u8bb0")}),c.a.createElement(h.b,{path:"/space/",exact:!0,component:Sn(Gt,"/space/","\u7a7a\u95f4 \xb7 \u4e00\u65e5\u4e00\u8bb0")}),c.a.createElement(h.b,{path:"/spacedetail/",exact:!0,component:Sn(vn,"/spacedetail/","\u7a7a\u95f4 \xb7 \u4e00\u65e5\u4e00\u8bb0")}),c.a.createElement(h.b,{path:"/docs/",component:Sn(xn,"/docs/","\u6587\u6863 \xb7 \u4e00\u65e5\u4e00\u8bb0")}),c.a.createElement(h.b,{exact:!0,path:"/(login|register)",component:_t}))))}}]),t}(c.a.Component);u.a.render(c.a.createElement(Cn,null),document.getElementById("root"))}]),[[84,1,2]]]);
//# sourceMappingURL=main.7da48dae.chunk.js.map